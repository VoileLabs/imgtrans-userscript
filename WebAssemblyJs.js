var WebAssemblyJs=function(){"use strict";function ye(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var a=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return t[n]}})}),r}function O(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?O=function(r){return typeof r}:O=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},O(t)}function J(t){return function(e){return e.type===t}}function K(t){return function(e){return function(){if(e.type!==t)throw new Error("n.type === t error: unknown")}()}}function Sa(t,e,r){if(t!=null&&typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+O(t)||"unknown"));if(!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof fields === "object" && typeof fields.length !== "undefined" error: unknown');var n={type:"Module",id:t,fields:e};return typeof r<"u"&&(n.metadata=r),n}function Li(t,e,r,n){if(!(O(t)==="object"&&typeof t.length<"u"))throw new Error('typeof sections === "object" && typeof sections.length !== "undefined" error: unknown');if(e!=null&&!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof functionNames === "object" && typeof functionNames.length !== "undefined" error: unknown');if(r!=null&&!(O(r)==="object"&&typeof r.length<"u"))throw new Error('typeof localNames === "object" && typeof localNames.length !== "undefined" error: unknown');if(n!=null&&!(O(n)==="object"&&typeof n.length<"u"))throw new Error('typeof producers === "object" && typeof producers.length !== "undefined" error: unknown');var a={type:"ModuleMetadata",sections:t};return typeof e<"u"&&e.length>0&&(a.functionNames=e),typeof r<"u"&&r.length>0&&(a.localNames=r),typeof n<"u"&&n.length>0&&(a.producers=n),a}function _l(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+O(t)||"unknown"));var e={type:"ModuleNameMetadata",value:t};return e}function Ai(t,e){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+O(t)||"unknown"));if(typeof e!="number")throw new Error('typeof index === "number" error: '+("Argument index must be of type number, given: "+O(e)||"unknown"));var r={type:"FunctionNameMetadata",value:t,index:e};return r}function Ti(t,e,r){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+O(t)||"unknown"));if(typeof e!="number")throw new Error('typeof localIndex === "number" error: '+("Argument localIndex must be of type number, given: "+O(e)||"unknown"));if(typeof r!="number")throw new Error('typeof functionIndex === "number" error: '+("Argument functionIndex must be of type number, given: "+O(r)||"unknown"));var n={type:"LocalNameMetadata",value:t,localIndex:e,functionIndex:r};return n}function Pi(t,e){if(t!=null&&typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+O(t)||"unknown"));if(!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof blob === "object" && typeof blob.length !== "undefined" error: unknown');var r={type:"BinaryModule",id:t,blob:e};return r}function Oi(t,e){if(t!=null&&typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+O(t)||"unknown"));if(!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof string === "object" && typeof string.length !== "undefined" error: unknown');var r={type:"QuoteModule",id:t,string:e};return r}function Ze(t,e,r,n){if(typeof e!="number")throw new Error('typeof startOffset === "number" error: '+("Argument startOffset must be of type number, given: "+O(e)||"unknown"));var a={type:"SectionMetadata",section:t,startOffset:e,size:r,vectorOfSize:n};return a}function Bi(t){if(!(O(t)==="object"&&typeof t.length<"u"))throw new Error('typeof producers === "object" && typeof producers.length !== "undefined" error: unknown');var e={type:"ProducersSectionMetadata",producers:t};return e}function xl(t,e,r){if(!(O(t)==="object"&&typeof t.length<"u"))throw new Error('typeof language === "object" && typeof language.length !== "undefined" error: unknown');if(!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof processedBy === "object" && typeof processedBy.length !== "undefined" error: unknown');if(!(O(r)==="object"&&typeof r.length<"u"))throw new Error('typeof sdk === "object" && typeof sdk.length !== "undefined" error: unknown');var n={type:"ProducerMetadata",language:t,processedBy:e,sdk:r};return n}function ji(t,e){if(typeof t!="string")throw new Error('typeof name === "string" error: '+("Argument name must be of type string, given: "+O(t)||"unknown"));if(typeof e!="string")throw new Error('typeof version === "string" error: '+("Argument version must be of type string, given: "+O(e)||"unknown"));var r={type:"ProducerMetadataVersionedName",name:t,version:e};return r}function $a(t,e,r){if(!(O(r)==="object"&&typeof r.length<"u"))throw new Error('typeof instr === "object" && typeof instr.length !== "undefined" error: unknown');var n={type:"LoopInstruction",id:"loop",label:t,resulttype:e,instr:r};return n}function Fa(t,e,r,n){if(typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+O(t)||"unknown"));if(!(O(r)==="object"&&typeof r.length<"u"))throw new Error('typeof args === "object" && typeof args.length !== "undefined" error: unknown');var a={type:"Instr",id:t,args:r};return typeof e<"u"&&(a.object=e),typeof n<"u"&&Object.keys(n).length!==0&&(a.namedArgs=n),a}function Na(t,e,r,n,a){if(!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof test === "object" && typeof test.length !== "undefined" error: unknown');if(!(O(n)==="object"&&typeof n.length<"u"))throw new Error('typeof consequent === "object" && typeof consequent.length !== "undefined" error: unknown');if(!(O(a)==="object"&&typeof a.length<"u"))throw new Error('typeof alternate === "object" && typeof alternate.length !== "undefined" error: unknown');var i={type:"IfInstruction",id:"if",testLabel:t,test:e,result:r,consequent:n,alternate:a};return i}function Ci(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+O(t)||"unknown"));var e={type:"StringLiteral",value:t};return e}function un(t,e){if(typeof t!="number")throw new Error('typeof value === "number" error: '+("Argument value must be of type number, given: "+O(t)||"unknown"));if(typeof e!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+O(e)||"unknown"));var r={type:"NumberLiteral",value:t,raw:e};return r}function Ui(t,e){if(typeof e!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+O(e)||"unknown"));var r={type:"LongNumberLiteral",value:t,raw:e};return r}function Pr(t,e,r,n){if(typeof t!="number")throw new Error('typeof value === "number" error: '+("Argument value must be of type number, given: "+O(t)||"unknown"));if(e!=null&&typeof e!="boolean")throw new Error('typeof nan === "boolean" error: '+("Argument nan must be of type boolean, given: "+O(e)||"unknown"));if(r!=null&&typeof r!="boolean")throw new Error('typeof inf === "boolean" error: '+("Argument inf must be of type boolean, given: "+O(r)||"unknown"));if(typeof n!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+O(n)||"unknown"));var a={type:"FloatLiteral",value:t,raw:n};return e===!0&&(a.nan=!0),r===!0&&(a.inf=!0),a}function La(t,e,r){if(!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof offset === "object" && typeof offset.length !== "undefined" error: unknown');if(!(O(r)==="object"&&typeof r.length<"u"))throw new Error('typeof funcs === "object" && typeof funcs.length !== "undefined" error: unknown');var n={type:"Elem",table:t,offset:e,funcs:r};return n}function Il(t){var e={type:"IndexInFuncSection",index:t};return e}function Aa(t){var e={type:"ValtypeLiteral",name:t};return e}function sn(t,e){var r={type:"TypeInstruction",id:t,functype:e};return r}function ln(t){var e={type:"Start",index:t};return e}function sr(t,e){var r={type:"GlobalType",valtype:t,mutability:e};return r}function qi(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+O(t)||"unknown"));var e={type:"LeadingComment",value:t};return e}function Gi(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+O(t)||"unknown"));var e={type:"BlockComment",value:t};return e}function Ta(t,e,r){var n={type:"Data",memoryIndex:t,offset:e,init:r};return n}function fn(t,e,r){if(!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof init === "object" && typeof init.length !== "undefined" error: unknown');var n={type:"Global",globalType:t,init:e,name:r};return n}function cn(t,e,r,n){if(e.type!=="Limit")throw new Error('limits.type === "Limit" error: '+("Argument limits must be of type Limit, given: "+e.type||"unknown"));if(n!=null&&!(O(n)==="object"&&typeof n.length<"u"))throw new Error('typeof elements === "object" && typeof elements.length !== "undefined" error: unknown');var a={type:"Table",elementType:t,limits:e,name:r};return typeof n<"u"&&n.length>0&&(a.elements=n),a}function Pa(t,e){var r={type:"Memory",limits:t,id:e};return r}function Oa(t,e){var r={type:"FuncImportDescr",id:t,signature:e};return r}function dn(t,e,r){if(typeof t!="string")throw new Error('typeof module === "string" error: '+("Argument module must be of type string, given: "+O(t)||"unknown"));if(typeof e!="string")throw new Error('typeof name === "string" error: '+("Argument name must be of type string, given: "+O(e)||"unknown"));var n={type:"ModuleImport",module:t,name:e,descr:r};return n}function vn(t,e){var r={type:"ModuleExportDescr",exportType:t,id:e};return r}function pn(t,e){if(typeof t!="string")throw new Error('typeof name === "string" error: '+("Argument name must be of type string, given: "+O(t)||"unknown"));var r={type:"ModuleExport",name:t,descr:e};return r}function jt(t,e,r){if(typeof t!="number")throw new Error('typeof min === "number" error: '+("Argument min must be of type number, given: "+O(t)||"unknown"));if(e!=null&&typeof e!="number")throw new Error('typeof max === "number" error: '+("Argument max must be of type number, given: "+O(e)||"unknown"));if(r!=null&&typeof r!="boolean")throw new Error('typeof shared === "boolean" error: '+("Argument shared must be of type boolean, given: "+O(r)||"unknown"));var n={type:"Limit",min:t};return typeof e<"u"&&(n.max=e),r===!0&&(n.shared=!0),n}function yt(t,e){if(!(O(t)==="object"&&typeof t.length<"u"))throw new Error('typeof params === "object" && typeof params.length !== "undefined" error: unknown');if(!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof results === "object" && typeof results.length !== "undefined" error: unknown');var r={type:"Signature",params:t,results:e};return r}function yn(t){if(!(O(t)==="object"&&typeof t.length<"u"))throw new Error('typeof body === "object" && typeof body.length !== "undefined" error: unknown');var e={type:"Program",body:t};return e}function Ee(t,e){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+O(t)||"unknown"));if(e!=null&&typeof e!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+O(e)||"unknown"));var r={type:"Identifier",value:t};return typeof e<"u"&&(r.raw=e),r}function Ba(t,e,r){if(!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof instr === "object" && typeof instr.length !== "undefined" error: unknown');var n={type:"BlockInstruction",id:"block",label:t,instr:e,result:r};return n}function mn(t,e,r){if(e!=null&&!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof instrArgs === "object" && typeof instrArgs.length !== "undefined" error: unknown');var n={type:"CallInstruction",id:"call",index:t};return typeof e<"u"&&e.length>0&&(n.instrArgs=e),typeof r<"u"&&(n.numeric=r),n}function ja(t,e){if(e!=null&&!(O(e)==="object"&&typeof e.length<"u"))throw new Error('typeof intrs === "object" && typeof intrs.length !== "undefined" error: unknown');var r={type:"CallIndirectInstruction",id:"call_indirect",signature:t};return typeof e<"u"&&e.length>0&&(r.intrs=e),r}function Ca(t){if(!(O(t)==="object"&&typeof t.length<"u"))throw new Error('typeof values === "object" && typeof values.length !== "undefined" error: unknown');var e={type:"ByteArray",values:t};return e}function hn(t,e,r,n,a){if(!(O(r)==="object"&&typeof r.length<"u"))throw new Error('typeof body === "object" && typeof body.length !== "undefined" error: unknown');if(n!=null&&typeof n!="boolean")throw new Error('typeof isExternal === "boolean" error: '+("Argument isExternal must be of type boolean, given: "+O(n)||"unknown"));var i={type:"Func",name:t,signature:e,body:r};return n===!0&&(i.isExternal=!0),typeof a<"u"&&(i.metadata=a),i}function zi(t){if(typeof t!="number")throw new Error('typeof target === "number" error: '+("Argument target must be of type number, given: "+O(t)||"unknown"));var e={type:"InternalBrUnless",target:t};return e}function Ri(t){if(typeof t!="number")throw new Error('typeof target === "number" error: '+("Argument target must be of type number, given: "+O(t)||"unknown"));var e={type:"InternalGoto",target:t};return e}function Di(t){if(typeof t!="number")throw new Error('typeof target === "number" error: '+("Argument target must be of type number, given: "+O(t)||"unknown"));var e={type:"InternalCallExtern",target:t};return e}function Vi(){var t={type:"InternalEndAndReturn"};return t}var Hi=J("Module"),Xi=J("ModuleMetadata"),Wi=J("ModuleNameMetadata"),Zi=J("FunctionNameMetadata"),Qi=J("LocalNameMetadata"),Ji=J("BinaryModule"),Ki=J("QuoteModule"),Yi=J("SectionMetadata"),eu=J("ProducersSectionMetadata"),tu=J("ProducerMetadata"),ru=J("ProducerMetadataVersionedName"),lr=J("LoopInstruction"),gn=J("Instr"),bn=J("IfInstruction"),Ua=J("StringLiteral"),Dt=J("NumberLiteral"),wn=J("LongNumberLiteral"),_n=J("FloatLiteral"),nu=J("Elem"),au=J("IndexInFuncSection"),qa=J("ValtypeLiteral"),Ga=J("TypeInstruction"),ou=J("Start"),za=J("GlobalType"),iu=J("LeadingComment"),uu=J("BlockComment"),su=J("Data"),lu=J("Global"),Ra=J("Table"),Da=J("Memory"),xn=J("FuncImportDescr"),fu=J("ModuleImport"),cu=J("ModuleExportDescr"),du=J("ModuleExport"),vu=J("Limit"),In=J("Signature"),pu=J("Program"),En=J("Identifier"),kn=J("BlockInstruction"),Mn=J("CallInstruction"),Va=J("CallIndirectInstruction"),yu=J("ByteArray"),Ha=J("Func"),Xa=J("InternalBrUnless"),Wa=J("InternalGoto"),Za=J("InternalCallExtern"),Qa=J("InternalEndAndReturn"),El=function(e){return Hi(e)||Xi(e)||Wi(e)||Zi(e)||Qi(e)||Ji(e)||Ki(e)||Yi(e)||eu(e)||tu(e)||ru(e)||lr(e)||gn(e)||bn(e)||Ua(e)||Dt(e)||wn(e)||_n(e)||nu(e)||au(e)||qa(e)||Ga(e)||ou(e)||za(e)||iu(e)||uu(e)||su(e)||lu(e)||Ra(e)||Da(e)||xn(e)||fu(e)||cu(e)||du(e)||vu(e)||In(e)||pu(e)||En(e)||kn(e)||Mn(e)||Va(e)||yu(e)||Ha(e)||Xa(e)||Wa(e)||Za(e)||Qa(e)},mu=function(e){return lr(e)||kn(e)||Ha(e)},Ja=function(e){return lr(e)||gn(e)||bn(e)||Ga(e)||kn(e)||Mn(e)||Va(e)},kl=function(e){return gn(e)||Ua(e)||Dt(e)||wn(e)||_n(e)||qa(e)||En(e)},Ml=function(e){return Dt(e)||wn(e)||_n(e)},Sl=function(e){return za(e)||Ra(e)||Da(e)||xn(e)},$l=function(e){return Xa(e)||Wa(e)||Za(e)||Qa(e)},Fl=K("Module"),Nl=K("ModuleMetadata"),Ll=K("ModuleNameMetadata"),Al=K("FunctionNameMetadata"),Tl=K("LocalNameMetadata"),Pl=K("BinaryModule"),Ol=K("QuoteModule"),Bl=K("SectionMetadata"),jl=K("ProducersSectionMetadata"),Cl=K("ProducerMetadata"),Ul=K("ProducerMetadataVersionedName"),ql=K("LoopInstruction"),Gl=K("Instr"),zl=K("IfInstruction"),Rl=K("StringLiteral"),Dl=K("NumberLiteral"),Vl=K("LongNumberLiteral"),Hl=K("FloatLiteral"),Xl=K("Elem"),Wl=K("IndexInFuncSection"),Zl=K("ValtypeLiteral"),Ql=K("TypeInstruction"),Jl=K("Start"),Kl=K("GlobalType"),Yl=K("LeadingComment"),ef=K("BlockComment"),tf=K("Data"),rf=K("Global"),nf=K("Table"),af=K("Memory"),of=K("FuncImportDescr"),uf=K("ModuleImport"),sf=K("ModuleExportDescr"),lf=K("ModuleExport"),ff=K("Limit"),cf=K("Signature"),df=K("Program"),vf=K("Identifier"),pf=K("BlockInstruction"),yf=K("CallInstruction"),mf=K("CallIndirectInstruction"),hf=K("ByteArray"),gf=K("Func"),bf=K("InternalBrUnless"),wf=K("InternalGoto"),_f=K("InternalCallExtern"),xf=K("InternalEndAndReturn"),hu={Module:["Node"],ModuleMetadata:["Node"],ModuleNameMetadata:["Node"],FunctionNameMetadata:["Node"],LocalNameMetadata:["Node"],BinaryModule:["Node"],QuoteModule:["Node"],SectionMetadata:["Node"],ProducersSectionMetadata:["Node"],ProducerMetadata:["Node"],ProducerMetadataVersionedName:["Node"],LoopInstruction:["Node","Block","Instruction"],Instr:["Node","Expression","Instruction"],IfInstruction:["Node","Instruction"],StringLiteral:["Node","Expression"],NumberLiteral:["Node","NumericLiteral","Expression"],LongNumberLiteral:["Node","NumericLiteral","Expression"],FloatLiteral:["Node","NumericLiteral","Expression"],Elem:["Node"],IndexInFuncSection:["Node"],ValtypeLiteral:["Node","Expression"],TypeInstruction:["Node","Instruction"],Start:["Node"],GlobalType:["Node","ImportDescr"],LeadingComment:["Node"],BlockComment:["Node"],Data:["Node"],Global:["Node"],Table:["Node","ImportDescr"],Memory:["Node","ImportDescr"],FuncImportDescr:["Node","ImportDescr"],ModuleImport:["Node"],ModuleExportDescr:["Node"],ModuleExport:["Node"],Limit:["Node"],Signature:["Node"],Program:["Node"],Identifier:["Node","Expression"],BlockInstruction:["Node","Block","Instruction"],CallInstruction:["Node","Instruction"],CallIndirectInstruction:["Node","Instruction"],ByteArray:["Node"],Func:["Node","Block"],InternalBrUnless:["Node","Intrinsic"],InternalGoto:["Node","Intrinsic"],InternalCallExtern:["Node","Intrinsic"],InternalEndAndReturn:["Node","Intrinsic"]},gu=["Module","ModuleMetadata","ModuleNameMetadata","FunctionNameMetadata","LocalNameMetadata","BinaryModule","QuoteModule","SectionMetadata","ProducersSectionMetadata","ProducerMetadata","ProducerMetadataVersionedName","LoopInstruction","Instr","IfInstruction","StringLiteral","NumberLiteral","LongNumberLiteral","FloatLiteral","Elem","IndexInFuncSection","ValtypeLiteral","TypeInstruction","Start","GlobalType","LeadingComment","BlockComment","Data","Global","Table","Memory","FuncImportDescr","ModuleImport","ModuleExportDescr","ModuleExport","Limit","Signature","Program","Identifier","BlockInstruction","CallInstruction","CallIndirectInstruction","ByteArray","Func","InternalBrUnless","InternalGoto","InternalCallExtern","InternalEndAndReturn","Node","Block","Instruction","Expression","NumericLiteral","ImportDescr","Intrinsic"],Ce=_e,Ye=null;try{Ye=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function _e(t,e,r){this.low=t|0,this.high=e|0,this.unsigned=!!r}_e.prototype.__isLong__,Object.defineProperty(_e.prototype,"__isLong__",{value:!0});function Ue(t){return(t&&t.__isLong__)===!0}_e.isLong=Ue;var bu={},wu={};function Vt(t,e){var r,n,a;return e?(t>>>=0,(a=0<=t&&t<256)&&(n=wu[t],n)?n:(r=ve(t,(t|0)<0?-1:0,!0),a&&(wu[t]=r),r)):(t|=0,(a=-128<=t&&t<128)&&(n=bu[t],n)?n:(r=ve(t,t<0?-1:0,!1),a&&(bu[t]=r),r))}_e.fromInt=Vt;function et(t,e){if(isNaN(t))return e?Ht:tt;if(e){if(t<0)return Ht;if(t>=xu)return Su}else{if(t<=-Iu)return Ve;if(t+1>=Iu)return Mu}return t<0?et(-t,e).neg():ve(t%fr|0,t/fr|0,e)}_e.fromNumber=et;function ve(t,e,r){return new _e(t,e,r)}_e.fromBits=ve;var Sn=Math.pow;function Ka(t,e,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return tt;if(typeof e=="number"?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var n;if((n=t.indexOf("-"))>0)throw Error("interior hyphen");if(n===0)return Ka(t.substring(1),e,r).neg();for(var a=et(Sn(r,8)),i=tt,u=0;u<t.length;u+=8){var o=Math.min(8,t.length-u),s=parseInt(t.substring(u,u+o),r);if(o<8){var c=et(Sn(r,o));i=i.mul(c).add(et(s))}else i=i.mul(a),i=i.add(et(s))}return i.unsigned=e,i}_e.fromString=Ka;function it(t,e){return typeof t=="number"?et(t,e):typeof t=="string"?Ka(t,e):ve(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}_e.fromValue=it;var _u=1<<16,If=1<<24,fr=_u*_u,xu=fr*fr,Iu=xu/2,Eu=Vt(If),tt=Vt(0);_e.ZERO=tt;var Ht=Vt(0,!0);_e.UZERO=Ht;var cr=Vt(1);_e.ONE=cr;var ku=Vt(1,!0);_e.UONE=ku;var Ya=Vt(-1);_e.NEG_ONE=Ya;var Mu=ve(-1,2147483647,!1);_e.MAX_VALUE=Mu;var Su=ve(-1,-1,!0);_e.MAX_UNSIGNED_VALUE=Su;var Ve=ve(0,-2147483648,!1);_e.MIN_VALUE=Ve;var T=_e.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*fr+(this.low>>>0):this.high*fr+(this.low>>>0)},T.toString=function(e){if(e=e||10,e<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(Ve)){var r=et(e),n=this.div(r),a=n.mul(r).sub(this);return n.toString(e)+a.toInt().toString(e)}else return"-"+this.neg().toString(e);for(var i=et(Sn(e,6),this.unsigned),u=this,o="";;){var s=u.div(i),c=u.sub(s.mul(i)).toInt()>>>0,f=c.toString(e);if(u=s,u.isZero())return f+o;for(;f.length<6;)f="0"+f;o=""+f+o}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Ve)?64:this.neg().getNumBitsAbs();for(var e=this.high!=0?this.high:this.low,r=31;r>0&&(e&1<<r)==0;r--);return this.high!=0?r+33:r+1},T.isZero=function(){return this.high===0&&this.low===0},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return(this.low&1)===1},T.isEven=function(){return(this.low&1)===0},T.equals=function(e){return Ue(e)||(e=it(e)),this.unsigned!==e.unsigned&&this.high>>>31===1&&e.high>>>31===1?!1:this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(Ue(e)||(e=it(e)),this.eq(e))return 0;var r=this.isNegative(),n=e.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(Ve)?Ve:this.not().add(cr)},T.neg=T.negate,T.add=function(e){Ue(e)||(e=it(e));var r=this.high>>>16,n=this.high&65535,a=this.low>>>16,i=this.low&65535,u=e.high>>>16,o=e.high&65535,s=e.low>>>16,c=e.low&65535,f=0,v=0,I=0,S=0;return S+=i+c,I+=S>>>16,S&=65535,I+=a+s,v+=I>>>16,I&=65535,v+=n+o,f+=v>>>16,v&=65535,f+=r+u,f&=65535,ve(I<<16|S,f<<16|v,this.unsigned)},T.subtract=function(e){return Ue(e)||(e=it(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return tt;if(Ue(e)||(e=it(e)),Ye){var r=Ye.mul(this.low,this.high,e.low,e.high);return ve(r,Ye.get_high(),this.unsigned)}if(e.isZero())return tt;if(this.eq(Ve))return e.isOdd()?Ve:tt;if(e.eq(Ve))return this.isOdd()?Ve:tt;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(Eu)&&e.lt(Eu))return et(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=this.high&65535,i=this.low>>>16,u=this.low&65535,o=e.high>>>16,s=e.high&65535,c=e.low>>>16,f=e.low&65535,v=0,I=0,S=0,oe=0;return oe+=u*f,S+=oe>>>16,oe&=65535,S+=i*f,I+=S>>>16,S&=65535,S+=u*c,I+=S>>>16,S&=65535,I+=a*f,v+=I>>>16,I&=65535,I+=i*c,v+=I>>>16,I&=65535,I+=u*s,v+=I>>>16,I&=65535,v+=n*f+a*c+i*s+u*o,v&=65535,ve(S<<16|oe,v<<16|I,this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(Ue(e)||(e=it(e)),e.isZero())throw Error("division by zero");if(Ye){if(!this.unsigned&&this.high===-2147483648&&e.low===-1&&e.high===-1)return this;var r=(this.unsigned?Ye.div_u:Ye.div_s)(this.low,this.high,e.low,e.high);return ve(r,Ye.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Ht:tt;var n,a,i;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return Ht;if(e.gt(this.shru(1)))return ku;i=Ht}else{if(this.eq(Ve)){if(e.eq(cr)||e.eq(Ya))return Ve;if(e.eq(Ve))return cr;var u=this.shr(1);return n=u.div(e).shl(1),n.eq(tt)?e.isNegative()?cr:Ya:(a=this.sub(e.mul(n)),i=n.add(a.div(e)),i)}else if(e.eq(Ve))return this.unsigned?Ht:tt;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=tt}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),s=o<=48?1:Sn(2,o-48),c=et(n),f=c.mul(e);f.isNegative()||f.gt(a);)n-=s,c=et(n,this.unsigned),f=c.mul(e);c.isZero()&&(c=cr),i=i.add(c),a=a.sub(f)}return i},T.div=T.divide,T.modulo=function(e){if(Ue(e)||(e=it(e)),Ye){var r=(this.unsigned?Ye.rem_u:Ye.rem_s)(this.low,this.high,e.low,e.high);return ve(r,Ye.get_high(),this.unsigned)}return this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return ve(~this.low,~this.high,this.unsigned)},T.and=function(e){return Ue(e)||(e=it(e)),ve(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return Ue(e)||(e=it(e)),ve(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return Ue(e)||(e=it(e)),ve(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return Ue(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?ve(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):ve(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return Ue(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?ve(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):ve(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){return Ue(e)&&(e=e.toInt()),(e&=63)===0?this:e<32?ve(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):e===32?ve(this.high,0,this.unsigned):ve(this.high>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.rotateLeft=function(e){var r;return Ue(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?ve(this.high,this.low,this.unsigned):e<32?(r=32-e,ve(this.low<<e|this.high>>>r,this.high<<e|this.low>>>r,this.unsigned)):(e-=32,r=32-e,ve(this.high<<e|this.low>>>r,this.low<<e|this.high>>>r,this.unsigned))},T.rotl=T.rotateLeft,T.rotateRight=function(e){var r;return Ue(e)&&(e=e.toInt()),(e&=63)===0?this:e===32?ve(this.high,this.low,this.unsigned):e<32?(r=32-e,ve(this.high<<r|this.low>>>e,this.low<<r|this.high>>>e,this.unsigned)):(e-=32,r=32-e,ve(this.low<<r|this.high>>>e,this.high<<r|this.low>>>e,this.unsigned))},T.rotr=T.rotateRight,T.toSigned=function(){return this.unsigned?ve(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:ve(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,r=this.low;return[r&255,r>>>8&255,r>>>16&255,r>>>24,e&255,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,r=this.low;return[e>>>24,e>>>16&255,e>>>8&255,e&255,r>>>24,r>>>16&255,r>>>8&255,r&255]},_e.fromBytes=function(e,r,n){return n?_e.fromBytesLE(e,r):_e.fromBytesBE(e,r)},_e.fromBytesLE=function(e,r){return new _e(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,r)},_e.fromBytesBE=function(e,r){return new _e(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],r)};function eo(t){t=t.toUpperCase();var e=t.indexOf("P"),r,n;e!==-1?(r=t.substring(0,e),n=parseInt(t.substring(e+1))):(r=t,n=0);var a=r.indexOf(".");if(a!==-1){var i=parseInt(r.substring(0,a),16),u=Math.sign(i);i=u*i;var o=r.length-a-1,s=parseInt(r.substring(a+1),16),c=o>0?s/Math.pow(16,o):0;u===0?c===0?r=u:Object.is(u,-0)?r=-c:r=c:r=u*(i+c)}else r=parseInt(r,16);return r*(e!==-1?Math.pow(2,n):1)}function $n(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$n=function(r){return typeof r}:$n=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$n(t)}function Ef(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kf(t,e){if(e&&($n(e)==="object"||typeof e=="function"))return e;if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xe=function(t){Mf(e,t);function e(){return Ef(this,e),kf(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Error);function to(t){return yr(t)?eo(t):vr(t)?t[0]==="-"?-1:1:pr(t)?(t[0]==="-"?-1:1)*(t.includes(":")?parseInt(t.substring(t.indexOf(":")+1),16):4194304):parseFloat(t)}function ro(t){return yr(t)?eo(t):vr(t)?t[0]==="-"?-1:1:pr(t)?(t[0]==="-"?-1:1)*(t.includes(":")?parseInt(t.substring(t.indexOf(":")+1),16):0x8000000000000):yr(t)?eo(t):parseFloat(t)}function dr(t){var e=0;if(yr(t))e=~~parseInt(t,16);else{if($u(t))throw new Error("This number literal format is yet to be implemented.");e=parseInt(t,10)}return e}function no(t){var e=dr(t);if(e<0)throw new xe("Illegal value for u32: "+t);return e}function ao(t){var e;if(yr(t))e=Ce.fromString(t,!1,16);else{if($u(t))throw new Error("This number literal format is yet to be implemented.");e=Ce.fromString(t)}return{high:e.high,low:e.low}}var Sf=/^\+?-?nan/,$f=/^\+?-?inf/;function vr(t){return $f.test(t.toLowerCase())}function pr(t){return Sf.test(t.toLowerCase())}function $u(t){return!yr(t)&&t.toUpperCase().includes("E")}function yr(t){return t.substring(0,2).toUpperCase()==="0X"||t.substring(0,3).toUpperCase()==="-0X"}var Ff=Object.freeze({__proto__:null,parse32F:to,parse64F:ro,parse32I:dr,parseU32:no,parse64I:ao,isInfLiteral:vr,isNanLiteral:pr});function he(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"i32",r=t;if(typeof t=="string"&&(t=t.replace(/_/g,"")),typeof t=="number")return un(t,String(r));switch(e){case"i32":return un(dr(t),String(r));case"u32":return un(no(t),String(r));case"i64":return Ui(ao(t),String(r));case"f32":return Pr(to(t),pr(t),vr(t),String(r));default:return Pr(ro(t),pr(t),vr(t),String(r))}}function Xt(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Fa(t,void 0,e,r)}function Or(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Fa(t,e,r,n)}function Z(t,e,r){var n={start:r,end:e};return t.loc=n,t}function Qe(t,e){return t.raw=e,t}function Fu(t,e){return{id:e,valtype:t}}function ut(t){var e=he(t,"u32");return e}function oo(t){var e=he(t,"u32");return e}function io(){return io=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},io.apply(this,arguments)}function Nf(t,e){var r=t.parentPath;if(r==null)throw new Error("node is root");for(var n=r;e(n)!==!1;){if(n.parentPath==null)return null;n=n.parentPath}return n.node}function Lf(t,e){return Nu(t,e)}function Af(t,e){return Nu(t,e,1)}function Nu(t,e){var r=t.node,n=t.inList,a=t.parentPath,i=t.parentKey,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!n)throw new Error("inList error: insert can only be used for nodes that are within lists");if(a==null)throw new Error("parentPath != null error: Can not remove root node");var o=a.node[i],s=o.findIndex(function(c){return c===r});o.splice(s+u,0,e)}function Tf(t){var e=t.node,r=t.parentKey,n=t.parentPath;if(n==null)throw new Error("parentPath != null error: Can not remove root node");var a=n.node,i=a[r];Array.isArray(i)?a[r]=i.filter(function(u){return u!==e}):delete a[r],e._deleted=!0}function Pf(t){t.shouldStop=!0}function Of(t,e){var r=t.parentPath.node,n=r[t.parentKey];if(Array.isArray(n)){var a=n.findIndex(function(i){return i===t.node});n.splice(a,1,e)}else r[t.parentKey]=e;t.node._deleted=!0,t.node=e}function Bf(t,e){var r=Object.keys(t),n={};return r.forEach(function(a){n[a]=t[a].bind(null,e)}),n}function jf(t){return Bf({findParent:Nf,replaceWith:Of,remove:Tf,insertBefore:Lf,insertAfter:Af,stop:Pf},t)}function Cf(t){var e=io({},t);return Object.assign(e,jf(e)),e}function Uf(t,e){var r=!1;function n(a,i){if(!r){var u=a.node;if(u===void 0){console.warn("traversing with an empty context");return}if(u._deleted!==!0){var o=Cf(a);if(i(u.type,o),o.shouldStop){r=!0;return}Object.keys(u).forEach(function(s){var c=u[s];if(c!=null){var f=Array.isArray(c)?c:[c];f.forEach(function(v){if(typeof v.type=="string"){var I={node:v,parentKey:s,parentPath:o,shouldStop:!1,inList:Array.isArray(c)};n(I,i)}})}})}}}n(t,e)}var Lu=function(){};function ke(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lu,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Lu;Object.keys(e).forEach(function(i){if(!gu.includes(i))throw new Error("Unexpected visitor ".concat(i))});var a={node:t,inList:!1,shouldStop:!1,parentPath:null,parentKey:null};Uf(a,function(i,u){typeof e[i]=="function"&&(r(i,u),e[i](u),n(i,u));var o=hu[i];if(!o)throw new Error("Unexpected node type ".concat(i));o.forEach(function(s){typeof e[s]=="function"&&(r(s,u),e[s](u),n(s,u))})})}function y(t,e){return[t,e]}var z="u32",b="i32",N="i64",j="f32",U="f64",qf=function(e){var r=[e];return r.vector=!0,r},Gf={unreachable:y([],[]),nop:y([],[]),br:y([z],[]),br_if:y([z],[]),br_table:y(qf(z),[]),return:y([],[]),call:y([z],[]),call_indirect:y([z],[])},zf={drop:y([],[]),select:y([],[])},Rf={get_local:y([z],[]),set_local:y([z],[]),tee_local:y([z],[]),get_global:y([z],[]),set_global:y([z],[])},Df={"i32.load":y([z,z],[b]),"i64.load":y([z,z],[]),"f32.load":y([z,z],[]),"f64.load":y([z,z],[]),"i32.load8_s":y([z,z],[b]),"i32.load8_u":y([z,z],[b]),"i32.load16_s":y([z,z],[b]),"i32.load16_u":y([z,z],[b]),"i64.load8_s":y([z,z],[N]),"i64.load8_u":y([z,z],[N]),"i64.load16_s":y([z,z],[N]),"i64.load16_u":y([z,z],[N]),"i64.load32_s":y([z,z],[N]),"i64.load32_u":y([z,z],[N]),"i32.store":y([z,z],[]),"i64.store":y([z,z],[]),"f32.store":y([z,z],[]),"f64.store":y([z,z],[]),"i32.store8":y([z,z],[]),"i32.store16":y([z,z],[]),"i64.store8":y([z,z],[]),"i64.store16":y([z,z],[]),"i64.store32":y([z,z],[]),current_memory:y([],[]),grow_memory:y([],[])},Vf={"i32.const":y([b],[b]),"i64.const":y([N],[N]),"f32.const":y([j],[j]),"f64.const":y([U],[U]),"i32.eqz":y([b],[b]),"i32.eq":y([b,b],[b]),"i32.ne":y([b,b],[b]),"i32.lt_s":y([b,b],[b]),"i32.lt_u":y([b,b],[b]),"i32.gt_s":y([b,b],[b]),"i32.gt_u":y([b,b],[b]),"i32.le_s":y([b,b],[b]),"i32.le_u":y([b,b],[b]),"i32.ge_s":y([b,b],[b]),"i32.ge_u":y([b,b],[b]),"i64.eqz":y([N],[N]),"i64.eq":y([N,N],[b]),"i64.ne":y([N,N],[b]),"i64.lt_s":y([N,N],[b]),"i64.lt_u":y([N,N],[b]),"i64.gt_s":y([N,N],[b]),"i64.gt_u":y([N,N],[b]),"i64.le_s":y([N,N],[b]),"i64.le_u":y([N,N],[b]),"i64.ge_s":y([N,N],[b]),"i64.ge_u":y([N,N],[b]),"f32.eq":y([j,j],[b]),"f32.ne":y([j,j],[b]),"f32.lt":y([j,j],[b]),"f32.gt":y([j,j],[b]),"f32.le":y([j,j],[b]),"f32.ge":y([j,j],[b]),"f64.eq":y([U,U],[b]),"f64.ne":y([U,U],[b]),"f64.lt":y([U,U],[b]),"f64.gt":y([U,U],[b]),"f64.le":y([U,U],[b]),"f64.ge":y([U,U],[b]),"i32.clz":y([b],[b]),"i32.ctz":y([b],[b]),"i32.popcnt":y([b],[b]),"i32.add":y([b,b],[b]),"i32.sub":y([b,b],[b]),"i32.mul":y([b,b],[b]),"i32.div_s":y([b,b],[b]),"i32.div_u":y([b,b],[b]),"i32.rem_s":y([b,b],[b]),"i32.rem_u":y([b,b],[b]),"i32.and":y([b,b],[b]),"i32.or":y([b,b],[b]),"i32.xor":y([b,b],[b]),"i32.shl":y([b,b],[b]),"i32.shr_s":y([b,b],[b]),"i32.shr_u":y([b,b],[b]),"i32.rotl":y([b,b],[b]),"i32.rotr":y([b,b],[b]),"i64.clz":y([N],[N]),"i64.ctz":y([N],[N]),"i64.popcnt":y([N],[N]),"i64.add":y([N,N],[N]),"i64.sub":y([N,N],[N]),"i64.mul":y([N,N],[N]),"i64.div_s":y([N,N],[N]),"i64.div_u":y([N,N],[N]),"i64.rem_s":y([N,N],[N]),"i64.rem_u":y([N,N],[N]),"i64.and":y([N,N],[N]),"i64.or":y([N,N],[N]),"i64.xor":y([N,N],[N]),"i64.shl":y([N,N],[N]),"i64.shr_s":y([N,N],[N]),"i64.shr_u":y([N,N],[N]),"i64.rotl":y([N,N],[N]),"i64.rotr":y([N,N],[N]),"f32.abs":y([j],[j]),"f32.neg":y([j],[j]),"f32.ceil":y([j],[j]),"f32.floor":y([j],[j]),"f32.trunc":y([j],[j]),"f32.nearest":y([j],[j]),"f32.sqrt":y([j],[j]),"f32.add":y([j,j],[j]),"f32.sub":y([j,j],[j]),"f32.mul":y([j,j],[j]),"f32.div":y([j,j],[j]),"f32.min":y([j,j],[j]),"f32.max":y([j,j],[j]),"f32.copysign":y([j,j],[j]),"f64.abs":y([U],[U]),"f64.neg":y([U],[U]),"f64.ceil":y([U],[U]),"f64.floor":y([U],[U]),"f64.trunc":y([U],[U]),"f64.nearest":y([U],[U]),"f64.sqrt":y([U],[U]),"f64.add":y([U,U],[U]),"f64.sub":y([U,U],[U]),"f64.mul":y([U,U],[U]),"f64.div":y([U,U],[U]),"f64.min":y([U,U],[U]),"f64.max":y([U,U],[U]),"f64.copysign":y([U,U],[U]),"i32.wrap/i64":y([N],[b]),"i32.trunc_s/f32":y([j],[b]),"i32.trunc_u/f32":y([j],[b]),"i32.trunc_s/f64":y([j],[b]),"i32.trunc_u/f64":y([U],[b]),"i64.extend_s/i32":y([b],[N]),"i64.extend_u/i32":y([b],[N]),"i64.trunc_s/f32":y([j],[N]),"i64.trunc_u/f32":y([j],[N]),"i64.trunc_s/f64":y([U],[N]),"i64.trunc_u/f64":y([U],[N]),"f32.convert_s/i32":y([b],[j]),"f32.convert_u/i32":y([b],[j]),"f32.convert_s/i64":y([N],[j]),"f32.convert_u/i64":y([N],[j]),"f32.demote/f64":y([U],[j]),"f64.convert_s/i32":y([b],[U]),"f64.convert_u/i32":y([b],[U]),"f64.convert_s/i64":y([N],[U]),"f64.convert_u/i64":y([N],[U]),"f64.promote/f32":y([j],[U]),"i32.reinterpret/f32":y([j],[b]),"i64.reinterpret/f64":y([U],[N]),"f32.reinterpret/i32":y([b],[j]),"f64.reinterpret/i64":y([N],[U])},uo=Object.assign({},Gf,zf,Rf,Df,Vf);function Au(t){switch(t.type){case"ModuleImport":return"import";case"CallInstruction":case"CallIndirectInstruction":case"Func":case"Instr":return"code";case"ModuleExport":return"export";case"Start":return"start";case"TypeInstruction":return"type";case"IndexInFuncSection":return"func";case"Global":return"global";default:return}}var Te="illegal",Hf=[0,97,115,109],Xf=[1,0,0,0];function Fn(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(u){return u},r={},n=Object.keys(t),a=0,i=n.length;a<i;a++)r[e(t[n[a]])]=n[a];return r}function d(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return{name:t,object:e,numberOfArgs:r}}function Se(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return{name:t,numberOfArgs:e}}var Wf={func:96,result:64},Tu={0:"Func",1:"Table",2:"Mem",3:"Global"},Zf=Fn(Tu),so={127:"i32",126:"i64",125:"f32",124:"f64",123:"v128"},Qf=Fn(so),Jf={112:"anyfunc"},Kf=Object.assign({},so,{64:null,127:"i32",126:"i64",125:"f32",124:"f64"}),Pu={0:"const",1:"var"},Yf=Fn(Pu),ec={0:"func",1:"table",2:"mem",3:"global"},tc={custom:0,type:1,import:2,func:3,table:4,memory:5,global:6,export:7,start:8,element:9,code:10,data:11},Ou={0:Se("unreachable"),1:Se("nop"),2:Se("block"),3:Se("loop"),4:Se("if"),5:Se("else"),6:Te,7:Te,8:Te,9:Te,10:Te,11:Se("end"),12:Se("br",1),13:Se("br_if",1),14:Se("br_table"),15:Se("return"),16:Se("call",1),17:Se("call_indirect",2),18:Te,19:Te,20:Te,21:Te,22:Te,23:Te,24:Te,25:Te,26:Se("drop"),27:Se("select"),28:Te,29:Te,30:Te,31:Te,32:Se("get_local",1),33:Se("set_local",1),34:Se("tee_local",1),35:Se("get_global",1),36:Se("set_global",1),37:Te,38:Te,39:Te,40:d("load","u32",1),41:d("load","u64",1),42:d("load","f32",1),43:d("load","f64",1),44:d("load8_s","u32",1),45:d("load8_u","u32",1),46:d("load16_s","u32",1),47:d("load16_u","u32",1),48:d("load8_s","u64",1),49:d("load8_u","u64",1),50:d("load16_s","u64",1),51:d("load16_u","u64",1),52:d("load32_s","u64",1),53:d("load32_u","u64",1),54:d("store","u32",1),55:d("store","u64",1),56:d("store","f32",1),57:d("store","f64",1),58:d("store8","u32",1),59:d("store16","u32",1),60:d("store8","u64",1),61:d("store16","u64",1),62:d("store32","u64",1),63:d("current_memory"),64:d("grow_memory"),65:d("const","i32",1),66:d("const","i64",1),67:d("const","f32",1),68:d("const","f64",1),69:d("eqz","i32"),70:d("eq","i32"),71:d("ne","i32"),72:d("lt_s","i32"),73:d("lt_u","i32"),74:d("gt_s","i32"),75:d("gt_u","i32"),76:d("le_s","i32"),77:d("le_u","i32"),78:d("ge_s","i32"),79:d("ge_u","i32"),80:d("eqz","i64"),81:d("eq","i64"),82:d("ne","i64"),83:d("lt_s","i64"),84:d("lt_u","i64"),85:d("gt_s","i64"),86:d("gt_u","i64"),87:d("le_s","i64"),88:d("le_u","i64"),89:d("ge_s","i64"),90:d("ge_u","i64"),91:d("eq","f32"),92:d("ne","f32"),93:d("lt","f32"),94:d("gt","f32"),95:d("le","f32"),96:d("ge","f32"),97:d("eq","f64"),98:d("ne","f64"),99:d("lt","f64"),100:d("gt","f64"),101:d("le","f64"),102:d("ge","f64"),103:d("clz","i32"),104:d("ctz","i32"),105:d("popcnt","i32"),106:d("add","i32"),107:d("sub","i32"),108:d("mul","i32"),109:d("div_s","i32"),110:d("div_u","i32"),111:d("rem_s","i32"),112:d("rem_u","i32"),113:d("and","i32"),114:d("or","i32"),115:d("xor","i32"),116:d("shl","i32"),117:d("shr_s","i32"),118:d("shr_u","i32"),119:d("rotl","i32"),120:d("rotr","i32"),121:d("clz","i64"),122:d("ctz","i64"),123:d("popcnt","i64"),124:d("add","i64"),125:d("sub","i64"),126:d("mul","i64"),127:d("div_s","i64"),128:d("div_u","i64"),129:d("rem_s","i64"),130:d("rem_u","i64"),131:d("and","i64"),132:d("or","i64"),133:d("xor","i64"),134:d("shl","i64"),135:d("shr_s","i64"),136:d("shr_u","i64"),137:d("rotl","i64"),138:d("rotr","i64"),139:d("abs","f32"),140:d("neg","f32"),141:d("ceil","f32"),142:d("floor","f32"),143:d("trunc","f32"),144:d("nearest","f32"),145:d("sqrt","f32"),146:d("add","f32"),147:d("sub","f32"),148:d("mul","f32"),149:d("div","f32"),150:d("min","f32"),151:d("max","f32"),152:d("copysign","f32"),153:d("abs","f64"),154:d("neg","f64"),155:d("ceil","f64"),156:d("floor","f64"),157:d("trunc","f64"),158:d("nearest","f64"),159:d("sqrt","f64"),160:d("add","f64"),161:d("sub","f64"),162:d("mul","f64"),163:d("div","f64"),164:d("min","f64"),165:d("max","f64"),166:d("copysign","f64"),167:d("wrap/i64","i32"),168:d("trunc_s/f32","i32"),169:d("trunc_u/f32","i32"),170:d("trunc_s/f64","i32"),171:d("trunc_u/f64","i32"),172:d("extend_s/i32","i64"),173:d("extend_u/i32","i64"),174:d("trunc_s/f32","i64"),175:d("trunc_u/f32","i64"),176:d("trunc_s/f64","i64"),177:d("trunc_u/f64","i64"),178:d("convert_s/i32","f32"),179:d("convert_u/i32","f32"),180:d("convert_s/i64","f32"),181:d("convert_u/i64","f32"),182:d("demote/f64","f32"),183:d("convert_s/i32","f64"),184:d("convert_u/i32","f64"),185:d("convert_s/i64","f64"),186:d("convert_u/i64","f64"),187:d("promote/f32","f64"),188:d("reinterpret/f32","i32"),189:d("reinterpret/f64","i64"),190:d("reinterpret/i32","f32"),191:d("reinterpret/i64","f64"),65024:Se("memory.atomic.notify",1),65025:Se("memory.atomic.wait32",1),65026:Se("memory.atomic.wait64",1),65040:d("atomic.load","i32",1),65041:d("atomic.load","i64",1),65042:d("atomic.load8_u","i32",1),65043:d("atomic.load16_u","i32",1),65044:d("atomic.load8_u","i64",1),65045:d("atomic.load16_u","i64",1),65046:d("atomic.load32_u","i64",1),65047:d("atomic.store","i32",1),65048:d("atomic.store","i64",1),65049:d("atomic.store8_u","i32",1),65050:d("atomic.store16_u","i32",1),65051:d("atomic.store8_u","i64",1),65052:d("atomic.store16_u","i64",1),65053:d("atomic.store32_u","i64",1),65054:d("atomic.rmw.add","i32",1),65055:d("atomic.rmw.add","i64",1),65056:d("atomic.rmw8_u.add_u","i32",1),65057:d("atomic.rmw16_u.add_u","i32",1),65058:d("atomic.rmw8_u.add_u","i64",1),65059:d("atomic.rmw16_u.add_u","i64",1),65060:d("atomic.rmw32_u.add_u","i64",1),65061:d("atomic.rmw.sub","i32",1),65062:d("atomic.rmw.sub","i64",1),65063:d("atomic.rmw8_u.sub_u","i32",1),65064:d("atomic.rmw16_u.sub_u","i32",1),65065:d("atomic.rmw8_u.sub_u","i64",1),65066:d("atomic.rmw16_u.sub_u","i64",1),65067:d("atomic.rmw32_u.sub_u","i64",1),65068:d("atomic.rmw.and","i32",1),65069:d("atomic.rmw.and","i64",1),65070:d("atomic.rmw8_u.and_u","i32",1),65071:d("atomic.rmw16_u.and_u","i32",1),65072:d("atomic.rmw8_u.and_u","i64",1),65073:d("atomic.rmw16_u.and_u","i64",1),65074:d("atomic.rmw32_u.and_u","i64",1),65075:d("atomic.rmw.or","i32",1),65076:d("atomic.rmw.or","i64",1),65077:d("atomic.rmw8_u.or_u","i32",1),65078:d("atomic.rmw16_u.or_u","i32",1),65079:d("atomic.rmw8_u.or_u","i64",1),65080:d("atomic.rmw16_u.or_u","i64",1),65081:d("atomic.rmw32_u.or_u","i64",1),65082:d("atomic.rmw.xor","i32",1),65083:d("atomic.rmw.xor","i64",1),65084:d("atomic.rmw8_u.xor_u","i32",1),65085:d("atomic.rmw16_u.xor_u","i32",1),65086:d("atomic.rmw8_u.xor_u","i64",1),65087:d("atomic.rmw16_u.xor_u","i64",1),65088:d("atomic.rmw32_u.xor_u","i64",1),65089:d("atomic.rmw.xchg","i32",1),65090:d("atomic.rmw.xchg","i64",1),65091:d("atomic.rmw8_u.xchg_u","i32",1),65092:d("atomic.rmw16_u.xchg_u","i32",1),65093:d("atomic.rmw8_u.xchg_u","i64",1),65094:d("atomic.rmw16_u.xchg_u","i64",1),65095:d("atomic.rmw32_u.xchg_u","i64",1),65096:d("atomic.rmw.cmpxchg","i32",1),65097:d("atomic.rmw.cmpxchg","i64",1),65098:d("atomic.rmw8_u.cmpxchg_u","i32",1),65099:d("atomic.rmw16_u.cmpxchg_u","i32",1),65100:d("atomic.rmw8_u.cmpxchg_u","i64",1),65101:d("atomic.rmw16_u.cmpxchg_u","i64",1),65102:d("atomic.rmw32_u.cmpxchg_u","i64",1)},rc=Fn(Ou,function(t){return typeof t.object=="string"?"".concat(t.object,".").concat(t.name):t.name}),se={symbolsByByte:Ou,sections:tc,magicModuleHeader:Hf,moduleVersion:Xf,types:Wf,valtypes:so,exportTypes:Tu,blockTypes:Kf,tableTypes:Jf,globalTypes:Pu,importTypes:ec,valtypesByString:Qf,globalTypesByString:Yf,exportTypesByName:Zf,symbolsByName:rc},nc=Object.freeze({__proto__:null,default:se,getSectionForNode:Au});function ac(t,e){var r=[],n=!0,a=!1,i=void 0;try{for(var u=t[Symbol.iterator](),o;!(n=(o=u.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&u.return!=null&&u.return()}finally{if(a)throw i}}return r}function lo(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return ac(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Et(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Et=function(r){return typeof r}:Et=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Et(t)}function oc(t){return t.raw===""}function ic(t,e){var r;return ke(t,{SectionMetadata:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){var a=n.node;a.section===e&&(r=a)})}),r}function uc(t,e){var r=[];return ke(t,{SectionMetadata:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){var a=n.node;a.section===e&&r.push(a)})}),r}function sc(t){if(t.metadata==null){console.warn("sortSectionMetadata: no metadata to sort");return}t.metadata.sections.sort(function(e,r){var n=se.sections[e.section],a=se.sections[r.section];if(typeof n!="number"||typeof a!="number")throw new Error("Section id not found");return n-a})}function lc(t,e){fo(e);var r=!1;if(e.type==="ModuleExport"){t.fields.push(e);return}t.fields=t.fields.reduce(function(n,a){var i=1/0;return a.loc!=null&&(i=a.loc.end.column),r===!1&&e.loc.start.column<i&&(r=!0,n.push(e)),n.push(a),n},[]),r===!1&&t.fields.push(e)}function fo(t){if(t.loc==null||t.loc.start==null||t.loc.end==null)throw new Error("Internal failure: node (".concat(JSON.stringify(t.type),") has no location information"))}function fc(t){return fo(t.size),t.startOffset+t.size.value+(t.size.loc.end.column-t.size.loc.start.column)}function Nn(t,e){t.loc.start.column+=e,t.loc.end.column+=e}function cc(t,e,r){if(e.type!=="SectionMetadata")throw new Error("Can not shift node "+JSON.stringify(e.type));e.startOffset+=r,Et(e.size.loc)==="object"&&Nn(e.size,r),Et(e.vectorOfSize)==="object"&&Et(e.vectorOfSize.loc)==="object"&&Nn(e.vectorOfSize,r);var n=e.section;ke(t,{Node:function(i){var u=i.node,o=Au(u);o===n&&Et(u.loc)==="object"&&Nn(u,r)}})}function Bu(t,e){var r=e;t!==void 0&&t!==""&&(r=t+"."+e);var n=uo[r];return n==null?[t,t]:n[0]}function co(){var t={};return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"temp";return e in t?t[e]=t[e]+1:t[e]=0,e+"_"+t[e]}}function mr(t){if(typeof t.loc>"u"||typeof t.loc.start>"u")throw new Error("Can not get byte offset without loc informations, node: "+String(t.id));return t.loc.start.column}function ju(t){if(typeof t.loc>"u"||typeof t.loc.end>"u")throw new Error("Can not get byte offset without loc informations, node: "+t.type);return t.loc.end.column}function Ln(t){if(!(t.body.length>0))throw new Error("n.body.length > 0 error: unknown");var e=lo(t.body,1),r=e[0];return mr(r)}function Cu(t){if(!(t.instr.length>0||t.body.length>0))throw new Error("n.instr.length > 0 || n.body.length > 0 error: unknown");var e;if(t.instr&&(e=t.instr[t.instr.length-1]),t.body&&(e=t.body[t.body.length-1]),Et(e)!=="object")throw new Error('typeof lastInstruction === "object" error: unknown');return mr(e)}function Uu(t){if(!(t.instr.length>0||t.body.length>0))throw new Error("n.instr.length > 0 || n.body.length > 0 error: unknown");var e;if(t.instr){var r=lo(t.instr,1);e=r[0]}if(t.body){var n=lo(t.body,1);e=n[0]}if(Et(e)!=="object")throw new Error('typeof fistInstruction === "object" error: unknown');return mr(e)}function dc(t){return Object.assign({},t)}function vc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pc(t,e,r){return e&&qu(t.prototype,e),r&&qu(t,r),t}function vo(t){var e=new yc;if(t.type!=="Module")throw new Error('m.type === "Module" error: unknown');return t.fields.forEach(function(r){switch(r.type){case"Start":{e.setStart(r.index);break}case"TypeInstruction":{e.addType(r);break}case"Func":{e.addFunction(r);break}case"Global":{e.defineGlobal(r);break}case"ModuleImport":{switch(r.descr.type){case"GlobalType":{e.importGlobal(r.descr.valtype,r.descr.mutability);break}case"Memory":{e.addMemory(r.descr.limits.min,r.descr.limits.max);break}case"FuncImportDescr":{e.importFunction(r.descr);break}case"Table":break;default:throw new Error("Unsupported ModuleImport of type "+JSON.stringify(r.descr.type))}break}case"Memory":{e.addMemory(r.limits.min,r.limits.max);break}}}),e}var yc=function(){function t(){vc(this,t),this.funcs=[],this.funcsOffsetByIdentifier=[],this.types=[],this.globals=[],this.globalsOffsetByIdentifier=[],this.mems=[],this.locals=[],this.labels=[],this.return=[],this.debugName="unknown",this.start=null}return pc(t,[{key:"setStart",value:function(r){this.start=r.value}},{key:"getStart",value:function(){return this.start}},{key:"newContext",value:function(r,n){this.locals=[],this.labels=[n],this.return=n,this.debugName=r}},{key:"addFunction",value:function(r){var n=r.signature||{},a=n.params,i=a===void 0?[]:a,u=n.results,o=u===void 0?[]:u;i=i.map(function(s){return s.valtype}),this.funcs.push({args:i,result:o}),typeof r.name<"u"&&(this.funcsOffsetByIdentifier[r.name.value]=this.funcs.length-1)}},{key:"importFunction",value:function(r){if(In(r.signature)){var n=r.signature,a=n.params,i=n.results;a=a.map(function(s){return s.valtype}),this.funcs.push({args:a,result:i})}else{if(!Dt(r.signature))throw new Error("isNumberLiteral(funcimport.signature) error: unknown");var u=r.signature.value;if(!this.hasType(u))throw new Error("this.hasType(typeId) error: unknown");var o=this.getType(u);this.funcs.push({args:o.params.map(function(s){return s.valtype}),result:o.results})}typeof r.id<"u"&&(this.funcsOffsetByIdentifier[r.id.value]=this.funcs.length-1)}},{key:"hasFunction",value:function(r){return typeof this.getFunction(r)<"u"}},{key:"getFunction",value:function(r){if(typeof r!="number")throw new Error("getFunction only supported for number index");return this.funcs[r]}},{key:"getFunctionOffsetByIdentifier",value:function(r){if(typeof r!="string")throw new Error('typeof name === "string" error: unknown');return this.funcsOffsetByIdentifier[r]}},{key:"addLabel",value:function(r){this.labels.unshift(r)}},{key:"hasLabel",value:function(r){return this.labels.length>r&&r>=0}},{key:"getLabel",value:function(r){return this.labels[r]}},{key:"popLabel",value:function(){this.labels.shift()}},{key:"hasLocal",value:function(r){return typeof this.getLocal(r)<"u"}},{key:"getLocal",value:function(r){return this.locals[r]}},{key:"addLocal",value:function(r){this.locals.push(r)}},{key:"addType",value:function(r){if(r.functype.type!=="Signature")throw new Error('type.functype.type === "Signature" error: unknown');this.types.push(r.functype)}},{key:"hasType",value:function(r){return this.types[r]!==void 0}},{key:"getType",value:function(r){return this.types[r]}},{key:"hasGlobal",value:function(r){return this.globals.length>r&&r>=0}},{key:"getGlobal",value:function(r){return this.globals[r].type}},{key:"getGlobalOffsetByIdentifier",value:function(r){if(typeof r!="string")throw new Error('typeof name === "string" error: unknown');return this.globalsOffsetByIdentifier[r]}},{key:"defineGlobal",value:function(r){var n=r.globalType.valtype,a=r.globalType.mutability;this.globals.push({type:n,mutability:a}),typeof r.name<"u"&&(this.globalsOffsetByIdentifier[r.name.value]=this.globals.length-1)}},{key:"importGlobal",value:function(r,n){this.globals.push({type:r,mutability:n})}},{key:"isMutableGlobal",value:function(r){return this.globals[r].mutability==="var"}},{key:"isImmutableGlobal",value:function(r){return this.globals[r].mutability==="const"}},{key:"hasMemory",value:function(r){return this.mems.length>r&&r>=0}},{key:"addMemory",value:function(r,n){this.mems.push({min:r,max:n})}},{key:"getMemory",value:function(r){return this.mems[r]}}]),t}(),mc=Object.freeze({__proto__:null,numberLiteralFromRaw:he,withLoc:Z,withRaw:Qe,funcParam:Fu,indexLiteral:ut,memIndexLiteral:oo,instruction:Xt,objectInstruction:Or,traverse:ke,signatures:uo,cloneNode:dc,moduleContextFromModuleAST:vo,module:Sa,moduleMetadata:Li,moduleNameMetadata:_l,functionNameMetadata:Ai,localNameMetadata:Ti,binaryModule:Pi,quoteModule:Oi,sectionMetadata:Ze,producersSectionMetadata:Bi,producerMetadata:xl,producerMetadataVersionedName:ji,loopInstruction:$a,instr:Fa,ifInstruction:Na,stringLiteral:Ci,numberLiteral:un,longNumberLiteral:Ui,floatLiteral:Pr,elem:La,indexInFuncSection:Il,valtypeLiteral:Aa,typeInstruction:sn,start:ln,globalType:sr,leadingComment:qi,blockComment:Gi,data:Ta,global:fn,table:cn,memory:Pa,funcImportDescr:Oa,moduleImport:dn,moduleExportDescr:vn,moduleExport:pn,limit:jt,signature:yt,program:yn,identifier:Ee,blockInstruction:Ba,callInstruction:mn,callIndirectInstruction:ja,byteArray:Ca,func:hn,internalBrUnless:zi,internalGoto:Ri,internalCallExtern:Di,internalEndAndReturn:Vi,isModule:Hi,isModuleMetadata:Xi,isModuleNameMetadata:Wi,isFunctionNameMetadata:Zi,isLocalNameMetadata:Qi,isBinaryModule:Ji,isQuoteModule:Ki,isSectionMetadata:Yi,isProducersSectionMetadata:eu,isProducerMetadata:tu,isProducerMetadataVersionedName:ru,isLoopInstruction:lr,isInstr:gn,isIfInstruction:bn,isStringLiteral:Ua,isNumberLiteral:Dt,isLongNumberLiteral:wn,isFloatLiteral:_n,isElem:nu,isIndexInFuncSection:au,isValtypeLiteral:qa,isTypeInstruction:Ga,isStart:ou,isGlobalType:za,isLeadingComment:iu,isBlockComment:uu,isData:su,isGlobal:lu,isTable:Ra,isMemory:Da,isFuncImportDescr:xn,isModuleImport:fu,isModuleExportDescr:cu,isModuleExport:du,isLimit:vu,isSignature:In,isProgram:pu,isIdentifier:En,isBlockInstruction:kn,isCallInstruction:Mn,isCallIndirectInstruction:Va,isByteArray:yu,isFunc:Ha,isInternalBrUnless:Xa,isInternalGoto:Wa,isInternalCallExtern:Za,isInternalEndAndReturn:Qa,isNode:El,isBlock:mu,isInstruction:Ja,isExpression:kl,isNumericLiteral:Ml,isImportDescr:Sl,isIntrinsic:$l,assertModule:Fl,assertModuleMetadata:Nl,assertModuleNameMetadata:Ll,assertFunctionNameMetadata:Al,assertLocalNameMetadata:Tl,assertBinaryModule:Pl,assertQuoteModule:Ol,assertSectionMetadata:Bl,assertProducersSectionMetadata:jl,assertProducerMetadata:Cl,assertProducerMetadataVersionedName:Ul,assertLoopInstruction:ql,assertInstr:Gl,assertIfInstruction:zl,assertStringLiteral:Rl,assertNumberLiteral:Dl,assertLongNumberLiteral:Vl,assertFloatLiteral:Hl,assertElem:Xl,assertIndexInFuncSection:Wl,assertValtypeLiteral:Zl,assertTypeInstruction:Ql,assertStart:Jl,assertGlobalType:Kl,assertLeadingComment:Yl,assertBlockComment:ef,assertData:tf,assertGlobal:rf,assertTable:nf,assertMemory:af,assertFuncImportDescr:of,assertModuleImport:uf,assertModuleExportDescr:sf,assertModuleExport:lf,assertLimit:ff,assertSignature:cf,assertProgram:df,assertIdentifier:vf,assertBlockInstruction:pf,assertCallInstruction:yf,assertCallIndirectInstruction:mf,assertByteArray:hf,assertFunc:gf,assertInternalBrUnless:bf,assertInternalGoto:wf,assertInternalCallExtern:_f,assertInternalEndAndReturn:xf,unionTypesMap:hu,nodeAndUnionTypes:gu,isAnonymous:oc,getSectionMetadata:ic,getSectionMetadatas:uc,sortSectionMetadata:sc,orderedInsertNode:lc,assertHasLoc:fo,getEndOfSection:fc,shiftLoc:Nn,shiftSection:cc,signatureForOpcode:Bu,getUniqueNameGenerator:co,getStartByteOffset:mr,getEndByteOffset:ju,getFunctionBeginingByteOffset:Ln,getEndBlockByteOffset:Cu,getStartBlockByteOffset:Uu});function An(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?An=function(r){return typeof r}:An=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},An(t)}var hc=5;function Gu(t,e){return Array(e).fill(t).join("")}function Le(t,e){var r=e.start,n=e.end,a=1;return An(n)==="object"&&(a=n.column-r.column+1),t.split(`
`).reduce(function(i,u,o){return Math.abs(r.line-o)<hc&&(i+=u+`
`),o===r.line-1&&(i+=Gu(" ",r.column-1),i+=Gu("^",a),i+=`
`),i},"")}var gc=[0,7,8,9,10,11,12,13,26,27,127];function bc(t){switch(t){case"t":return 9;case"n":return 10;case"r":return 13;case'"':return 34;case"\u2032":return 39;case"\\":return 92}return-1}var wc=92,_c=34;function xc(t){for(var e=[],r=0;r<t.length;){var n=t.charCodeAt(r);if(gc.indexOf(n)!==-1)throw new Error("ASCII control characters are not permitted within string literals");if(n===_c)throw new Error("quotes are not permitted within string literals");if(n===wc){var a=t.substr(r+1,1),i=bc(a);if(i!==-1)e.push(i),r+=2;else{var u=t.substr(r+1,2);if(!/^[0-9A-F]{2}$/i.test(u))throw new Error("invalid character encoding");e.push(parseInt(u,16)),r+=3}}else e.push(n),r++}return e}function Ic(t,e){var r=[],n=!0,a=!1,i=void 0;try{for(var u=t[Symbol.iterator](),o;!(n=(o=u.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&u.return!=null&&u.return()}finally{if(a)throw i}}return r}function Ec(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return Ic(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function kc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mc(t,e,r){return e&&zu(t.prototype,e),r&&zu(t,r),t}var Ru=Symbol("STOP");function be(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.n,a=n===void 0?1:n,i=r.allowedSeparator;return function(u){return i&&u.input[u.ptr]===i?t.test(u.input.substring(u.ptr-1,u.ptr))?[u.currentState,1]:[u.terminatingState,0]:t.test(u.input.substring(u.ptr,u.ptr+a))?[e,a]:!1}}function Sc(t){return function(){for(var e=!1,r=t[this.currentState]||[],n=0;n<r.length&&(e=r[n](this),e===!1);++n);return e||[this.terminatingState,0]}}var $c=function(){function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ru;kc(this,t),this.initialState=r,this.terminatingState=n,(n===Ru||!e[n])&&(e[n]=[]),this.transitionFunction=Sc.call(this,e)}return Mc(t,[{key:"run",value:function(r){this.input=r,this.ptr=0,this.currentState=this.initialState;for(var n="",a,i;this.currentState!==this.terminatingState&&this.ptr<this.input.length;){var u=this.transitionFunction(),o=Ec(u,2);i=o[0],a=o[1],n+=this.input.substring(this.ptr,this.ptr+=a),this.currentState=i}return n}}]),t}();function Tn(t,e,r){var n={start:{line:e,column:r}};return`
`+Le(t,n)+`
`}var Du=/\s/,Fc=/\(|\)/,po=/[a-z0-9_/]/i,Nc=/[a-z0-9!#$%&*+./:<=>?@\\[\]^_`|~-]/i,Vu=["i32","i64","f32","f64"],Lc=/[0-9|.|_]/,Ac=/nan|inf/;function Pn(t){return t.charCodeAt(0)===10||t.charCodeAt(0)===13}function Tc(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},i={type:t,value:e,loc:{start:r,end:n}};return Object.keys(a).length>0&&(i.opts=a),i}var rt={openParen:"openParen",closeParen:"closeParen",number:"number",string:"string",name:"name",identifier:"identifier",valtype:"valtype",dot:"dot",comment:"comment",equal:"equal",keyword:"keyword"},R={module:"module",func:"func",param:"param",result:"result",export:"export",loop:"loop",block:"block",if:"if",then:"then",else:"else",call:"call",call_indirect:"call_indirect",import:"import",memory:"memory",shared:"shared",table:"table",global:"global",anyfunc:"anyfunc",mut:"mut",data:"data",type:"type",elem:"elem",start:"start",offset:"offset"},Wt="_",Pc=new $c({START:[be(/-|\+/,"AFTER_SIGN"),be(/nan:0x/,"NAN_HEX",{n:6}),be(/nan|inf/,"STOP",{n:3}),be(/0x/,"HEX",{n:2}),be(/[0-9]/,"DEC"),be(/\./,"DEC_FRAC")],AFTER_SIGN:[be(/nan:0x/,"NAN_HEX",{n:6}),be(/nan|inf/,"STOP",{n:3}),be(/0x/,"HEX",{n:2}),be(/[0-9]/,"DEC"),be(/\./,"DEC_FRAC")],DEC_FRAC:[be(/[0-9]/,"DEC_FRAC",{allowedSeparator:Wt}),be(/e|E/,"DEC_SIGNED_EXP")],DEC:[be(/[0-9]/,"DEC",{allowedSeparator:Wt}),be(/\./,"DEC_FRAC"),be(/e|E/,"DEC_SIGNED_EXP")],DEC_SIGNED_EXP:[be(/\+|-/,"DEC_EXP"),be(/[0-9]/,"DEC_EXP")],DEC_EXP:[be(/[0-9]/,"DEC_EXP",{allowedSeparator:Wt})],HEX:[be(/[0-9|A-F|a-f]/,"HEX",{allowedSeparator:Wt}),be(/\./,"HEX_FRAC"),be(/p|P/,"HEX_SIGNED_EXP")],HEX_FRAC:[be(/[0-9|A-F|a-f]/,"HEX_FRAC",{allowedSeparator:Wt}),be(/p|P|/,"HEX_SIGNED_EXP")],HEX_SIGNED_EXP:[be(/[0-9|+|-]/,"HEX_EXP")],HEX_EXP:[be(/[0-9]/,"HEX_EXP",{allowedSeparator:Wt})],NAN_HEX:[be(/[0-9|A-F|a-f]/,"NAN_HEX",{allowedSeparator:Wt})],STOP:[]},"START","STOP");function Oc(t){var e=0,r=t[e],n=1,a=1,i=[];function u(Xe){return function(ot){var dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Nt=dt.startColumn||n-String(ot).length;delete dt.startColumn;var tr=dt.endColumn||Nt+String(ot).length-1;delete dt.endColumn;var Lt={line:a,column:Nt},rr={line:a,column:tr};i.push(Tc(Xe,ot,Lt,rr,dt))}}var o=u(rt.closeParen),s=u(rt.openParen),c=u(rt.number),f=u(rt.valtype),v=u(rt.name),I=u(rt.identifier),S=u(rt.keyword),oe=u(rt.dot),ie=u(rt.string),$=u(rt.comment),te=u(rt.equal);function le(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return t.substring(e+ot,e+ot+Xe).toLowerCase()}function H(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;n+=Xe,e+=Xe,r=t[e]}for(;e<t.length;){if(r===";"&&le()===";"){var P=n;H(2);for(var G="";!Pn(r)&&(G+=r,H(),r!==void 0););var ae=n;$(G,{type:"leading",startColumn:P,endColumn:ae});continue}if(r==="("&&le()===";"){var Be=n;H(2);for(var Pe="";;){if(r=t[e],r===";"&&le()===")"){H(2);break}Pe+=r,H(),Pn(r)&&(a++,n=0)}var ht=n;$(Pe,{type:"block",startColumn:Be,endColumn:ht});continue}if(r==="("){s(r),H();continue}if(r==="="){te(r),H();continue}if(r===")"){o(r),H();continue}if(Pn(r)){a++,H(),n=0;continue}if(Du.test(r)){H();continue}if(r==="$"){var Ut=n;H();for(var Fe="";Nc.test(r);)Fe+=r,H();var gt=n;I(Fe,{startColumn:Ut,endColumn:gt});continue}if(Lc.test(r)||Ac.test(le(3,0))||r==="-"||r==="+"){var qt=n,$t=Pc.run(t.slice(e));if($t==="")throw new Error(Tn(t,a,n)+"Unexpected character "+JSON.stringify(r));if(c($t,{startColumn:qt}),H($t.length),r&&!Fc.test(r)&&!Du.test(r))throw new Error(Tn(t,a,n)+"Unexpected character "+JSON.stringify(r));continue}if(r==='"'){var Ge=n,ct="";for(H();r!=='"';){if(Pn(r))throw new Error(Tn(t,a,n)+"Unexpected character "+JSON.stringify(r));ct+=r,H()}H();var Ft=n;ie(ct,{startColumn:Ge,endColumn:Ft});continue}if(po.test(r)){for(var we="",Ke=n;r&&po.test(r);)we+=r,H();if(r==="."){var er=n;for(Vu.indexOf(we)!==-1?f(we,{startColumn:Ke}):v(we);r===".";){H(),we="";for(var Oe=n;po.test(r);)we+=r,H();oe(".",{startColumn:er}),v(we,{startColumn:Oe})}continue}if(typeof R[we]=="string"){S(we,{startColumn:Ke});continue}if(Vu.indexOf(we)!==-1){f(we,{startColumn:Ke});continue}v(we,{startColumn:Ke});continue}throw new Error(Tn(t,a,n)+"Unexpected character "+JSON.stringify(r))}return i}var p=rt;function On(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?On=function(r){return typeof r}:On=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},On(t)}function hr(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function yo(t){if(t!=="wast")throw new Error("unknow plugin");return!0}function fe(t,e){return t.type===p.keyword&&t.value===e}function $e(t){return t.type==="keyword"?"keyword (".concat(t.value,")"):t.type}function Je(t){var e=t.loc,r=e.end,n=e.start;return Z(Ee(t.value),r,n)}function Bc(t,e){var r=0,n=co(),a={registredExportedElements:[]};function i(){var o=t[r];function s(){o=t[++r]}function c(){var _=o;if(typeof _>"u"){var x=t[t.length-1];_=x}return _.loc.end}function f(){return o.loc.start}function v(_){if(o.type!==_)throw new Error(`
`+Le(e,o.loc)+"Assertion error: expected token of type "+_+", given "+$e(o));s()}function I(_){if(_.type===p.identifier){var x=Je(_);return s(),x}else if(_.type===p.number){var F=he(_.value);return s(),F}else throw function(){return new Error(`
`+Le(e,_.loc)+`
unknown export index, given `+$e(_))}()}function S(){for(var _=arguments.length,x=0;x<_;x++){var F=t[r+x],W=x<0||arguments.length<=x?void 0:arguments[x];if(F.type==="keyword"){if(fe(F,W)===!1)return!1}else if(W!==F.type)return!1}return!0}function oe(){if(!(typeof o>"u"))for(;o.type===p.comment&&(s(),!(typeof o>"u")););}function ie(){var _=Ee(n("memory")),x=jt(0);if(o.type===p.string||o.type===p.identifier?(_=Ee(o.value),s()):_=Qe(_,""),S(p.openParen,R.data)){s(),s();var F=o.value;v(p.string),x=jt(F.length),v(p.closeParen)}if(S(p.openParen,R.export)){if(s(),s(),o.type!==p.string)throw function(){return new Error(`
`+Le(e,o.loc)+`
Expected string in export, given `+$e(o))}();var W=o.value;s(),a.registredExportedElements.push({exportType:"Memory",name:W,id:_}),v(p.closeParen)}return o.type===p.number&&(x=jt(dr(o.value)),s(),o.type===p.number&&(x.max=dr(o.value),s(),o.type===p.keyword&&o.value==="shared"&&(x.shared=!0,s()))),Pa(x,_)}function $(){var _=0;o.type===p.number&&(_=o.value,v(p.number)),v(p.openParen);var x;if(o.type===p.valtype){if(v(p.valtype),v(p.dot),o.value!=="const")throw new Error("constant expression required");v(p.name);var F=he(o.value,"i32");x=Or("const","i32",[F]),s(),v(p.closeParen)}else{v(p.name);var W=he(o.value,"i32");x=Xt("get_global",[W]),s(),v(p.closeParen)}var re=xc(o.value);return s(),Ta(oo(_),x,Ca(re))}function te(){var _=Ee(n("table")),x=jt(0),F=[],W="anyfunc";for(o.type===p.string||o.type===p.identifier?(_=Je(o),s()):_=Qe(_,"");o.type!==p.closeParen;)if(S(p.openParen,R.elem)){for(s(),s();o.type===p.identifier;)F.push(Ee(o.value)),s();v(p.closeParen)}else if(S(p.openParen,R.export)){if(s(),s(),o.type!==p.string)throw function(){return new Error(`
`+Le(e,o.loc)+`
Expected string in export, given `+$e(o))}();var re=o.value;s(),a.registredExportedElements.push({exportType:"Table",name:re,id:_}),v(p.closeParen)}else if(fe(o,R.anyfunc))s();else if(o.type===p.number){var ce=parseInt(o.value);if(s(),o.type===p.number){var de=parseInt(o.value);s(),x=jt(ce,de)}else x=jt(ce);s()}else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token, given `+$e(o))}();return F.length>0?cn(W,x,_,F):cn(W,x,_)}function le(){if(o.type!==p.string)throw new Error("Expected a string, "+o.type+" given.");var _=o.value;if(s(),o.type!==p.string)throw new Error("Expected a string, "+o.type+" given.");var x=o.value;s(),v(p.openParen);var F;if(fe(o,R.func)){s();var W=[],re=[],ce,de=Ee(n("func"));for(o.type===p.identifier&&(de=Je(o),s());o.type===p.openParen;){if(s(),S(R.type)===!0)s(),ce=ct();else if(S(R.param)===!0)s(),W.push.apply(W,hr(we()));else if(S(R.result)===!0)s(),re.push.apply(re,hr(Ge()));else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in import of type, given `+$e(o))}();v(p.closeParen)}if(typeof de>"u")throw new Error("Imported function must have a name");F=Oa(de,ce!==void 0?ce:yt(W,re))}else if(fe(o,R.global))if(s(),o.type===p.openParen){s(),v(p.keyword);var ze=o.value;s(),F=sr(ze,"var"),v(p.closeParen)}else{var bt=o.value;v(p.valtype),F=sr(bt,"const")}else if(fe(o,R.memory)===!0)s(),F=ie();else if(fe(o,R.table)===!0)s(),F=te();else throw new Error("Unsupported import type: "+$e(o));return v(p.closeParen),dn(_,x,F)}function H(){var _=Ee(n("block")),x=null,F=[];for(o.type===p.identifier?(_=Je(o),s()):_=Qe(_,"");o.type===p.openParen;){if(s(),S(R.result)===!0)s(),x=o.value,s();else if(S(p.name)===!0||S(p.valtype)===!0||o.type==="keyword")F.push(Fe());else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in block body of type, given `+$e(o))}();oe(),v(p.closeParen)}return Ba(_,F,x)}function P(){var _=null,x=Ee(n("if")),F=[],W=[],re=[];for(o.type===p.identifier?(x=Je(o),s()):x=Qe(x,"");o.type===p.openParen;){if(s(),fe(o,R.result)===!0){s(),_=o.value,v(p.valtype),v(p.closeParen);continue}if(fe(o,R.then)===!0){for(s();o.type===p.openParen;){if(s(),S(p.name)===!0||S(p.valtype)===!0||o.type==="keyword")W.push(Fe());else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in consequent body of type, given `+$e(o))}();v(p.closeParen)}v(p.closeParen);continue}if(fe(o,R.else)){for(s();o.type===p.openParen;){if(s(),S(p.name)===!0||S(p.valtype)===!0||o.type==="keyword")re.push(Fe());else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in alternate body of type, given `+$e(o))}();v(p.closeParen)}v(p.closeParen);continue}if(S(p.name)===!0||S(p.valtype)===!0||o.type==="keyword"){F.push(Fe()),v(p.closeParen);continue}throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in if body, given `+$e(o))}()}return Na(x,F,_,W,re)}function G(){var _=Ee(n("loop")),x,F=[];for(o.type===p.identifier?(_=Je(o),s()):_=Qe(_,"");o.type===p.openParen;){if(s(),S(R.result)===!0)s(),x=o.value,s();else if(S(p.name)===!0||S(p.valtype)===!0||o.type==="keyword")F.push(Fe());else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in loop body, given `+$e(o))}();v(p.closeParen)}return $a(_,x,F)}function ae(){for(var _,x=[],F=[],W=[];o.type!==p.closeParen;)S(p.openParen,R.type)?(s(),s(),_=ct()):S(p.openParen,R.param)?(s(),s(),o.type!==p.closeParen&&x.push.apply(x,hr(we()))):S(p.openParen,R.result)?(s(),s(),o.type!==p.closeParen&&F.push.apply(F,hr(Ge()))):(v(p.openParen),W.push(Fe())),v(p.closeParen);return ja(_!==void 0?_:yt(x,F),W)}function Be(){if(o.type!==p.string)throw new Error("Expected string after export, got: "+o.type);var _=o.value;s();var x=Pe();return pn(_,x)}function Pe(){var _=f(),x="",F;for(v(p.openParen);o.type!==p.closeParen;)fe(o,R.func)?(x="Func",s(),F=I(o)):fe(o,R.table)?(x="Table",s(),F=I(o)):fe(o,R.global)?(x="Global",s(),F=I(o)):fe(o,R.memory)&&(x="Memory",s(),F=I(o)),s();if(x==="")throw new Error("Unknown export type");if(F===void 0)throw new Error("Exported function must have a name");var W=vn(x,F),re=c();return v(p.closeParen),Z(W,re,_)}function ht(){var _=null,x=!1,F=!1,W=[];if(o.type===p.identifier&&(_=o.value,s()),yo("wast")&&o.type===p.name&&o.value==="binary"&&(s(),x=!0),yo("wast")&&o.type===p.name&&o.value==="quote"&&(s(),F=!0),x===!0){for(var re=[];o.type===p.string;)re.push(o.value),s(),oe();return v(p.closeParen),Pi(_,re)}if(F===!0){for(var ce=[];o.type===p.string;)ce.push(o.value),s();return v(p.closeParen),Oi(_,ce)}for(;o.type!==p.closeParen;)W.push(i()),a.registredExportedElements.length>0&&(a.registredExportedElements.forEach(function(de){W.push(pn(de.name,vn(de.exportType,de.id)))}),a.registredExportedElements=[]),o=t[r];return v(p.closeParen),Sa(_,W)}function Ut(_){for(var x=[],F={},W=0;o.type===p.name||fe(o,R.offset);){var re=o.value;s(),v(p.equal);var ce=void 0;if(o.type===p.number)ce=he(o.value);else throw new Error("Unexpected type for argument: "+o.type);F[re]=ce,s()}for(var de=_.vector?1/0:_.length;o.type!==p.closeParen&&(o.type===p.openParen||W<de);)if(o.type===p.identifier)x.push(Ee(o.value)),s();else if(o.type===p.valtype)x.push(Aa(o.value)),s();else if(o.type===p.string)x.push(Ci(o.value)),s();else if(o.type===p.number)x.push(he(o.value,_[W]||"f64")),_.vector||++W,s();else if(o.type===p.openParen){if(s(),S(p.name)===!0||S(p.valtype)===!0||o.type==="keyword")x.push(Fe());else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in nested instruction, given `+$e(o))}();o.type===p.closeParen&&s()}else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in instruction argument, given `+$e(o))}();return{args:x,namedArgs:F}}function Fe(){var _=f();if(oe(),o.type===p.name||o.type===p.valtype){var x=o.value,F;if(s(),o.type===p.dot){F=x;var W=[];do{if(s(),o.type!==p.name)throw new TypeError("Unknown token: "+o.type+", name expected");W.push(o.value),s()}while(o.type===p.dot);x=W.join(".")}if(o.type===p.closeParen){var re=o.loc.end;return Z(typeof F>"u"?Xt(x):Or(x,F,[]),re,_)}var ce=Bu(F||"",x),de=Ut(ce),ze=de.args,bt=de.namedArgs,Pt=o.loc.end;return Z(typeof F>"u"?Xt(x,ze,bt):Or(x,F,ze,bt),Pt,_)}else{if(fe(o,R.loop))return s(),G();if(fe(o,R.block))return s(),H();if(fe(o,R.call_indirect))return s(),ae();if(fe(o,R.call)){s();var pt;o.type===p.identifier?(pt=Je(o),s()):o.type===p.number&&(pt=ut(o.value),s());for(var wt=[];o.type===p.openParen;)s(),wt.push(Fe()),v(p.closeParen);if(typeof pt>"u")throw new Error("Missing argument in call instruciton");return wt.length>0?mn(pt,wt):mn(pt)}else{if(fe(o,R.if))return s(),P();if(fe(o,R.module)&&yo("wast")){s();var _t=ht();return _t}else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected instruction in function body, given `+$e(o))}()}}}function gt(){var _=Ee(n("func")),x,F=[],W=[],re=[];for(o.type===p.identifier?(_=Je(o),s()):_=Qe(_,""),oe();o.type===p.openParen||o.type===p.name||o.type===p.valtype;){if(o.type===p.name||o.type===p.valtype){F.push(Fe());continue}if(s(),S(R.param)===!0)s(),W.push.apply(W,hr(we()));else if(S(R.result)===!0)s(),re.push.apply(re,hr(Ge()));else if(S(R.export)===!0)s(),qt(_);else if(S(R.type)===!0)s(),x=ct();else if(S(p.name)===!0||S(p.valtype)===!0||o.type==="keyword")F.push(Fe());else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in func body, given `+$e(o))}();v(p.closeParen)}return hn(_,x!==void 0?x:yt(W,re),F)}function qt(_){if(o.type!==p.string)throw function(){return new Error(`
`+Le(e,o.loc)+`
Function export expected a string, given `+$e(o))}();var x=o.value;s();var F=Ee(_.value);a.registredExportedElements.push({exportType:"Func",name:x,id:F})}function $t(){var _,x=[],F=[];if(o.type===p.identifier&&(_=Je(o),s()),S(p.openParen,R.func)){if(s(),s(),o.type===p.closeParen)return s(),sn(_,yt([],[]));S(p.openParen,R.param)&&(s(),s(),x=we(),v(p.closeParen)),S(p.openParen,R.result)&&(s(),s(),F=Ge(),v(p.closeParen)),v(p.closeParen)}return sn(_,yt(x,F))}function Ge(){for(var _=[];o.type!==p.closeParen;){if(o.type!==p.valtype)throw function(){return new Error(`
`+Le(e,o.loc)+`
Unexpected token in func result, given `+$e(o))}();var x=o.value;s(),_.push(x)}return _}function ct(){var _;return o.type===p.identifier?(_=Je(o),s()):o.type===p.number&&(_=he(o.value),s()),_}function Ft(){var _=Ee(n("global")),x,F=null;if(oe(),o.type===p.identifier?(_=Je(o),s()):_=Qe(_,""),S(p.openParen,R.export)){s(),s();var W=o.value;v(p.string),a.registredExportedElements.push({exportType:"Global",name:W,id:_}),v(p.closeParen)}if(S(p.openParen,R.import)){s(),s();var re=o.value;v(p.string);var ce=o.value;v(p.string),F={module:re,name:ce,descr:void 0},v(p.closeParen)}if(o.type===p.valtype)x=sr(o.value,"const"),s();else if(o.type===p.openParen){if(s(),fe(o,R.mut)===!1)throw function(){return new Error(`
`+Le(e,o.loc)+`
Unsupported global type, expected mut, given `+$e(o))}();s(),x=sr(o.value,"var"),s(),v(p.closeParen)}if(x===void 0)throw function(){return new Error(`
`+Le(e,o.loc)+`
Could not determine global type, given `+$e(o))}();oe();var de=[];for(F!=null&&(F.descr=x,de.push(dn(F.module,F.name,F.descr)));o.type===p.openParen;)s(),de.push(Fe()),v(p.closeParen);return fn(x,de,_)}function we(){var _=[],x,F;if(o.type===p.identifier&&(x=o.value,s()),o.type===p.valtype&&(F=o.value,s(),_.push({id:x,valtype:F}),x===void 0))for(;o.type===p.valtype;)F=o.value,s(),_.push({id:void 0,valtype:F});return _}function Ke(){var _=ut(0),x=[],F=[];for(o.type===p.identifier&&(_=Je(o),s()),o.type===p.number&&(_=ut(o.value),s());o.type!==p.closeParen;)if(S(p.openParen,R.offset)){for(s(),s();o.type!==p.closeParen;)v(p.openParen),x.push(Fe()),v(p.closeParen);v(p.closeParen)}else if(o.type===p.identifier)F.push(Ee(o.value)),s();else if(o.type===p.number)F.push(ut(o.value)),s();else if(o.type===p.openParen)s(),x.push(Fe()),v(p.closeParen);else throw function(){return new Error(`
`+Le(e,o.loc)+`
Unsupported token in elem, given `+$e(o))}();return La(_,x,F)}function er(){if(o.type===p.identifier){var _=Je(o);return s(),ln(_)}if(o.type===p.number){var x=ut(o.value);return s(),ln(x)}throw new Error("Unknown start, token: "+$e(o))}if(o.type===p.openParen){s();var Oe=f();if(fe(o,R.export)){s();var Xe=Be(),ot=c();return Z(Xe,ot,Oe)}if(fe(o,R.loop)){s();var dt=G(),Nt=c();return Z(dt,Nt,Oe)}if(fe(o,R.func)){s();var tr=gt(),Lt=c();return oe(),v(p.closeParen),Z(tr,Lt,Oe)}if(fe(o,R.module)){s();var rr=ht(),Qr=c();return Z(rr,Qr,Oe)}if(fe(o,R.import)){s();var At=le(),vt=c();return v(p.closeParen),Z(At,vt,Oe)}if(fe(o,R.block)){s();var Sr=H(),We=c();return v(p.closeParen),Z(Sr,We,Oe)}if(fe(o,R.memory)){s();var Gt=ie(),Jr=c();return v(p.closeParen),Z(Gt,Jr,Oe)}if(fe(o,R.data)){s();var zt=$(),Tt=c();return v(p.closeParen),Z(zt,Tt,Oe)}if(fe(o,R.table)){s();var nr=te(),ar=c();return v(p.closeParen),Z(nr,ar,Oe)}if(fe(o,R.global)){s();var $r=Ft(),h=c();return v(p.closeParen),Z($r,h,Oe)}if(fe(o,R.type)){s();var g=$t(),M=c();return v(p.closeParen),Z(g,M,Oe)}if(fe(o,R.start)){s();var E=er(),k=c();return v(p.closeParen),Z(E,k,Oe)}if(fe(o,R.elem)){s();var X=Ke(),A=c();return v(p.closeParen),Z(X,A,Oe)}var V=Fe(),Q=c();if(oe(),On(V)==="object")return typeof o<"u"&&v(p.closeParen),Z(V,Q,Oe)}if(o.type===p.comment){var Me=f(),pe=o.opts.type==="leading"?qi:Gi,Ne=pe(o.value);s();var Ae=c();return Z(Ne,Ae,Me)}throw function(){return new Error(`
`+Le(e,o.loc)+`
Unknown token, given `+$e(o))}()}for(var u=[];r<t.length;)u.push(i());return yn(u)}function jc(t){var e=Oc(t),r=Bc(e,t);return r}var Cc=Object.freeze({__proto__:null,parse:jc,parse32F:to,parse64F:ro,parse32I:dr,parseU32:no,parse64I:ao,isInfLiteral:vr,isNanLiteral:pr}),Uc=ye(Cc);function Hu(t,e,r,n,a){var i,u,o=a*8-n-1,s=(1<<o)-1,c=s>>1,f=-7,v=r?a-1:0,I=r?-1:1,S=t[e+v];for(v+=I,i=S&(1<<-f)-1,S>>=-f,f+=o;f>0;i=i*256+t[e+v],v+=I,f-=8);for(u=i&(1<<-f)-1,i>>=-f,f+=n;f>0;u=u*256+t[e+v],v+=I,f-=8);if(i===0)i=1-c;else{if(i===s)return u?NaN:(S?-1:1)*(1/0);u=u+Math.pow(2,n),i=i-c}return(S?-1:1)*u*Math.pow(2,i-n)}var Br=4,jr=8,qc=23,Gc=52;function zc(t){var e=Buffer.from(t);return Hu(e,0,!0,qc,Br)}function Rc(t){var e=Buffer.from(t);return Hu(e,0,!0,Gc,jr)}function Bn(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function jn(t){return Array.isArray(t)?t:Array.from(t)}function gr(t){if((t&192)===128)return t&63;throw new Error("invalid UTF-8 encoding")}function Cn(t,e){if(e<t||55296<=e&&e<57344||e>=65536)throw new Error("invalid UTF-8 encoding");return e}function Dc(t){return Cr(t).map(function(e){return String.fromCharCode(e)}).join("")}function Cr(t){if(t.length===0)return[];{var e=jn(t),r=e[0],n=e.slice(1);if(r<128)return[Cn(0,r)].concat(Bn(Cr(n)));if(r<192)throw new Error("invalid UTF-8 encoding")}{var a=jn(t),i=a[0],u=a[1],o=a.slice(2);if(i<224)return[Cn(128,((i&31)<<6)+gr(u))].concat(Bn(Cr(o)))}{var s=jn(t),c=s[0],f=s[1],v=s[2],I=s.slice(3);if(c<240)return[Cn(2048,((c&15)<<12)+(gr(f)<<6)+gr(v))].concat(Bn(Cr(I)))}{var S=jn(t),oe=S[0],ie=S[1],$=S[2],te=S[3],le=S.slice(4);if(oe<248)return[Cn(65536,(((oe&7)<<18)+gr(ie)<<12)+(gr($)<<6)+gr(te))].concat(Bn(Cr(le)))}throw new Error("invalid UTF-8 encoding")}function Vc(t,e,r,n){if(r<0||r>32)throw new Error("Bad value for bitLength.");if(n===void 0)n=0;else if(n!==0&&n!==1)throw new Error("Bad value for defaultBit.");var a=n*255,i=0,u=e+r,o=Math.floor(e/8),s=e%8,c=Math.floor(u/8),f=u%8;for(f!==0&&(i=v(c)&(1<<f)-1);c>o;)c--,i=i<<8|v(c);return i>>>=s,i;function v(I){var S=t[I];return S===void 0?a:S}}function Hc(t,e,r,n){if(r<0||r>32)throw new Error("Bad value for bitLength.");var a=Math.floor((e+r-1)/8);if(e<0||a>=t.length)throw new Error("Index out of range.");for(var i=Math.floor(e/8),u=e%8;r>0;)n&1?t[i]|=1<<u:t[i]&=~(1<<u),n>>=1,r--,u=(u+1)%8,u===0&&i++}function Xu(t){return t[t.length-1]>>>7}function Wu(t,e){for(var r=e.length,n=(t^1)*255;r>0&&e[r-1]===n;)r--;if(r===0)return-1;for(var a=e[r-1],i=r*8-1,u=7;u>0&&(a>>u&1)!==t;u--)i--;return i}var mo=[],Xc=20,Wc=-9223372036854776e3,Zc=9223372036854775e3,Qc=1844674407370955e4,Zu=4294967296,Jc=18446744073709552e3;function Kc(t){return t&-t}function Qu(t,e){if(e===0)return!1;var r=Kc(e),n=t+r;return n===t||n-r!==t}function Zt(t){var e=mo[t];return e?mo[t]=void 0:e=new Buffer(t),e.fill(0),e}function kt(t){var e=t.length;e<Xc&&(mo[e]=t)}function Yc(t,e){if(e===t.length)return t;var r=Zt(e);return t.copy(r),kt(t),r}function ed(t){var e=t.length,r=t[e-1]<128,n=r?0:-1,a=!1;if(e<7)for(var i=e-1;i>=0;i--)n=n*256+t[i];else for(var u=e-1;u>=0;u--){var o=t[u];n*=256,Qu(n,o)&&(a=!0),n+=o}return{value:n,lossy:a}}function td(t){var e=t.length,r=0,n=!1;if(e<7)for(var a=e-1;a>=0;a--)r=r*256+t[a];else for(var i=e-1;i>=0;i--){var u=t[i];r*=256,Qu(r,u)&&(n=!0),r+=u}return{value:r,lossy:n}}function rd(t,e){if(t<Wc||t>Zc)throw new Error("Value out of range.");t<0&&(t+=Jc),Ju(t,e)}function Ju(t,e){if(t<0||t>Qc)throw new Error("Value out of range.");var r=t%Zu,n=Math.floor(t/Zu);e.writeUInt32LE(r,0),e.writeUInt32LE(n,4)}var nd=-2147483648,ad=2147483647,od=4294967295;function id(t){return Wu(Xu(t)^1,t)+2}function ud(t){var e=Wu(1,t)+1;return e||1}function Ku(t,e){var r,n;e?(r=Xu(t),n=id(t)):(r=0,n=ud(t));for(var a=Math.ceil(n/7),i=Zt(a),u=0;u<a;u++){var o=Vc(t,u*7,7,r);i[u]=o|128}return i[a-1]&=127,i}function sd(t,e){for(var r=0;t[e+r]>=128;)r++;return r++,e+r>t.length,r}function Yu(t,e,r){e=e===void 0?0:e;for(var n=sd(t,e),a=n*7,i=Math.ceil(a/8),u=Zt(i),o=0;n>0;)Hc(u,o,7,t[e]),o+=7,e++,n--;var s,c;if(r){var f=u[i-1],v=o%8;if(v!==0){var I=32-v;f=u[i-1]=f<<I>>I&255}s=f>>7,c=s*255}else s=0,c=0;for(;i>1&&u[i-1]===c&&(!r||u[i-2]>>7===s);)i--;return u=Yc(u,i),{value:u,nextIndex:e}}function ho(t){return Ku(t,!0)}function go(t,e){return Yu(t,e,!0)}function ld(t){var e=Zt(4);e.writeInt32LE(t,0);var r=ho(e);return kt(e),r}function fd(t,e){var r=go(t,e),n=ed(r.value),a=n.value;if(kt(r.value),a<nd||a>ad)throw new Error("integer too large");return{value:a,nextIndex:r.nextIndex}}function cd(t){var e=Zt(8);rd(t,e);var r=ho(e);return kt(e),r}function dd(t,e){var r=go(t,e),n=Ce.fromBytesLE(r.value,!1);return kt(r.value),{value:n,nextIndex:r.nextIndex,lossy:!1}}function bo(t){return Ku(t,!1)}function wo(t,e){return Yu(t,e,!1)}function vd(t){var e=Zt(4);e.writeUInt32LE(t,0);var r=bo(e);return kt(e),r}function pd(t,e){var r=wo(t,e),n=td(r.value),a=n.value;if(kt(r.value),a>od)throw new Error("integer too large");return{value:a,nextIndex:r.nextIndex}}function yd(t){var e=Zt(8);Ju(t,e);var r=bo(e);return kt(e),r}function md(t,e){var r=wo(t,e),n=Ce.fromBytesLE(r.value,!0);return kt(r.value),{value:n,nextIndex:r.nextIndex,lossy:!1}}var Un={decodeInt32:fd,decodeInt64:dd,decodeIntBuffer:go,decodeUInt32:pd,decodeUInt64:md,decodeUIntBuffer:wo,encodeInt32:ld,encodeInt64:cd,encodeIntBuffer:ho,encodeUInt32:vd,encodeUInt64:yd,encodeUIntBuffer:bo},es=5,ts=10;function hd(t,e){return Un.decodeInt64(t,e)}function gd(t,e){return Un.decodeUInt64(t,e)}function bd(t,e){return Un.decodeInt32(t,e)}function _o(t,e){return Un.decodeUInt32(t,e)}function qn(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function qe(t){return"0x"+Number(t).toString(16)}function rs(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function wd(t,e){var r=new Uint8Array(t),n=co(),a=0;function i(){return{line:-1,column:a}}function u(h,g){if(e.dump!==!1){var M="										",E="";h.length<5?E=h.map(qe).join(" "):E="...",console.log(qe(a)+":	",E,M,";",g)}}function o(h){e.dump!==!1&&console.log(";",h)}var s={elementsInFuncSection:[],elementsInExportSection:[],elementsInCodeSection:[],memoriesInModule:[],typesInModule:[],functionsInModule:[],tablesInModule:[],globalsInModule:[]};function c(){return a>=r.length}function f(h){a=a+h}function v(h,g){for(var M=[],E=0;E<g;E++)M.push(r[h+E]);return M}function I(h){return v(a,h)}function S(){var h=I(jr),g=Rc(h);if(Math.sign(g)*g===1/0)return{value:Math.sign(g),inf:!0,nextIndex:jr};if(isNaN(g)){for(var M=h[h.length-1]>>7?-1:1,E=0,k=0;k<h.length-2;++k)E+=h[k]*Math.pow(256,k);return E+=h[h.length-2]%16*Math.pow(256,h.length-2),{value:M*E,nan:!0,nextIndex:jr}}return{value:g,nextIndex:jr}}function oe(){var h=I(Br),g=zc(h);if(Math.sign(g)*g===1/0)return{value:Math.sign(g),inf:!0,nextIndex:Br};if(isNaN(g)){for(var M=h[h.length-1]>>7?-1:1,E=0,k=0;k<h.length-2;++k)E+=h[k]*Math.pow(256,k);return E+=h[h.length-2]%128*Math.pow(256,h.length-2),{value:M*E,nan:!0,nextIndex:Br}}return{value:g,nextIndex:Br}}function ie(){var h=$(),g=h.value;u([g],"string length");var M=v(a+h.nextIndex,g),E=Dc(M);return{value:E,nextIndex:g+h.nextIndex}}function $(){var h=I(es),g=Buffer.from(h);return _o(g)}function te(){var h=I(4),g=Buffer.from(h);return _o(g)}function le(){var h=I(1),g=Buffer.from(h);return _o(g)}function H(){var h=I(es),g=Buffer.from(h);return bd(g)}function P(){var h=I(ts),g=Buffer.from(h);return hd(g)}function G(){var h=I(ts),g=Buffer.from(h);return gd(g)}function ae(){return I(1)[0]}function Be(){if(c()===!0||a+4>r.length)throw new Error("unexpected end");var h=I(4);if(rs(se.magicModuleHeader,h)===!1)throw new xe("magic header not detected");u(h,"wasm magic header"),f(4)}function Pe(){if(c()===!0||a+4>r.length)throw new Error("unexpected end");var h=I(4);if(rs(se.moduleVersion,h)===!1)throw new xe("unknown binary version");u(h,"wasm version"),f(4)}function ht(h){var g=$(),M=g.value;if(f(g.nextIndex),u([M],"number"),M===0)return[];for(var E=[],k=0;k<M;k++){var X=ae();f(1);var A=h(X);if(u([X],A),typeof A>"u")throw new xe("Internal failure: parseVec could not cast the value");E.push(A)}return E}function Ut(h){var g=[];u([h],"num types");for(var M=0;M<h;M++){var E=i();o("type "+M);var k=ae();if(f(1),k==se.types.func){u([k],"func");var X=ht(function(Q){return se.valtypes[Q]}),A=X.map(function(Q){return Fu(Q)}),V=ht(function(Q){return se.valtypes[Q]});g.push(function(){var Q=i();return Z(sn(void 0,yt(A,V)),Q,E)}()),s.typesInModule.push({params:A,result:V})}else throw new Error("Unsupported type: "+qe(k))}return g}function Fe(h){for(var g=[],M=0;M<h;M++){o("import header "+M);var E=i(),k=ie();f(k.nextIndex),u([],"module name (".concat(k.value,")"));var X=ie();f(X.nextIndex),u([],"name (".concat(X.value,")"));var A=ae();f(1);var V=se.importTypes[A];if(u([A],"import kind"),typeof V>"u")throw new xe("Unknown import description type: "+qe(A));var Q=void 0;if(V==="func"){var Me=$(),pe=Me.value;f(Me.nextIndex),u([pe],"type index");var Ne=s.typesInModule[pe];if(typeof Ne>"u")throw new xe("function signature not found (".concat(pe,")"));var Ae=n("func");Q=Oa(Ae,yt(Ne.params,Ne.result)),s.functionsInModule.push({id:Ee(X.value),signature:Ne,isExternal:!0})}else if(V==="global"){Q=we();var _=fn(Q,[]);s.globalsInModule.push(_)}else if(V==="table")Q=Ft(M);else if(V==="mem"){var x=Nt(0);s.memoriesInModule.push(x),Q=x}else throw new xe("Unsupported import of type: "+V);g.push(function(){var F=i();return Z(dn(k.value,X.value,Q),F,E)}())}return g}function gt(h){u([h],"num funcs");for(var g=0;g<h;g++){var M=$(),E=M.value;f(M.nextIndex),u([E],"type index");var k=s.typesInModule[E];if(typeof k>"u")throw new xe("function signature not found (".concat(E,")"));var X=Qe(Ee(n("func")),"");s.functionsInModule.push({id:X,signature:k,isExternal:!1})}}function qt(h){u([h],"num exports");for(var g=0;g<h;g++){var M=i(),E=ie();f(E.nextIndex),u([],"export name (".concat(E.value,")"));var k=ae();f(1),u([k],"export kind");var X=$(),A=X.value;f(X.nextIndex),u([A],"export index");var V=void 0,Q=void 0;if(se.exportTypes[k]==="Func"){var Me=s.functionsInModule[A];if(typeof Me>"u")throw new xe("unknown function (".concat(A,")"));V=he(A,String(A)),Q=Me.signature}else if(se.exportTypes[k]==="Table"){var pe=s.tablesInModule[A];if(typeof pe>"u")throw new xe("unknown table ".concat(A));V=he(A,String(A)),Q=null}else if(se.exportTypes[k]==="Mem"){var Ne=s.memoriesInModule[A];if(typeof Ne>"u")throw new xe("unknown memory ".concat(A));V=he(A,String(A)),Q=null}else if(se.exportTypes[k]==="Global"){var Ae=s.globalsInModule[A];if(typeof Ae>"u")throw new xe("unknown global ".concat(A));V=he(A,String(A)),Q=null}else{console.warn("Unsupported export type: "+qe(k));return}var _=i();s.elementsInExportSection.push({name:E.value,type:se.exportTypes[k],signature:Q,id:V,index:A,endLoc:_,startLoc:M})}}function $t(h){u([h],"number functions");for(var g=0;g<h;g++){var M=i();o("function body "+g);var E=$();f(E.nextIndex),u([E.value],"function body size");var k=[],X=$(),A=X.value;f(X.nextIndex),u([A],"num locals");for(var V=[],Q=0;Q<A;Q++){var Me=i(),pe=$(),Ne=pe.value;f(pe.nextIndex),u([Ne],"num local");var Ae=ae();f(1);for(var _=se.valtypes[Ae],x=[],F=0;F<Ne;F++)x.push(Aa(_));var W=function(){var ce=i();return Z(Xt("local",x),ce,Me)}();if(V.push(W),u([Ae],_),typeof _>"u")throw new xe("Unexpected valtype: "+qe(Ae))}k.push.apply(k,V),Ge(k);var re=i();s.elementsInCodeSection.push({code:k,locals:V,endLoc:re,startLoc:M,bodySize:E.value})}}function Ge(h){for(;;){var g=i(),M=!1,E=ae();f(1),E===254&&(E=65024+ae(),f(1));var k=se.symbolsByByte[E];if(typeof k>"u")throw new xe("Unexpected instruction: "+qe(E));if(typeof k.object=="string"?u([E],"".concat(k.object,".").concat(k.name)):u([E],k.name),k.name==="end"){var X=function(){var De=i();return Z(Xt(k.name),De,g)}();h.push(X);break}var A=[];if(k.name==="loop"){var V=i(),Q=ae();f(1);var Me=se.blockTypes[Q];if(u([Q],"blocktype"),typeof Me>"u")throw new xe("Unexpected blocktype: "+qe(Q));var pe=[];Ge(pe);var Ne=Qe(Ee(n("loop")),""),Ae=function(){var De=i();return Z($a(Ne,Me,pe),De,V)}();h.push(Ae),M=!0}else if(k.name==="if"){var _=i(),x=ae();f(1);var F=se.blockTypes[x];if(u([x],"blocktype"),typeof F>"u")throw new xe("Unexpected blocktype: "+qe(x));var W=Qe(Ee(n("if")),""),re=[];Ge(re);var ce=0;for(ce=0;ce<re.length;++ce){var de=re[ce];if(de.type==="Instr"&&de.id==="else")break}var ze=re.slice(0,ce),bt=re.slice(ce+1),Pt=[],pt=function(){var De=i();return Z(Na(W,Pt,F,ze,bt),De,_)}();h.push(pt),M=!0}else if(k.name==="block"){var wt=i(),_t=ae();f(1);var or=se.blockTypes[_t];if(u([_t],"blocktype"),typeof or>"u")throw new xe("Unexpected blocktype: "+qe(_t));var Fr=[];Ge(Fr);var Kr=Qe(Ee(n("block")),""),xt=function(){var De=i();return Z(Ba(Kr,Fr,or),De,wt)}();h.push(xt),M=!0}else if(k.name==="call"){var Ot=$(),Nr=Ot.value;f(Ot.nextIndex),u([Nr],"index");var ne=function(){var De=i();return Z(mn(ut(Nr)),De,g)}();h.push(ne),M=!0}else if(k.name==="call_indirect"){var ue=i(),Ie=$(),It=Ie.value;f(Ie.nextIndex),u([It],"type index");var Bt=s.typesInModule[It];if(typeof Bt>"u")throw new xe("call_indirect signature not found (".concat(It,")"));var Ii=ja(yt(Bt.params,Bt.result),[]),ya=$(),Ei=ya.value;if(f(ya.nextIndex),Ei!==0)throw new xe("zero flag expected");h.push(function(){var De=i();return Z(Ii,De,ue)}()),M=!0}else if(k.name==="br_table"){var ma=$(),ha=ma.value;f(ma.nextIndex),u([ha],"num indices");for(var Yr=0;Yr<=ha;Yr++){var Lr=$(),ki=Lr.value;f(Lr.nextIndex),u([ki],"index"),A.push(he(Lr.value.toString(),"u32"))}}else if(E>=40&&E<=64)if(k.name==="grow_memory"||k.name==="current_memory"){var ga=$(),ba=ga.value;if(f(ga.nextIndex),ba!==0)throw new Error("zero flag expected");u([ba],"index")}else{var en=$(),wa=en.value;f(en.nextIndex),u([wa],"align");var _a=$(),Mi=_a.value;f(_a.nextIndex),u([Mi],"offset")}else if(E>=65&&E<=68){if(k.object==="i32"){var xa=H(),tn=xa.value;f(xa.nextIndex),u([tn],"i32 value"),A.push(he(tn))}if(k.object==="u32"){var rn=$(),Ia=rn.value;f(rn.nextIndex),u([Ia],"u32 value"),A.push(he(Ia))}if(k.object==="i64"){var Ea=P(),ir=Ea.value;f(Ea.nextIndex),u([Number(ir.toString())],"i64 value");var Si=ir.high,nn=ir.low,ka={type:"LongNumberLiteral",value:{high:Si,low:nn}};A.push(ka)}if(k.object==="u64"){var Ma=G(),an=Ma.value;f(Ma.nextIndex),u([Number(an.toString())],"u64 value");var Ar=an.high,Rt=an.low,ur={type:"LongNumberLiteral",value:{high:Ar,low:Rt}};A.push(ur)}if(k.object==="f32"){var Tr=oe(),on=Tr.value;f(Tr.nextIndex),u([on],"f32 value"),A.push(Pr(on,Tr.nan,Tr.inf,String(on)))}if(k.object==="f64"){var me=S(),$i=me.value;f(me.nextIndex),u([$i],"f64 value"),A.push(Pr($i,me.nan,me.inf,String($i)))}}else if(E>=65024&&E<=65279){var bl=$(),ub=bl.value;f(bl.nextIndex),u([ub],"align");var wl=$(),sb=wl.value;f(wl.nextIndex),u([sb],"offset")}else for(var Fi=0;Fi<k.numberOfArgs;Fi++){var Ni=$();f(Ni.nextIndex),u([Ni.value],"argument "+Fi),A.push(he(Ni.value))}if(M===!1)if(typeof k.object=="string"){var lb=function(){var De=i();return Z(Or(k.name,k.object,A),De,g)}();h.push(lb)}else{var fb=function(){var De=i();return Z(Xt(k.name,A),De,g)}();h.push(fb)}}}function ct(){var h=ae();f(1);var g=h===3;u([h],"limit type"+(g?" (shared)":""));var M,E;if(h===1||h===3){var k=$();M=parseInt(k.value),f(k.nextIndex),u([M],"min");var X=$();E=parseInt(X.value),f(X.nextIndex),u([E],"max")}if(h===0){var A=$();M=parseInt(A.value),f(A.nextIndex),u([M],"min")}return jt(M,E,g)}function Ft(h){var g=Qe(Ee(n("table")),String(h)),M=ae();f(1),u([M],"element type");var E=se.tableTypes[M];if(typeof E>"u")throw new xe("Unknown element type in table: "+qe(E));var k=ct();return cn(E,k,g)}function we(){var h=ae();f(1);var g=se.valtypes[h];if(u([h],g),typeof g>"u")throw new xe("Unknown valtype: "+qe(h));var M=ae();f(1);var E=se.globalTypes[M];if(u([M],"global type (".concat(E,")")),typeof E>"u")throw new xe("Invalid mutability: "+qe(M));return sr(g,E)}function Ke(){var h=[],g=$(),M=g.value;f(g.nextIndex);for(var E=0;E<M;E++){var k=$(),X=k.value;f(k.nextIndex);var A=ie();f(A.nextIndex),h.push(Ai(A.value,X))}return h}function er(){var h=[],g=$(),M=g.value;f(g.nextIndex);for(var E=0;E<M;E++){var k=$(),X=k.value;f(k.nextIndex);var A=$(),V=A.value;f(A.nextIndex);for(var Q=0;Q<V;Q++){var Me=$(),pe=Me.value;f(Me.nextIndex);var Ne=ie();f(Ne.nextIndex),h.push(Ti(Ne.value,pe,X))}}return h}function Oe(h){for(var g=[],M=a;a-M<h;){var E=le();f(E.nextIndex);var k=te();switch(f(k.nextIndex),E.value){case 1:{g.push.apply(g,qn(Ke()));break}case 2:{g.push.apply(g,qn(er()));break}default:f(k.value)}}return g}function Xe(){var h=Bi([]),g=te();f(g.nextIndex),u([g.value],"num of producers");for(var M={language:[],"processed-by":[],sdk:[]},E=0;E<g.value;E++){var k=ie();f(k.nextIndex);var X=te();f(X.nextIndex);for(var A=0;A<X.value;A++){var V=ie();f(V.nextIndex);var Q=ie();f(Q.nextIndex),M[k.value].push(ji(V.value,Q.value))}h.producers.push(M[k.value])}return h}function ot(h){var g=[];u([h],"num globals");for(var M=0;M<h;M++){var E=i(),k=we(),X=[];Ge(X);var A=function(){var V=i();return Z(fn(k,X),V,E)}();g.push(A),s.globalsInModule.push(A)}return g}function dt(h){var g=[];u([h],"num elements");for(var M=0;M<h;M++){var E=i(),k=$(),X=k.value;f(k.nextIndex),u([X],"table index");var A=[];Ge(A);var V=$(),Q=V.value;f(V.nextIndex),u([Q],"num indices");for(var Me=[],pe=0;pe<Q;pe++){var Ne=$(),Ae=Ne.value;f(Ne.nextIndex),u([Ae],"index"),Me.push(ut(Ae))}var _=function(){var x=i();return Z(La(ut(X),A,Me),x,E)}();g.push(_)}return g}function Nt(h){var g=ct();return Pa(g,ut(h))}function tr(h){var g=[];u([h],"num elements");for(var M=0;M<h;M++){var E=Ft(M);s.tablesInModule.push(E),g.push(E)}return g}function Lt(h){var g=[];u([h],"num elements");for(var M=0;M<h;M++){var E=Nt(M);s.memoriesInModule.push(E),g.push(E)}return g}function rr(){var h=i(),g=$(),M=g.value;return f(g.nextIndex),u([M],"index"),function(){var E=i();return Z(ln(ut(M)),E,h)}()}function Qr(h){var g=[];u([h],"num elements");for(var M=0;M<h;M++){var E=$(),k=E.value;f(E.nextIndex),u([k],"memory index");var X=[];Ge(X);var A=X.filter(function(Q){return Q.id!=="end"}).length!==1;if(A)throw new xe("data section offset must be a single instruction");var V=ht(function(Q){return Q});u([],"init"),g.push(Ta(oo(k),X[0],Ca(V)))}return g}function At(h){var g=ae();if(f(1),g>=h||h===se.sections.custom)h=g+1;else if(g!==se.sections.custom)throw new xe("Unexpected section: "+qe(g));var M=h,E=a,k=i(),X=$(),A=X.value;f(X.nextIndex);var V=function(){var me=i();return Z(he(A),me,k)}();switch(g){case se.sections.type:{o("section Type"),u([g],"section code"),u([A],"section size");var Q=i(),Me=$(),pe=Me.value;f(Me.nextIndex);var Ne=Ze("type",E,V,function(){var me=i();return Z(he(pe),me,Q)}()),Ae=Ut(pe);return{nodes:Ae,metadata:Ne,nextSectionIndex:M}}case se.sections.table:{o("section Table"),u([g],"section code"),u([A],"section size");var _=i(),x=$(),F=x.value;f(x.nextIndex),u([F],"num tables");var W=Ze("table",E,V,function(){var me=i();return Z(he(F),me,_)}()),re=tr(F);return{nodes:re,metadata:W,nextSectionIndex:M}}case se.sections.import:{o("section Import"),u([g],"section code"),u([A],"section size");var ce=i(),de=$(),ze=de.value;f(de.nextIndex),u([ze],"number of imports");var bt=Ze("import",E,V,function(){var me=i();return Z(he(ze),me,ce)}()),Pt=Fe(ze);return{nodes:Pt,metadata:bt,nextSectionIndex:M}}case se.sections.func:{o("section Function"),u([g],"section code"),u([A],"section size");var pt=i(),wt=$(),_t=wt.value;f(wt.nextIndex);var or=Ze("func",E,V,function(){var me=i();return Z(he(_t),me,pt)}());gt(_t);var Fr=[];return{nodes:Fr,metadata:or,nextSectionIndex:M}}case se.sections.export:{o("section Export"),u([g],"section code"),u([A],"section size");var Kr=i(),xt=$(),Ot=xt.value;f(xt.nextIndex);var Nr=Ze("export",E,V,function(){var me=i();return Z(he(Ot),me,Kr)}());qt(Ot);var ne=[];return{nodes:ne,metadata:Nr,nextSectionIndex:M}}case se.sections.code:{o("section Code"),u([g],"section code"),u([A],"section size");var ue=i(),Ie=$(),It=Ie.value;f(Ie.nextIndex);var Bt=Ze("code",E,V,function(){var me=i();return Z(he(It),me,ue)}());if(e.ignoreCodeSection===!0){var Ii=A-Ie.nextIndex;f(Ii)}else $t(It);var ya=[];return{nodes:ya,metadata:Bt,nextSectionIndex:M}}case se.sections.start:{o("section Start"),u([g],"section code"),u([A],"section size");var Ei=Ze("start",E,V),ma=[rr()];return{nodes:ma,metadata:Ei,nextSectionIndex:M}}case se.sections.element:{o("section Element"),u([g],"section code"),u([A],"section size");var ha=i(),Yr=$(),Lr=Yr.value;f(Yr.nextIndex);var ki=Ze("element",E,V,function(){var me=i();return Z(he(Lr),me,ha)}()),ga=dt(Lr);return{nodes:ga,metadata:ki,nextSectionIndex:M}}case se.sections.global:{o("section Global"),u([g],"section code"),u([A],"section size");var ba=i(),en=$(),wa=en.value;f(en.nextIndex);var _a=Ze("global",E,V,function(){var me=i();return Z(he(wa),me,ba)}()),Mi=ot(wa);return{nodes:Mi,metadata:_a,nextSectionIndex:M}}case se.sections.memory:{o("section Memory"),u([g],"section code"),u([A],"section size");var xa=i(),tn=$(),rn=tn.value;f(tn.nextIndex);var Ia=Ze("memory",E,V,function(){var me=i();return Z(he(rn),me,xa)}()),Ea=Lt(rn);return{nodes:Ea,metadata:Ia,nextSectionIndex:M}}case se.sections.data:{o("section Data"),u([g],"section code"),u([A],"section size");var ir=Ze("data",E,V),Si=i(),nn=$(),ka=nn.value;if(f(nn.nextIndex),ir.vectorOfSize=function(){var me=i();return Z(he(ka),me,Si)}(),e.ignoreDataSection===!0){var Ma=A-nn.nextIndex;return f(Ma),o("ignore data ("+A+" bytes)"),{nodes:[],metadata:ir,nextSectionIndex:M}}else{var an=Qr(ka);return{nodes:an,metadata:ir,nextSectionIndex:M}}}case se.sections.custom:{o("section Custom"),u([g],"section code"),u([A],"section size");var Ar=[Ze("custom",E,V)],Rt=ie();f(Rt.nextIndex),u([],"section name (".concat(Rt.value,")"));var ur=A-Rt.nextIndex;if(Rt.value==="name"){var Tr=a;try{Ar.push.apply(Ar,qn(Oe(ur)))}catch(me){console.warn('Failed to decode custom "name" section @'.concat(a,"; ignoring (").concat(me.message,").")),f(a-(Tr+ur))}}else if(Rt.value==="producers"){var on=a;try{Ar.push(Xe())}catch(me){console.warn('Failed to decode custom "producers" section @'.concat(a,"; ignoring (").concat(me.message,").")),f(a-(on+ur))}}else f(ur),o("ignore custom "+JSON.stringify(Rt.value)+" section ("+ur+" bytes)");return{nodes:[],metadata:Ar,nextSectionIndex:M}}}throw new xe("Unexpected section: "+qe(g))}Be(),Pe();for(var vt=[],Sr=0,We={sections:[],functionNames:[],localNames:[],producers:[]};a<r.length;){var Gt=At(Sr),Jr=Gt.nodes,zt=Gt.metadata,Tt=Gt.nextSectionIndex;vt.push.apply(vt,qn(Jr));var nr=Array.isArray(zt)?zt:[zt];nr.forEach(function(h){h.type==="FunctionNameMetadata"?We.functionNames.push(h):h.type==="LocalNameMetadata"?We.localNames.push(h):h.type==="ProducersSectionMetadata"?We.producers.push(h):We.sections.push(h)}),Tt&&(Sr=Tt)}var ar=0;s.functionsInModule.forEach(function(h){var g=h.signature.params,M=h.signature.result,E=[];if(h.isExternal!==!0){var k=s.elementsInCodeSection[ar];if(e.ignoreCodeSection===!1){if(typeof k>"u")throw new xe("func "+qe(ar)+" code not found");E=k.code}ar++;var X=hn(h.id,yt(g,M),E);if(h.isExternal===!0&&(X.isExternal=h.isExternal),e.ignoreCodeSection===!1){var A=k.startLoc,V=k.endLoc,Q=k.bodySize;X=Z(X,V,A),X.metadata={bodySize:Q}}vt.push(X)}}),s.elementsInExportSection.forEach(function(h){h.id!=null&&vt.push(Z(pn(h.name,vn(h.type,h.id)),h.endLoc,h.startLoc))}),o("end of program");var $r=Sa(null,vt,Li(We.sections,We.functionNames,We.localNames,We.producers));return yn([$r])}var _d={dump:!1,ignoreCodeSection:!1,ignoreDataSection:!1,ignoreCustomNameSection:!1};function xd(t){var e=[];ke(t,{FunctionNameMetadata:function(n){var a=n.node;e.push({name:a.value,index:a.index})}}),e.length!==0&&ke(t,{Func:function(r){function n(a){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}(function(r){var n=r.node,a=n.name,i=a.value,u=Number(i.replace("func_","")),o=e.find(function(c){return c.index===u});if(o){var s=a.value;a.value=o.name,a.numeric=s,delete a.raw}}),ModuleExport:function(r){function n(a){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}(function(r){var n=r.node;if(n.descr.exportType==="Func"){var a=n.descr.id,i=a.value,u=e.find(function(o){return o.index===i});u&&(n.descr.id=Ee(u.name))}}),ModuleImport:function(r){function n(a){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}(function(r){var n=r.node;if(n.descr.type==="FuncImportDescr"){var a=n.descr.id,i=Number(a.replace("func_","")),u=e.find(function(o){return o.index===i});u&&(n.descr.id=Ee(u.name))}}),CallInstruction:function(r){function n(a){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}(function(r){var n=r.node,a=n.index.value,i=e.find(function(o){return o.index===a});if(i){var u=n.index;n.index=Ee(i.name),n.numeric=u,delete n.raw}})})}function Id(t){var e=[];ke(t,{LocalNameMetadata:function(n){var a=n.node;e.push({name:a.value,localIndex:a.localIndex,functionIndex:a.functionIndex})}}),e.length!==0&&ke(t,{Func:function(r){function n(a){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}(function(r){var n=r.node,a=n.signature;if(a.type==="Signature"){var i=n.name,u=i.value,o=Number(u.replace("func_",""));a.params.forEach(function(s,c){var f=e.find(function(v){return v.localIndex===c&&v.functionIndex===o});f&&f.name!==""&&(s.id=f.name)})}})})}function Ed(t){ke(t,{ModuleNameMetadata:function(e){function r(n){return e.apply(this,arguments)}return r.toString=function(){return e.toString()},r}(function(e){ke(t,{Module:function(r){function n(a){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}(function(r){var n=r.node,a=e.node.value;a===""&&(a=null),n.id=a})})})})}function kd(t,e){var r=Object.assign({},_d,e),n=wd(t,r);return r.ignoreCustomNameSection===!1&&(xd(n),Id(n),Ed(n)),n}var Md=Object.freeze({__proto__:null,decode:kd}),Sd=ye(Md);function Gn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gn=function(r){return typeof r}:Gn=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gn(t)}function xo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Io(t,e){if(e&&(Gn(e)==="object"||typeof e=="function"))return e;if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ge=function(t){Eo(e,t);function e(){return xo(this,e),Io(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Error),$d=function(t){Eo(e,t);function e(){return xo(this,e),Io(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Error),Fd=function(t){Eo(e,t);function e(){return xo(this,e),Io(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Error),Nd=Object.freeze({__proto__:null,RuntimeError:ge,CompileError:$d,LinkError:Fd}),Qt=ye(Nd);function zn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zn=function(r){return typeof r}:zn=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zn(t)}function Ld(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ns(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ad(t,e,r){return e&&ns(t.prototype,e),r&&ns(t,r),t}var Td=Math.pow(2,23),Pd=function(){function t(e){if(Ld(this,t),zn(e)!=="object")throw new TypeError("TableDescriptor must be an object");if(typeof e.maximum=="number"?this._maximum=e.maximum:this._maximum=Td,typeof e.initial=="number"&&(this._initial=e.initial,this._initial>this._maximum))throw new RangeError("Initial number can not be higher than the maximum");this._elements=Array(this._initial),this._offset=0}return Ad(t,[{key:"push",value:function(r){var n=this._offset%this._maximum;this._elements[n]=r,this._offset=n+1}},{key:"get",value:function(r){var n=this._elements[r];return typeof n>"u"?null:n}},{key:"length",get:function(){return this._elements.length}}]),t}(),Od=Object.freeze({__proto__:null,Table:Pd}),as=ye(Od);function Bd(t,e,r){if(typeof t!="number")throw new Error('typeof atOffset === "number" error: unknown');var n=[[],[]];if(e.signature.type!=="Signature")throw new ge("Function signatures must be denormalised before execution");var a=e.signature;a.params.forEach(function(u){n[0].push(u.valtype)}),a.results.forEach(function(u){n[1].push(u)});var i=e.body;return{atOffset:t,type:n,code:i,module:r,isExternal:!1}}var jd={createInstance:Bd},Cd=Object.freeze({__proto__:null,default:jd}),Ud=ye(Cd);function qd(t,e,r){var n=[e,r];return{type:n,code:t,module:null,isExternal:!0}}function Gd(t,e,r){return{type:e,mutability:r,value:t}}var zd=Object.freeze({__proto__:null,createFuncInstance:qd,createGlobalInstance:Gd}),Rd=ye(zd),ko=ye(mc);function Dd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function os(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vd(t,e,r){return e&&os(t.prototype,e),r&&os(t,r),t}var Hd=Qt,br=Hd.RuntimeError,Ur=32,Mo="i32",Re=function(e){return e>>>0},nt=function(){function t(e){Dd(this,t),this._value=e|0}return Vd(t,[{key:"add",value:function(r){return new t(this._value+r._value)}},{key:"sub",value:function(r){return new t(this._value-r._value)}},{key:"mul",value:function(r){return new t(Ce.fromNumber(this._value).mul(Ce.fromNumber(r._value)).mod(Math.pow(2,Ur)).toNumber())}},{key:"div_s",value:function(r){if(r._value==0)throw new br("integer divide by zero");if(this._value==-2147483648&&r._value==-1)throw new br("integer overflow");return new t(this._value/r._value)}},{key:"div_u",value:function(r){if(r._value==0)throw new br("integer divide by zero");return new t(Re(this._value)/Re(r._value))}},{key:"rem_s",value:function(r){if(r._value==0)throw new br("integer divide by zero");return new t(this._value%r._value)}},{key:"rem_u",value:function(r){if(r._value==0)throw new br("integer divide by zero");return new t(Re(this._value)%Re(r._value))}},{key:"shl",value:function(r){return new t(this._value<<r._value)}},{key:"shr_s",value:function(r){return new t(this._value>>r._value)}},{key:"shr_u",value:function(r){return new t(this._value>>>r._value)}},{key:"rotl",value:function(r){return new t(this._value<<r._value|this._value>>>Ur-r._value)}},{key:"rotr",value:function(r){return new t(this._value>>>r._value|this._value<<Ur-r._value)}},{key:"clz",value:function(){if(this._value==0)return new t(Ur);for(var r=0,n=Re(this._value);(n&2147483648)==0;)r++,n=n<<1>>>0;return new t(r)}},{key:"ctz",value:function(){if(this._value==0)return new t(Ur);for(var r=0,n=Re(this._value);(n&1)==0;)r++,n=n>>1>>>0;return new t(r)}},{key:"popcnt",value:function(){for(var r=Re(this._value),n=0;r!=0;)r&2147483648&&n++,r=r<<1;return new t(n)}},{key:"div",value:function(){throw new br("Unsupported operation")}},{key:"and",value:function(r){return new t(this._value&r._value)}},{key:"or",value:function(r){return new t(this._value|r._value)}},{key:"xor",value:function(r){return new t(this._value^r._value)}},{key:"eqz",value:function(){return new t(this._value==0?1:0)}},{key:"eq",value:function(r){return new t(this._value==r._value?1:0)}},{key:"ne",value:function(r){return new t(this._value!=r._value?1:0)}},{key:"lt_u",value:function(r){return new t(Re(this._value)<Re(r._value)?1:0)}},{key:"lt_s",value:function(r){return new t(this._value<r._value?1:0)}},{key:"le_u",value:function(r){return new t(Re(this._value)<=Re(r._value)?1:0)}},{key:"le_s",value:function(r){return new t(this._value<=r._value?1:0)}},{key:"gt_u",value:function(r){return new t(Re(this._value)>Re(r._value)?1:0)}},{key:"gt_s",value:function(r){return new t(this._value>r._value?1:0)}},{key:"ge_u",value:function(r){return new t(Re(this._value)>=Re(r._value)?1:0)}},{key:"ge_s",value:function(r){return new t(this._value>=r._value?1:0)}},{key:"equals",value:function(r){return isNaN(this._value)?isNaN(r._value):this._value==r._value}},{key:"min",value:function(r){return new t(Math.min(this._value,r._value))}},{key:"max",value:function(r){return new t(Math.max(this._value,r._value))}},{key:"abs",value:function(){return new t(Math.abs(this._value))}},{key:"neg",value:function(){return new t(-this._value)}},{key:"copysign",value:function(r){return new t(Math.sign(this._value)===Math.sign(r._value)?this._value:-this._value)}},{key:"toNumber",value:function(){return this._value}},{key:"toString",value:function(){return this._value+""}},{key:"isTrue",value:function(){return this._value==1}},{key:"toByteArray",value:function(){for(var r=new Array(4),n=0,a=0;n<r.length;n++,a+=8)r[n]=this._value>>>a&255;return r}}],[{key:"fromArrayBuffer",value:function(r,n,a,i){var u=r.slice(n,n+4),o=new Int32Array(u)[0];return o<<=a,new t(i?o>>a:o>>>a)}}]),t}();function Xd(t){return{type:Mo,value:new nt(t)}}function Rn(t){return{type:Mo,value:t}}function Wd(t,e,r,n){return{type:Mo,value:nt.fromArrayBuffer(t,e,r,n)}}function st(){return new nt(1)}function lt(){return new nt(0)}var Zd=Object.freeze({__proto__:null,i32:nt,createValueFromAST:Xd,createValue:Rn,createValueFromArrayBuffer:Wd,createTrue:st,createFalse:lt}),qr=ye(Zd);function Qd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function is(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jd(t,e,r){return e&&is(t.prototype,e),r&&is(t,r),t}var Kd=Qt,Gr=Kd.RuntimeError,So="i64",wr=function(){function t(e){if(Qd(this,t),!(e instanceof Ce))throw new Error("value instanceof Long error: unknown");this._value=e}return Jd(t,[{key:"add",value:function(r){return new t(this._value.add(r._value))}},{key:"sub",value:function(r){return new t(this._value.sub(r._value))}},{key:"mul",value:function(r){return new t(this._value.mul(r._value))}},{key:"div_s",value:function(r){if(r._value.isZero())throw new Gr("integer divide by zero");return new t(this._value.div(r._value))}},{key:"div_u",value:function(r){if(r._value.isZero())throw new Gr("integer divide by zero");return new t(this._value.div(r._value))}},{key:"div",value:function(r){return new t(this._value.div(r._value))}},{key:"and",value:function(r){return new t(this._value.and(r._value))}},{key:"or",value:function(r){return new t(this._value.or(r._value))}},{key:"xor",value:function(r){return new t(this._value.xor(r._value))}},{key:"equals",value:function(r){return this._value.equals(r._value)}},{key:"isZero",value:function(){return this._value.low==0&&this._value.high==0}},{key:"abs",value:function(){return this._value.isNegative()?this._value.mul(-1):this}},{key:"copysign",value:function(){throw new Gr("Unsupported operation: copysign")}},{key:"max",value:function(r){return this._value.lessThan(r)===!0?r:this}},{key:"min",value:function(r){return this._value.lessThan(r)===!0?this:r}},{key:"neg",value:function(){return this._value.neg()}},{key:"lt_s",value:function(r){return this._value.toSigned().lt(r._value.toSigned())?st():lt()}},{key:"lt_u",value:function(r){return this._value.toUnsigned().lt(r._value.toUnsigned())?st():lt()}},{key:"le_s",value:function(r){return this._value.toSigned().lte(r._value.toSigned())?st():lt()}},{key:"le_u",value:function(r){return this._value.toUnsigned().lte(r._value.toUnsigned())?st():lt()}},{key:"gt_s",value:function(r){return this._value.toSigned().gt(r._value.toSigned())?st():lt()}},{key:"gt_u",value:function(r){return this._value.toUnsigned().gt(r._value.toUnsigned())?st():lt()}},{key:"ge_s",value:function(r){return this._value.toSigned().gte(r._value.toSigned())?st():lt()}},{key:"ge_u",value:function(r){return this._value.toUnsigned().gte(r._value.toUnsigned())?st():lt()}},{key:"rem_s",value:function(r){if(r._value.isZero())throw new Gr("integer divide by zero");return new t(this._value.rem(r._value))}},{key:"rem_u",value:function(r){if(r._value.isZero())throw new Gr("integer divide by zero");return new t(this._value.rem(r._value))}},{key:"shl",value:function(r){return new t(this._value.shiftLeft(r._value))}},{key:"shr_s",value:function(r){return new t(this._value.shiftRight(r._value))}},{key:"shr_u",value:function(r){return new t(this._value.shiftRight(r._value))}},{key:"rotl",value:function(r){return new t(this._value.rotateLeft(r._value))}},{key:"rotr",value:function(r){return new t(this._value.rotateRight(r._value))}},{key:"clz",value:function(){for(var r=0,n=this._value.toUnsigned().toString(2),a=0,i=n.length;a<i&&n[a]==="0";a++)r++;return new t(new Ce(r))}},{key:"ctz",value:function(){for(var r=0,n=this._value.toUnsigned().toString(2),a=n.length;a<=0&&n[a]==="0";a--)r++;return new t(new Ce(r))}},{key:"popcnt",value:function(){for(var r=0,n=this._value.toUnsigned().toString(2),a=n.length;a<=0;a--)n[a]!=="0"&&r++;return new t(new Ce(r))}},{key:"eqz",value:function(){return this._value.isZero()?st():lt()}},{key:"eq",value:function(r){return this.equals(r)?st():lt()}},{key:"ne",value:function(r){return new nt(this.equals(r)?0:1)}},{key:"toString",value:function(){return this._value.toString()}},{key:"toNumber",value:function(){return this._value.toNumber()}},{key:"isTrue",value:function(){return this.toNumber()==1}},{key:"toByteArray",value:function(){for(var r=new Array(8),n=0,a=0;n<r.length;n++,a+=8)r[n]=this._value.shru(a).and(255).toNumber();return r}}],[{key:"fromArrayBuffer",value:function(r,n,a,i){var u=r.slice(n,n+8),o=new Int32Array(u),s=new Ce(o[0],o[1]);return s=s.shiftLeft(a),new t(i?s.shiftRight(a):s.shiftRightUnsigned(a))}}]),t}();function Yd(t){if(typeof t.low>"u"||typeof t.high>"u")throw new Error("i64.createValueFromAST malformed value: "+JSON.stringify(t));return{type:So,value:new wr(new Ce(t.low,t.high))}}function $o(t){return{type:So,value:t}}function ev(t,e,r,n){return{type:So,value:wr.fromArrayBuffer(t,e,r,n)}}var tv=Object.freeze({__proto__:null,i64:wr,createValueFromAST:Yd,createValue:$o,createValueFromArrayBuffer:ev}),Fo=ye(tv);function rv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function us(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nv(t,e,r){return e&&us(t.prototype,e),r&&us(t,r),t}var _r=function(){function t(e){rv(this,t),this._value=e}return nv(t,[{key:"add",value:function(r){return new this.constructor(this._value+r._value)}},{key:"sub",value:function(r){return new this.constructor(this._value-r._value)}},{key:"mul",value:function(r){return new this.constructor(this._value*r._value)}},{key:"div_s",value:function(r){return new this.constructor(this._value/r._value)}},{key:"div_u",value:function(r){return new this.constructor(this._value/r._value)}},{key:"div",value:function(r){return new this.constructor(this._value/r._value)}},{key:"and",value:function(r){return new this.constructor(this._value&r._value)}},{key:"or",value:function(r){return new this.constructor(this._value|r._value)}},{key:"xor",value:function(r){return new this.constructor(this._value^r._value)}},{key:"isZero",value:function(){return this._value==0}},{key:"equals",value:function(r){return isNaN(this._value)?isNaN(r._value):this._value==r._value}},{key:"min",value:function(r){return new this.constructor(Math.min(this._value,r._value))}},{key:"max",value:function(r){return new this.constructor(Math.max(this._value,r._value))}},{key:"abs",value:function(){return new this.constructor(Math.abs(this._value))}},{key:"neg",value:function(){return new this.constructor(-this._value)}},{key:"copysign",value:function(r){return new this.constructor(Math.sign(this._value)===Math.sign(r._value)?this._value:-this._value)}},{key:"reinterpret",value:function(){throw new ge("unsupported operation")}},{key:"eq",value:function(r){throw new ge("unsupported operation")}},{key:"toByteArray",value:function(){throw new ge("unsupported operation")}},{key:"toNumber",value:function(){return this._value}},{key:"isTrue",value:function(){return this._value==1}},{key:"toString",value:function(){return this.toNumber().toString()}}]),t}();function ss(t){for(var e=new Array(t.byteLength),r=0;r<e.length;r++)e[r]=t[r];return e}function Dn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dn=function(r){return typeof r}:Dn=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Dn(t)}function No(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ls(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lo(t,e,r){return e&&ls(t.prototype,e),r&&ls(t,r),t}function Ao(t,e){if(e&&(Dn(e)==="object"||typeof e=="function"))return e;if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function To(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zr="f32",Rr=new nt(1),xr=new nt(0),Dr=function(t){To(e,t);function e(){return No(this,e),Ao(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Lo(e,[{key:"reinterpret",value:function(){var n=new Float32Array(1);n[0]=this._value;var a=new Int32Array(n.buffer);return new nt(a[0])}},{key:"add",value:function(n){return n instanceof Jt?n.add(this):_r.prototype.add.call(this,n)}},{key:"sub",value:function(n){return n instanceof Jt?n.sub(this):_r.prototype.sub.call(this,n)}},{key:"mul",value:function(n){return n instanceof Jt?n.mul(this):_r.prototype.mul.call(this,n)}},{key:"div",value:function(n){return n instanceof Jt?n.div(this):_r.prototype.div.call(this,n)}},{key:"toByteArray",value:function(){var n=new Float32Array(1);return n[0]=this._value,ss(new Int8Array(n.buffer))}},{key:"eq",value:function(n){return n instanceof Jt?n.eq():this._value===n._value?Rr:xr}},{key:"gt",value:function(n){var a=this,i=n;return isNaN(a._value)===!0||isNaN(i._value)===!0||a.equals(i)===!0?xr:Math.sign(a._value)===1&&a instanceof Ir||Math.sign(a._value)===-1&&a instanceof Ir?Rr:Math.sign(i._value)===1&&i instanceof Ir?xr:Math.sign(i._value)===-1&&i instanceof Ir?Rr:a._value===0&&i._value===0?xr:a._value>i._value?Rr:xr}}],[{key:"fromArrayBuffer",value:function(n,a){var i=n.slice(a,a+4),u=new Float32Array(i);return new e(u[0])}}]),e}(_r),Jt=function(t){To(e,t);function e(){return No(this,e),Ao(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Lo(e,[{key:"reinterpret",value:function(){var n=0;this._value<=0&&(n=n|2147483648),n=n|255<<23;var a=this._value<=0?-this._value:this._value;return n=n|a,new nt(n)}},{key:"add",value:function(){return this}},{key:"sub",value:function(){return this}},{key:"mul",value:function(){return this}},{key:"div",value:function(){return this}},{key:"eq",value:function(){return new nt(0)}}]),e}(Dr),Ir=function(t){To(e,t);function e(){return No(this,e),Ao(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Lo(e,[{key:"reinterpret",value:function(){var n=2139095040;return this._value<0&&(n=n|2147483648),new nt(n)}}]),e}(Dr);function av(t){return{type:zr,value:new Ir(t)}}function ov(t){return{type:zr,value:new Jt(t)}}function iv(t){return{type:zr,value:new Dr(t)}}function fs(t){return{type:zr,value:t}}function uv(t,e){return{type:zr,value:Dr.fromArrayBuffer(t,e)}}var sv=Object.freeze({__proto__:null,f32:Dr,f32nan:Jt,f32inf:Ir,createInfFromAST:av,createNanFromAST:ov,createValueFromAST:iv,createValue:fs,createValueFromArrayBuffer:uv}),Po=ye(sv);function Vn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vn=function(r){return typeof r}:Vn=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vn(t)}function Oo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bo(t,e,r){return e&&cs(t.prototype,e),r&&cs(t,r),t}function jo(t,e){if(e&&(Vn(e)==="object"||typeof e=="function"))return e;if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Co(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vr="f64",Hr=function(t){Co(e,t);function e(){return Oo(this,e),jo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Bo(e,[{key:"reinterpret",value:function(){var n=new Float64Array(1);n[0]=this._value;var a=new Int32Array(n.buffer.slice(0,4)),i=new Int32Array(n.buffer.slice(4,8));return new wr(Ce.fromBits(a[0],i[0]))}},{key:"toByteArray",value:function(){var n=new Float64Array(1);return n[0]=this._value,ss(new Int8Array(n.buffer))}}],[{key:"fromArrayBuffer",value:function(n,a){var i=n.slice(a,a+8),u=new Float64Array(i);return new e(u[0])}}]),e}(_r),ds=function(t){Co(e,t);function e(){return Oo(this,e),jo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Bo(e,[{key:"reinterpret",value:function(){var n=2146435072;return this._value<0&&(n=n|2147483648),new wr(Ce.fromBits(0,n).toSigned())}}]),e}(Hr),vs=function(t){Co(e,t);function e(){return Oo(this,e),jo(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Bo(e,[{key:"reinterpret",value:function(){var n=0,a=0;this._value<=0&&(a=a|2147483648),a=a|2047<<20;var i=this._value<=0?-this._value:this._value;return n=n|i%Math.pow(2,32),a=a|Math.floor(i/Math.pow(2,32)),new wr(Ce.fromBits(n,a))}}]),e}(Hr);function lv(t){return{type:Vr,value:new ds(t)}}function fv(t){return{type:Vr,value:new vs(t)}}function cv(t){return{type:Vr,value:new Hr(t)}}function ps(t){return{type:Vr,value:t}}function dv(t,e){return{type:Vr,value:Hr.fromArrayBuffer(t,e)}}var vv=Object.freeze({__proto__:null,f64:Hr,f64inf:ds,f64nan:vs,createInfFromAST:lv,createNanFromAST:fv,createValueFromAST:cv,createValue:ps,createValueFromArrayBuffer:dv}),Uo=ye(vv),pv=qr,yv=Fo,mv=Po,hv=Uo;function Hn(t,e,r,n){var a=t.value,i=e.value;switch(r){case"add":return n(a.add(i));case"sub":return n(a.sub(i));case"mul":return n(a.mul(i));case"div_s":return n(a.div_s(i));case"div_u":return n(a.div_u(i));case"rem_s":return n(a.rem_s(i));case"rem_u":return n(a.rem_u(i));case"shl":return n(a.shl(i));case"shr_s":return n(a.shr_s(i));case"shr_u":return n(a.shr_u(i));case"rotl":return n(a.rotl(i));case"rotr":return n(a.rotr(i));case"div":return n(a.div(i));case"and":return n(a.and(i));case"or":return n(a.or(i));case"xor":return n(a.xor(i));case"min":return n(a.min(i));case"max":return n(a.max(i));case"copysign":return n(a.copysign(i))}throw new Error("Unsupported binop: "+r)}function gv(t,e,r){return Hn(t,e,r,pv.createValue)}function bv(t,e,r){return Hn(t,e,r,yv.createValue)}function wv(t,e,r){return Hn(t,e,r,mv.createValue)}function _v(t,e,r){return Hn(t,e,r,hv.createValue)}var xv=Object.freeze({__proto__:null,binopi32:gv,binopi64:bv,binopf32:wv,binopf64:_v}),Iv=ye(xv);function Xn(t,e,r){var n=t.value;switch(e){case"abs":return r(n.abs());case"neg":return r(n.neg());case"clz":return r(n.clz());case"ctz":return r(n.ctz());case"popcnt":return r(n.popcnt());case"eqz":return Rn(n.eqz());case"reinterpret/f32":return Rn(n.reinterpret());case"reinterpret/f64":return $o(n.reinterpret())}throw new Error("Unsupported unop: "+e)}function Ev(t,e){return Xn(t,e,Rn)}function kv(t,e){return Xn(t,e,$o)}function Mv(t,e){return Xn(t,e,fs)}function Sv(t,e){return Xn(t,e,ps)}var $v=Object.freeze({__proto__:null,unopi32:Ev,unopi64:kv,unopf32:Mv,unopf64:Sv}),Fv=ye($v),Nv=Qt,Lv=Nv.RuntimeError,Av=qr,Tv=Fo,qo=Po,Go=Uo;function Pv(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a={i32:Av.createValueFromAST,i64:Tv.createValueFromAST,f32:qo.createValueFromAST,f64:Go.createValueFromAST};if(r===!0&&(a.f32=qo.createNanFromAST,a.f64=Go.createNanFromAST),n===!0&&(a.f32=qo.createInfFromAST,a.f64=Go.createInfFromAST),typeof a[t]>"u")throw new Lv("Cannot cast: unsupported type "+JSON.stringify(t));return a[t](e)}var Ov=Object.freeze({__proto__:null,castIntoStackLocalOfType:Pv}),ys=ye(Ov),Bv="label";function jv(t){return{type:Bv,value:t}}var Cv=Object.freeze({__proto__:null,createValue:jv}),Uv=ye(Cv);function Wn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wn=function(r){return typeof r}:Wn=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wn(t)}function qv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gv(t,e){if(e&&(Wn(e)==="object"||typeof e=="function"))return e;if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ms=function(t){zv(e,t);function e(){return qv(this,e),Gv(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return e}(Error);function Rv(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Execution has been trapped";return new ms(t)}var Dv=Object.freeze({__proto__:null,ExecutionHasBeenTrapped:ms,createTrap:Rv}),hs=ye(Dv),ft=qr;function Vv(t,e,r){var n=t.value,a=e.value;switch(r){case"eq":return ft.createValue(n.eq(a));case"ne":return ft.createValue(n.ne(a));case"lt_s":return ft.createValue(n.lt_s(a));case"lt_u":return ft.createValue(n.lt_u(a));case"le_s":return ft.createValue(n.le_s(a));case"le_u":return ft.createValue(n.le_u(a));case"gt":return ft.createValue(n.gt(a));case"gt_s":return ft.createValue(n.gt_s(a));case"gt_u":return ft.createValue(n.gt_u(a));case"ge_s":return ft.createValue(n.ge_s(a));case"ge_u":return ft.createValue(n.ge_u(a))}throw new Error("Unsupported binop: "+r)}var Hv=Object.freeze({__proto__:null,compare:Vv}),Xv=ye(Hv);function gs(t,e,r){return{locals:t,globals:[],labels:[],values:[],originatingModule:e,allocator:r,returnAddress:-1}}function Wv(t,e){var r=t.locals,n=t.originatingModule,a=t.allocator,i=t.trace,u=gs(r,n,a);return u.trace=i,u.returnAddress=e,u}var Zv=Object.freeze({__proto__:null,createStackFrame:gs,createChildStackFrame:Wv}),Zn=ye(Zv);function Qn(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qn=function(r){return typeof r}:Qn=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qn(t)}function Qv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jv(t,e,r){return e&&bs(t.prototype,e),r&&bs(t,r),t}var Kv=Qt,Yv=Kv.RuntimeError,ws=64*1024,_s=function(){function t(e){if(Qv(this,t),Qn(e)!=="object")throw new TypeError("MemoryDescriptor must be an object");if(typeof e.maximum=="number"&&e.maximum<e.initial)throw new RangeError("Initial memory can not be higher than the maximum");if(e.initial>65536)throw new Yv("memory size must be at most 65536 pages (4GiB)");typeof e.maximum=="number"&&(this._maximumBytes=e.maximum*ws),this._initialBytes=e.initial*ws,this._allocateInitial()}return Jv(t,[{key:"_allocateInitial",value:function(){this.buffer=new ArrayBuffer(this._initialBytes)}}]),t}(),ep=Object.freeze({__proto__:null,Memory:_s});function tp(t,e){var r=[],n=!0,a=!1,i=void 0;try{for(var u=t[Symbol.iterator](),o;!(n=(o=u.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&u.return!=null&&u.return()}finally{if(a)throw i}}return r}function Xr(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return tp(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Kt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kt=function(r){return typeof r}:Kt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kt(t)}var Jn=Iv,rp=Jn.binopi32,np=Jn.binopi64,ap=Jn.binopf32,op=Jn.binopf64,Kn=Fv,ip=Kn.unopi32,up=Kn.unopi64,sp=Kn.unopf32,lp=Kn.unopf64,fp=ys,Yn=fp.castIntoStackLocalOfType,cp=qr,dp=Fo,vp=Po,pp=Uo,yp=Uv,mp=hs,zo=mp.createTrap,hp=Xv,gp=hp.compare;function bp(t,e,r){var n=t.program;if(Kt(n)!=="object")throw new ge('typeof program === "object" error: unknown');var a=[r],i=0;function u(ne,ue){var Ie=ne.locals[ue];if(typeof Ie>"u")throw $("Assertion error: no local value at index "+ue);ne.values.push(Ie)}function o(ne,ue,Ie){if(typeof ue!="number")throw new ge('typeof index === "number" error: unknown');ne.locals[ue]=Ie}function s(ne,ue){typeof ue>"u"||ne.values.push(ue)}function c(ne,ue){if(ne.values.length<ue.length)throw new ge("Assertion error: expected "+JSON.stringify(ue.length)+" on the stack, found "+ne.values.length);return ue.map(function(Ie){return v(ne,Ie)})}function f(ne,ue){return ne==="u32"&&(ne="i32"),ne==="u64"&&(ne="i64"),ue==="u32"&&(ue="i32"),ue==="u64"&&(ue="i64"),ne===ue}function v(ne,ue){if(ne.values.length<1)throw new ge("Assertion error: expected "+JSON.stringify(1)+" on the stack, found "+ne.values.length);var Ie=ne.values.pop();if(typeof ue=="string"&&f(Ie.type,ue)===!1)throw $("Internal failure: expected value of type "+ue+" on top of the stack, type given: "+Ie.type);return Ie}function I(ne){if(ne.values.length<1)throw new ge("Assertion error: expected "+JSON.stringify(1)+" on the stack, found "+ne.values.length);return ne.values.pop()}function S(ne,ue,Ie){if(ne.values.length<2)throw new ge("Assertion error: expected "+JSON.stringify(2)+" on the stack, found "+ne.values.length);var It=ne.values.pop(),Bt=ne.values.pop();if(f(It.type,Ie)===!1)throw $("Internal failure: expected c2 value of type "+Ie+" on top of the stack, given type: "+It.type);if(f(Bt.type,ue)===!1)throw $("Internal failure: expected c1 value of type "+ue+" on top of the stack, given type: "+Bt.type);return[Bt,It]}function oe(ne,ue){if(ue.namedArgs&&ue.namedArgs.offset){var Ie=ue.namedArgs.offset.value;if(Ie<0)throw $("offset must be positive");if(Ie>4294967295)throw $("offset must be less than or equal to 0xffffffff");return Ie}else return 0}function ie(ne){if(ne.originatingModule.memaddrs.length!==1)throw $("unknown memory");var ue=ne.originatingModule.memaddrs[0];return ne.allocator.get(ue)}function $(ne){return new ge(ne)}function te(){if(!(i>-1))throw new ge("framepointer > -1 error: call stack underflow");var ne=a[i];if(ne===void 0)throw new ge("frame !== undefined error: "+("no frame at "+i||"unknown"));return ne}for(var le=Object.keys(n),H=le.indexOf(String(e));;){var P=te(),G=n[parseInt(le[H])];if(G===void 0)throw new ge("instruction !== undefined error: "+("no instruction at pc ".concat(H," in frame ").concat(i)||"unknown"));switch(typeof P.trace=="function"&&P.trace(i,H,G,P),H++,G.type){case"InternalEndAndReturn":if(P.returnAddress!==-1){H=P.returnAddress;var ae=te(),Be=void 0;ae.values.length>0&&(Be=I(ae)),a.pop(),i--;var Pe=te();Be!==void 0&&Pe!==void 0&&s(Pe,Be);break}else{var ae=te();return ae.values.length>0?I(ae):void 0}case"InternalGoto":{var ht=G.target;H=le.indexOf(String(ht));break}case"InternalCallExtern":{var Ut=G.target,Fe=P.originatingModule.funcaddrs[Ut];if(typeof Fe>"u")throw $("No function was found in module at address ".concat(Ut));var gt=P.allocator.get(Fe);if(Kt(gt)!=="object")throw $("Cannot call function at address ".concat(Fe,": not a function"));var qt=Xr(gt.type,2),$t=qt[0],Ge=qt[1],ct=c(P,$t);if(!gt.isExternal)throw new ge("subroutine.isExternal error: unknown");var Ft=gt.code(ct.map(function(ne){return ne.value}));typeof Ft<"u"&&s(P,Yn(Ge,Ft));break}}switch(G.id){case"const":{var we=G.args[0];if(typeof we>"u")throw $("const requires one argument, none given.");if(we.type!=="NumberLiteral"&&we.type!=="LongNumberLiteral"&&we.type!=="FloatLiteral")throw $("const: unsupported value of type: "+we.type);s(P,Yn(G.object,we.value));break}case"nop":break;case"drop":{if(P.values.length<1)throw new ge("Assertion error: expected "+JSON.stringify(1)+" on the stack, found "+P.values.length);I(P);break}case"call":{var Ke=G.index.value,er=Zn,ae=te(),Pe=er.createChildStackFrame(ae,H);if(i++,i>=300)throw new ge("Maximum call stack depth reached");a[i]=Pe,H=le.indexOf(String(Ke));break}case"end":{var Ke=P.values.slice(0).reverse().findIndex(function(ue){var Ie=ue.type;return Ie==="label"});if(Ke!==-1){var Oe=P.values.length-1-Ke;P.values.splice(Oe,1)}break}case"loop":case"block":{var Xe=G;P.labels.push({value:Xe,arity:0,id:Xe.label}),s(P,yp.createValue(Xe.label.value));break}case"br":{var ot=G.args[0];H=le.indexOf(String(ot.value));break}case"br_if":{var dt=G.args[0],Nt=v(P,"i32");Nt.value.eqz().isTrue()===!1&&(H=le.indexOf(String(dt.value)));break}case"unreachable":case"trap":throw zo();case"local":{var tr=Xr(G.args,1),Lt=tr[0];if(Lt.name==="i64"){var rr=Yn(Lt.name,new Ce(0,0));P.locals.push(rr)}else{var Qr=Yn(Lt.name,0);P.locals.push(Qr)}break}case"get_local":{var At=G.args[0];if(typeof At>"u")throw $("get_local requires one argument, none given.");if(At.type==="NumberLiteral"||At.type==="FloatLiteral")u(P,At.value);else throw $("get_local: unsupported index of type: "+At.type);break}case"set_local":{var vt=G.args[0];if(vt.type==="NumberLiteral"){var Sr=I(P);o(P,vt.value,Sr)}else throw $("set_local: unsupported index of type: "+vt.type);break}case"tee_local":{var We=G.args[0];if(We.type==="NumberLiteral"){var Gt=I(P);s(P,Gt),s(P,Gt);var Jr=I(P);o(P,We.value,Jr)}else throw $("tee_local: unsupported index of type: "+We.type);break}case"set_global":{var zt=G.args[0],Tt=P.originatingModule.globaladdrs[zt.value];if(typeof Tt>"u")throw $("Global address ".concat(zt.value," not found"));var nr=P.allocator.get(Tt);if(Kt(nr)!=="object")throw $("Unexpected data for global at ".concat(Tt.toString()));var ar=I(P);nr.value=ar.value,P.allocator.set(Tt,nr);break}case"get_global":{var $r=G.args[0],h=P.originatingModule.globaladdrs[$r.value];if(typeof h>"u")throw $("Unknown global at index: ".concat($r.value.toString()));var g=P.allocator.get(h);if(Kt(g)!=="object")throw $("Unexpected data for global at ".concat(h.toString()));s(P,g);break}case"store":case"store8":case"store16":case"store32":{var M=G.id,E=G.object,k=ie(P),X=S(P,"i32",E),A=Xr(X,2),V=A[0],Q=A[1],Me=V.value.toNumber()+oe(P,G),pe=Q.value.toByteArray();switch(M){case"store":break;case"store8":pe=pe.slice(0,1);break;case"store16":pe=pe.slice(0,2);break;case"store32":pe=pe.slice(0,4);break;default:throw $("illegal operation: "+M)}if(Me+pe.length>k.buffer.byteLength)throw $("memory access out of bounds");for(var Ne=new Uint8Array(k.buffer),Ae=0;Ae<pe.length;Ae++)Ne[Me+Ae]=pe[Ae];break}case"load":case"load16_s":case"load16_u":case"load8_s":case"load8_u":case"load32_s":case"load32_u":{var _=G.id,x=G.object,F=ie(P),W=v(P,"i32").value.toNumber()+oe(P,G),re=0,ce=x==="i32"?0:32,de=!1;switch(_){case"load16_s":re=16+ce,de=!0;break;case"load16_u":re=16+ce,de=!1;break;case"load8_s":re=24+ce,de=!0;break;case"load8_u":re=24+ce,de=!1;break;case"load32_u":re=0+ce,de=!1;break;case"load32_s":re=0+ce,de=!0;break}switch(x){case"u32":case"i32":case"f32":{if(W+4>F.buffer.byteLength)throw $("memory access out of bounds");break}case"i64":case"f64":{if(W+8>F.buffer.byteLength)throw $("memory access out of bounds");break}default:throw new ge("Unsupported "+x+" load")}switch(x){case"i32":case"u32":s(P,cp.createValueFromArrayBuffer(F.buffer,W,re,de));break;case"i64":s(P,dp.createValueFromArrayBuffer(F.buffer,W,re,de));break;case"f32":s(P,vp.createValueFromArrayBuffer(F.buffer,W));break;case"f64":s(P,pp.createValueFromArrayBuffer(F.buffer,W));break;default:throw new ge("Unsupported "+x+" load")}break}case"add":case"mul":case"sub":case"div_s":case"div_u":case"rem_s":case"rem_u":case"shl":case"shr_s":case"shr_u":case"rotl":case"rotr":case"div":case"min":case"max":case"copysign":case"or":case"xor":case"and":{var ze=void 0;switch(G.object){case"i32":ze=rp;break;case"i64":ze=np;break;case"f32":ze=ap;break;case"f64":ze=op;break;default:throw zo("Unsupported operation "+G.id+" on "+G.object)}var bt=S(P,G.object,G.object),Pt=Xr(bt,2),pt=Pt[0],wt=Pt[1];s(P,ze(pt,wt,G.id));break}case"eq":case"ne":case"lt_s":case"lt_u":case"le_s":case"le_u":case"gt":case"gt_s":case"gt_u":case"ge_s":case"ge_u":{var _t=S(P,G.object,G.object),or=Xr(_t,2),Fr=or[0],Kr=or[1];s(P,gp(Fr,Kr,G.id));break}case"abs":case"neg":case"clz":case"ctz":case"popcnt":case"eqz":case"reinterpret/f32":case"reinterpret/f64":{var xt=void 0,Ot=G.id.indexOf("/")!==-1?G.id.split("/")[1]:G.object;switch(Ot){case"i32":xt=ip;break;case"i64":xt=up;break;case"f32":xt=sp;break;case"f64":xt=lp;break;default:throw zo("Unsupported operation "+G.id+" on "+Ot)}var Nr=v(P,Ot);s(P,xt(Nr,G.id));break}case"return":{if(P.returnAddress!==-1){H=P.returnAddress;var ae=te(),Be=void 0;ae.values.length>0&&(Be=I(ae)),a.pop(),i--;var Pe=te();Be!==void 0&&Pe!==void 0&&s(Pe,Be)}var ae=te();return ae.values.length>0?I(ae):void 0}}}}var wp=Object.freeze({__proto__:null,executeStackFrame:bp}),xs=ye(wp);function _p(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function xp(t){function e(a){var i=a.node.instrArgs;typeof i>"u"||i.length===0||(i.forEach(a.insertBefore),a.node.instrArgs=[],n=!0)}function r(a){a.node.args.length!==0&&(a.node.args=a.node.args.reduce(function(i,u){return Ja(u)===!1?_p(i).concat([u]):(a.insertBefore(u),n=!0,i)},[]))}for(var n=!0;n;)n=!1,ke(t,{CallInstruction:e,Instr:r});return t}function Er(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Er=function(r){return typeof r}:Er=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Er(t)}function Ip(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Is(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ep(t,e,r){return e&&Is(t.prototype,e),r&&Is(t,r),t}var Es=Symbol("_start");function kp(t){var e={funcs:[]};return ke(t,{ModuleImport:function(r){function n(a){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}(function(r){xn(r.node.descr)&&e.funcs.push({isImplemented:!1})}),Func:function(r){function n(a){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}(function(r){e.funcs.push({isImplemented:!0,node:r.node})})}),e}var ks=function(){function t(e){Ip(this,t),this._labels=[],this._program=[],this._currentFunc=null,this._context=kp(e)}return Ep(t,[{key:"_emit",value:function(r){var n=mr(r);this._program.push({offset:n,node:r})}},{key:"beginFuncBody",value:function(r){this._labels=[],this._program=[],this._currentFunc=r,this._labels.push(r)}},{key:"onFuncInstruction",value:function(r){var n=this;if(Mn(r)){if(r.numeric===null)throw new Error("node.numeric !== null error: unknown");var a=null;if(Dt(r.index)&&(a=parseInt(r.index.value)),En(r.index)&&(a=parseInt(r.numeric.value)),a===null)throw new Error("funcIndex !== null error: unknown");var i=this._context.funcs[a];if(Er(i)!=="object")throw new Error('typeof funcInContext === "object" error: unknown');if(i.isImplemented===!0){var u=i.node;r.index.value=Ln(u),this._emit(r)}else{var o=Di(a);o.loc=r.loc,this._emit(o)}return}if(mu(r)&&this._labels.push(r),lr(r)&&this._labels.push(r),r.id==="br"||r.id==="br_if"){var s=r.args[0].value,c=this._labels[this._labels.length-s-1];if(Er(c)!=="object")throw new Error('typeof target === "object" error: '+("Label ".concat(String(s)," not found")||"unknown"));lr(c)&&s===0?r.args[0].value=Uu(c):r.args[0].value=Cu(c)}if(bn(r)){var f=mr(r.alternate[0]),v=zi(f);v.loc=r.loc,this._emit(v),r.consequent.forEach(function(S){return n._emit(S)});var I=Ri(ju(r.alternate[r.alternate.length-1]));I.loc={start:{line:-1,column:r.alternate[0].loc.start.column-1}},this._emit(I),r.alternate.forEach(function(S){return n._emit(S)});return}this._emit(r)}},{key:"emitStartFunc",value:function(r){var n=this._context.funcs[r];if(Er(n)!=="object")throw new Error('typeof funcInContext === "object" error: unknown');if(!n.isImplemented)throw new Error("funcInContext.isImplemented error: unknown");var a=n.node;return{name:Es,startAt:Ln(a)}}},{key:"finalizeFunc",value:function(r){this._labels.pop();var n=this._program[this._program.length-1],a=Vi();return a.loc=n.node.loc,this._emit(a),this._currentFunc=null,{name:r.name?r.name.value:null,startAt:Ln(r),instructions:this._program}}}]),t}();function Mp(t){var e={},r=[];xp(t);var n=new ks(t);return ke(t,{Start:function(a){function i(u){return a.apply(this,arguments)}return i.toString=function(){return a.toString()},i}(function(a){var i=a.node,u=n.emitStartFunc(parseInt(i.index.value)),o=u.name,s=u.startAt;r.push({name:o,startAt:s})}),Func:function(a){function i(u){return a.apply(this,arguments)}return i.toString=function(){return a.toString()},i}(function(a){n.beginFuncBody(a.node),ke(a.node,{Instruction:function(c){function f(v){return c.apply(this,arguments)}return f.toString=function(){return c.toString()},f}(function(c){n.onFuncInstruction(c.node)})});var i=n.finalizeFunc(a.node),u=i.name,o=i.instructions,s=i.startAt;r.push({name:u,startAt:s}),o.forEach(function(c){e[c.offset]=c.node})})}),{funcTable:r,program:e}}function Sp(t){var e={},r=[],n=new ks(yn([])),a=hn(Ee("main"),[],t);n.beginFuncBody(a),t.forEach(function(c){return n.onFuncInstruction(c)});var i=n.finalizeFunc(a),u=i.name,o=i.instructions,s=i.startAt;return r.push({name:u,startAt:s}),o.forEach(function(c){e[c.offset]=c.node}),{funcTable:r,program:e}}function ea(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ea=function(r){return typeof r}:ea=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ea(t)}var $p=ko,Fp=xs,Np=Fp.executeStackFrame,Lp=Zn,Ap=Lp.createStackFrame,Tp=rl;function Pp(t,e){var r=Sp(e),n=Tp.createInstance(r,t,$p.module(void 0,[])),a=Ap([],n,t),i=r.funcTable.find(function(u){return u.name==="main"});if(ea(i)!=="object")throw new Error('typeof main === "object" error: unknown');return Np(r,i.startAt,a)}var Op=Object.freeze({__proto__:null,evaluate:Pp}),Bp=ye(Op);function jp(t){var e=[];function r(a){return a.parentPath.node.type==="ModuleImport"}var n=!1;return ke(t,{ModuleImport:function(i){if(n&&i.parentPath.node.type!=="Global")return e.push("imports must occur before all non-import definitions")},Global:function(i){r(i)||(n=!0)},Memory:function(i){r(i)||(n=!0)},Table:function(i){r(i)||(n=!0)},Func:function(i){r(i)||(n=!0)}}),e}function Cp(t,e){function r(a){if(a.id==="const")return!0;if(a.id==="get_global"){var i=a.args[0].value;return!e.isMutableGlobal(i)}return a.id==="end"}var n=[];return ke(t,{Global:function(i){var u=i.node.init.reduce(function(c,f){return c&&r(f)},!0);if(u||n.push("constant expression required: initializer expression cannot reference mutable global"),i.node.init.length>0){var o=i.node.globalType.valtype,s=i.node.init[0].object;s&&o!==s&&n.push("type mismatch in global initializer")}}}),n}var Ro="ANY",at="POLYMORPHIC";function Do(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function Up(t,e){return t.length!==e.length?!1:t.every(function(r,n){return r===e[n]})}function qp(t,e,r){var n=[],a=[],i;switch(r.id){case"local":{r.args.forEach(function(Pe){return t.addLocal(Pe.name)}),n=[],a=[];break}case"select":{if(e.length<3){i="Stack contains too few arguments for select";break}var u=e[e.length-2],o=e[e.length-3];if(u!==o){i="Type mismatch in select";break}n=["i32",u,u],a=[u];break}case"get_global":{var s=r.args[0].value;if(!t.hasGlobal(s)){i="Module does not have global ".concat(s);break}n=[],a=[t.getGlobal(s)];break}case"set_global":{var c=r.args[0].value;if(!t.hasGlobal(c)){i="Module does not have global ".concat(c);break}if(t.isImmutableGlobal(c)){i="global is immutable";break}n=[t.getGlobal(c)],a=[];break}case"set_local":{var f=r.args[0].value;if(!t.hasLocal(f)){i="Function does not have local ".concat(f);break}n=[t.getLocal(f)],a=[];break}case"tee_local":{var v=r.args[0].value;if(!t.hasLocal(v)){i="Function does not have local ".concat(v);break}n=[t.getLocal(v)],a=[t.getLocal(v)];break}case"get_local":{var I=r.args[0].value;if(!t.hasLocal(I)){i="Function does not have local ".concat(I);break}n=[],a=[t.getLocal(I)];break}case"block":{n=[],a=r.result?[r.result]:[];break}case"if":{n=["i32"],a=r.result?[r.result]:[];break}case"end":case"nop":{n=[],a=[];break}case"loop":{n=[],a=r.resulttype?[r.resulttype]:[];break}case"call":{if(!t.hasFunction(r.index.value)){i="Call to undefined function index ".concat(r.index.value,".");break}var S=t.getFunction(r.index.value);n=S.args,a=S.result;break}case"const":{n=[],a=[r.object];break}case"drop":{n=[Ro],a=[];break}case"clz":case"ctz":case"popcnt":case"abs":case"neg":case"sqrt":case"ceil":case"floor":case"trunc":case"nearest":{n=[r.object],a=[r.object];break}case"add":case"sub":case"mul":case"div":case"min":case"max":case"copysign":case"div_u":case"div_s":case"rem_u":case"rem_s":case"and":case"or":case"xor":case"shl":case"shr_u":case"shr_s":case"rotl":case"rotr":{n=[r.object,r.object],a=[r.object];break}case"eqz":{n=[r.object],a=["i32"];break}case"eq":case"ne":case"lt_u":case"lt_s":case"lt":case"gt_u":case"gt_s":case"gt":case"le_u":case"le_s":case"le":case"ge_u":case"ge_s":case"ge":{n=[r.object,r.object],a=["i32"];break}case"wrap/i64":case"convert_s/i64":case"convert_u/i64":case"reinterpret/i64":{n=["i64"],a=[r.object];break}case"promote/f32":case"trunc_u/f32":case"trunc_s/f32":case"convert_s/f32":case"convert_u/f32":case"reinterpret/f32":{n=["f32"],a=[r.object];break}case"demote/f64":case"trunc_u/f64":case"trunc_s/f64":case"convert_s/f64":case"convert_u/f64":case"reinterpret/f64":{n=["f64"],a=[r.object];break}case"extend_u/i32":case"extend_s/i32":case"convert_s/i32":case"convert_u/i32":case"reinterpret/i32":{n=["i32"],a=[r.object];break}case"br":{var oe=r.args[0].value;if(!t.getLabel(oe)){i="Label ".concat(oe," does not exist");break}n=t.getLabel(oe),a=[at];break}case"br_if":{var ie=r.args[0].value;if(!t.getLabel(ie)){i="Label ".concat(ie," does not exist");break}n=Do(t.getLabel(ie)).concat(["i32"]),a=t.getLabel(ie);break}case"load":case"load8_u":case"load8_s":case"load16_u":case"load16_s":case"load32_u":case"load32_s":{if(!t.hasMemory(0)){i="Module does not have memory 0";break}n=["i32"],a=[r.object];break}case"store":case"store8":case"store16":case"store32":{if(!t.hasMemory(0)){i="Module does not have memory 0";break}n=[r.object,"i32"],a=[];break}case"return":{n=t.return,a=[at],e.return=!0;break}case"unreachable":case"trap":{n=[],a=[at];break}case"size":case"current_memory":{if(!t.hasMemory(0)){i="Module does not have memory 0";break}n=[],a=["i32"];break}case"grow":case"grow_memory":{if(!t.hasMemory(0)){i="Module does not have memory 0";break}n=["i32"],a=["i32"];break}case"br_table":{var $=r.args[0].value;if(!t.hasLabel($)){i="Module does not have memory ".concat($);break}for(var te=t.getLabel($),le=!0,H=1;H<r.args.length;++H){var P=r.args[H];if(P.type==="Instr")break;var G=P.value;if(!t.hasLabel(G)){i="Module does not have memory ".concat(G),le=!1;break}if(!Up(t.getLabel(G),te)){i="br_table index ".concat(G," at position ").concat(H," has mismatching result type."),le=!1;break}}if(!le)break;n=Do(te).concat(["i32"]),a=[at];break}case"call_indirect":{var ae;if(r.signature.type==="Signature")ae=r.signature;else{var Be=r.signature.value;ae=t.getType(Be)}n=["i32"].concat(Do(ae.params.reverse().map(function(Pe){return Pe.valtype}))),a=ae.results;break}default:throw new Error("Unknown instruction ".concat(r.id,"."))}return{args:n,result:a,error:i}}function ta(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function Gp(){var t=[],e=!1,r;function n(s,c){s+=" at "+(r||"unknown"),typeof c=="number"&&(s+=":"+c),s+=".",t.push(s)}function a(s,c,f){s===Ro&&c||c===Ro&&s||(s==="u32"&&(s="i32"),c==="u32"&&(c="i32"),s==="u64"&&(s="i64"),c==="u64"&&(c="i64"),s!==c&&(n("Expected type ".concat(s," but got ").concat(c||"none"),f),e=!0))}function i(s){return s.filter(function(c){return c!==at}).length===0}function u(s,c){if(s===void 0)throw new Error("expectedStack !== undefined error: unknown");if(c===void 0)throw new Error("actualStack !== undefined error: unknown");if(c!==!1){for(var f=c.length-1,v=0;v<s.length;++v){var I=s[v],S=c[f];if(S===at||e)return;a(I,S),--f}i(c.slice(0,f+1))||n("Stack contains additional type ".concat(c.slice(0,f+1)))}}function o(s,c,f,v){if(c===!1||c.return||Ja(f)===!1)return c;f.args&&(c=f.args.reduce(o.bind(null,s),c)),f.instrArgs&&(c=f.instrArgs.reduce(o.bind(null,s),c)),f.intrs&&(c=f.intrs.reduce(o.bind(null,s),c));var I=qp(s,c,f);if(I.error)return n(I.error,v),!1;if(f.type==="BlockInstruction"||f.type==="LoopInstruction"){s.addLabel(I.result);var S=f.instr.reduce(o.bind(null,s),[]);e||u(I.result,S),c=ta(c).concat(ta(I.result)),s.popLabel()}else if(f.type==="IfInstruction"){s.addLabel(I.result),f.test&&(c=f.test.reduce(o.bind(null,s),c));for(var oe,ie=0;ie<I.args.length;++ie){var $=I.args[ie];if(c[c.length-1]===at||e)return!1;oe=c.pop(),a($,oe,v)}for(var te=f.consequent.reduce(o.bind(null,s),[]),le=f.alternate.reduce(o.bind(null,s),[]),H=0,P=0,G=!0;H<te.length&&P<le.length;){if(te[H]===at||le[P]===at){G=!1;break}a(te[H],le[P],v),++H,++P}for(;G&&H<te.length;)te[H]===at&&(G=!1),++H;for(;G&&P<te.length;)te[P]===at&&(G=!1),++P;G&&te.length!==le.length&&n("Type mismatch in if, got ".concat(te," and ").concat(le),v),u(I.result,te),s.popLabel(),c=I.result}else{if(c===!1)return!1;for(var ae,Be=0;Be<I.args.length;++Be){var Pe=I.args[Be];if(c[c.length-1]===at||e)return!1;ae=c.pop(),a(Pe,ae,v)}c=ta(c).concat(ta(I.result))}return c}return{getErrors:function(){return t},addError:function(c){t.push(c)},setStopFuncCheck:function(c){e=c},getStopFuncCheck:function(){return e},setCurrentFuncName:function(c){r=c},applyInstruction:o,checkStacks:u}}function zp(t){if(!t.body||!t.body[0]||!t.body[0].fields)return[];var e=vo(t.body[0]),r=Gp();return ke(t,{Func:function(a){var i=a.node;r.setStopFuncCheck(!1),r.setCurrentFuncName(i.name.value);var u;if(In(i.signature))u=i.signature;else{if(!Dt(i.signature))throw new Error("isNumberLiteral(node.signature) error: unknown");var o=i.signature.value;if(!e.hasType(o))throw new Error("moduleContext.hasType(typeId) error: unknown");u=e.getType(o)}var s=u.results;e.newContext(i.name.value,s),u.params.forEach(function(f){return e.addLocal(f.valtype)});var c=i.body.reduce(r.applyInstruction.bind(null,e),[]);if(r.getStopFuncCheck())return r.getErrors();r.checkStacks(s,c)}}),r.getErrors()}function Rp(t){var e=[];return ke(t,{ModuleImport:function(n){var a=n.node,i=a.descr.mutability;i==="var"&&e.push("mutable globals cannot be imported")}}),e}function Dp(t){return'duplicate export name "'.concat(t,'"')}function Vp(t){var e=[],r={};return ke(t,{ModuleExport:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){var a=n.node.name;if(r[a]!==void 0)return e.push(Dp(a));r[a]=!0})}),e}function Vo(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!=e[r])return!1;return!0}function Ho(t){if(t.length!==0){var e=t[t.length-1];if(e.id==="end"&&(e=t[t.length-2]),typeof e.object=="string"){e.object==="u32"&&(e.object="i32");var r="".concat(e.object,".").concat(e.id),n=uo[r];if(typeof n>"u")throw new Error("Unknow type signature for instruction: "+r);return n[1]}if(!(e.id==="get_global"||e.id==="get_local")){if(e.type==="LoopInstruction"){var a=e;if(a.resulttype!=null)return[a.resulttype]}if(e.type==="IfInstruction"){var i=e,u=[];typeof i.result=="string"&&(u=[i.result]);var o=Ho(i.consequent)||[],s=Ho(i.alternate)||[];if(Vo(o,u)===!1||Vo(s,u)===!1)throw new Error("type mismatch in if branches");return u}}}}function Wr(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}function Hp(t){var e=Xp(t);if(e.length!==0){var r=`Validation errors:
`+e.join(`
`);throw new Error(r)}}function Xp(t){var e=[],r=[];return t.type==="Module"&&(r=[t]),t.type==="Program"&&(r=t.body.filter(function(n){var a=n.type;return a==="Module"})),r.forEach(function(n){var a=vo(n);e.push.apply(e,Wr(Rp(t))),e.push.apply(e,Wr(Cp(t,a))),e.push.apply(e,Wr(jp(t))),e.push.apply(e,Wr(zp(t))),e.push.apply(e,Wr(Vp(t)))}),e}var Wp=Bp,Zp=Wp.evaluate,Qp=Qt,Ms=Qp.CompileError;function Jp(t,e){var r,n=e.globalType,a=n.valtype,i=n.mutability;if(e.init.length>2||e.init.length===1)throw new Ms("type mismatch");var u=Ho(e.init);if(u!=null&&Vo([e.globalType.valtype],u)===!1)throw new Ms("type mismatch");var o=Zp(t,e.init);return o!=null&&(r=o.value),{type:a,mutability:i,value:r}}var Kp=Object.freeze({__proto__:null,createInstance:Jp}),Yp=ye(Kp),l={};Object.defineProperty(l,"__esModule",{value:!0}),l.module=ey,l.moduleMetadata=ty,l.moduleNameMetadata=ry,l.functionNameMetadata=ny,l.localNameMetadata=ay,l.binaryModule=oy,l.quoteModule=iy,l.sectionMetadata=uy,l.producersSectionMetadata=sy,l.producerMetadata=ly,l.producerMetadataVersionedName=fy,l.loopInstruction=cy,l.instr=dy,l.ifInstruction=vy,l.stringLiteral=py,l.numberLiteral=yy,l.longNumberLiteral=my,l.floatLiteral=hy,l.elem=gy,l.indexInFuncSection=by,l.valtypeLiteral=wy,l.typeInstruction=_y,l.start=xy,l.globalType=Iy,l.leadingComment=Ey,l.blockComment=ky,l.data=My,l.global=Sy,l.table=$y,l.memory=Fy,l.funcImportDescr=Ny,l.moduleImport=Ly,l.moduleExportDescr=Ay,l.moduleExport=Ty,l.limit=Py,l.signature=Oy,l.program=By,l.identifier=jy,l.blockInstruction=Cy,l.callInstruction=Uy,l.callIndirectInstruction=qy,l.byteArray=Gy,l.func=zy,l.internalBrUnless=Ry,l.internalGoto=Dy,l.internalCallExtern=Vy,l.internalEndAndReturn=Hy,l.assertInternalCallExtern=l.assertInternalGoto=l.assertInternalBrUnless=l.assertFunc=l.assertByteArray=l.assertCallIndirectInstruction=l.assertCallInstruction=l.assertBlockInstruction=l.assertIdentifier=l.assertProgram=l.assertSignature=l.assertLimit=l.assertModuleExport=l.assertModuleExportDescr=l.assertModuleImport=l.assertFuncImportDescr=l.assertMemory=l.assertTable=l.assertGlobal=l.assertData=l.assertBlockComment=l.assertLeadingComment=l.assertGlobalType=l.assertStart=l.assertTypeInstruction=l.assertValtypeLiteral=l.assertIndexInFuncSection=l.assertElem=l.assertFloatLiteral=l.assertLongNumberLiteral=l.assertNumberLiteral=l.assertStringLiteral=l.assertIfInstruction=l.assertInstr=l.assertLoopInstruction=l.assertProducerMetadataVersionedName=l.assertProducerMetadata=l.assertProducersSectionMetadata=l.assertSectionMetadata=l.assertQuoteModule=l.assertBinaryModule=l.assertLocalNameMetadata=l.assertFunctionNameMetadata=l.assertModuleNameMetadata=l.assertModuleMetadata=l.assertModule=l.isIntrinsic=l.isImportDescr=l.isNumericLiteral=l.isExpression=l.isInstruction=l.isBlock=l.isNode=l.isInternalEndAndReturn=l.isInternalCallExtern=l.isInternalGoto=l.isInternalBrUnless=l.isFunc=l.isByteArray=l.isCallIndirectInstruction=l.isCallInstruction=l.isBlockInstruction=Ks=l.isIdentifier=l.isProgram=l.isSignature=l.isLimit=l.isModuleExport=l.isModuleExportDescr=l.isModuleImport=l.isFuncImportDescr=l.isMemory=l.isTable=l.isGlobal=l.isData=l.isBlockComment=l.isLeadingComment=l.isGlobalType=l.isStart=l.isTypeInstruction=l.isValtypeLiteral=l.isIndexInFuncSection=l.isElem=l.isFloatLiteral=l.isLongNumberLiteral=Cs=l.isNumberLiteral=l.isStringLiteral=l.isIfInstruction=l.isInstr=l.isLoopInstruction=l.isProducerMetadataVersionedName=l.isProducerMetadata=l.isProducersSectionMetadata=l.isSectionMetadata=l.isQuoteModule=l.isBinaryModule=l.isLocalNameMetadata=l.isFunctionNameMetadata=l.isModuleNameMetadata=l.isModuleMetadata=l.isModule=void 0,l.nodeAndUnionTypes=l.unionTypesMap=l.assertInternalEndAndReturn=void 0;function B(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?B=function(r){return typeof r}:B=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},B(t)}function Y(t){return function(e){return e.type===t}}function ee(t){return function(e){return function(){if(e.type!==t)throw new Error("n.type === t error: unknown")}()}}function ey(t,e,r){if(t!=null&&typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+B(t)||"unknown"));if(!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof fields === "object" && typeof fields.length !== "undefined" error: unknown');var n={type:"Module",id:t,fields:e};return typeof r<"u"&&(n.metadata=r),n}function ty(t,e,r,n){if(!(B(t)==="object"&&typeof t.length<"u"))throw new Error('typeof sections === "object" && typeof sections.length !== "undefined" error: unknown');if(e!=null&&!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof functionNames === "object" && typeof functionNames.length !== "undefined" error: unknown');if(r!=null&&!(B(r)==="object"&&typeof r.length<"u"))throw new Error('typeof localNames === "object" && typeof localNames.length !== "undefined" error: unknown');if(n!=null&&!(B(n)==="object"&&typeof n.length<"u"))throw new Error('typeof producers === "object" && typeof producers.length !== "undefined" error: unknown');var a={type:"ModuleMetadata",sections:t};return typeof e<"u"&&e.length>0&&(a.functionNames=e),typeof r<"u"&&r.length>0&&(a.localNames=r),typeof n<"u"&&n.length>0&&(a.producers=n),a}function ry(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+B(t)||"unknown"));var e={type:"ModuleNameMetadata",value:t};return e}function ny(t,e){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+B(t)||"unknown"));if(typeof e!="number")throw new Error('typeof index === "number" error: '+("Argument index must be of type number, given: "+B(e)||"unknown"));var r={type:"FunctionNameMetadata",value:t,index:e};return r}function ay(t,e,r){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+B(t)||"unknown"));if(typeof e!="number")throw new Error('typeof localIndex === "number" error: '+("Argument localIndex must be of type number, given: "+B(e)||"unknown"));if(typeof r!="number")throw new Error('typeof functionIndex === "number" error: '+("Argument functionIndex must be of type number, given: "+B(r)||"unknown"));var n={type:"LocalNameMetadata",value:t,localIndex:e,functionIndex:r};return n}function oy(t,e){if(t!=null&&typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+B(t)||"unknown"));if(!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof blob === "object" && typeof blob.length !== "undefined" error: unknown');var r={type:"BinaryModule",id:t,blob:e};return r}function iy(t,e){if(t!=null&&typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+B(t)||"unknown"));if(!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof string === "object" && typeof string.length !== "undefined" error: unknown');var r={type:"QuoteModule",id:t,string:e};return r}function uy(t,e,r,n){if(typeof e!="number")throw new Error('typeof startOffset === "number" error: '+("Argument startOffset must be of type number, given: "+B(e)||"unknown"));var a={type:"SectionMetadata",section:t,startOffset:e,size:r,vectorOfSize:n};return a}function sy(t){if(!(B(t)==="object"&&typeof t.length<"u"))throw new Error('typeof producers === "object" && typeof producers.length !== "undefined" error: unknown');var e={type:"ProducersSectionMetadata",producers:t};return e}function ly(t,e,r){if(!(B(t)==="object"&&typeof t.length<"u"))throw new Error('typeof language === "object" && typeof language.length !== "undefined" error: unknown');if(!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof processedBy === "object" && typeof processedBy.length !== "undefined" error: unknown');if(!(B(r)==="object"&&typeof r.length<"u"))throw new Error('typeof sdk === "object" && typeof sdk.length !== "undefined" error: unknown');var n={type:"ProducerMetadata",language:t,processedBy:e,sdk:r};return n}function fy(t,e){if(typeof t!="string")throw new Error('typeof name === "string" error: '+("Argument name must be of type string, given: "+B(t)||"unknown"));if(typeof e!="string")throw new Error('typeof version === "string" error: '+("Argument version must be of type string, given: "+B(e)||"unknown"));var r={type:"ProducerMetadataVersionedName",name:t,version:e};return r}function cy(t,e,r){if(!(B(r)==="object"&&typeof r.length<"u"))throw new Error('typeof instr === "object" && typeof instr.length !== "undefined" error: unknown');var n={type:"LoopInstruction",id:"loop",label:t,resulttype:e,instr:r};return n}function dy(t,e,r,n){if(typeof t!="string")throw new Error('typeof id === "string" error: '+("Argument id must be of type string, given: "+B(t)||"unknown"));if(!(B(r)==="object"&&typeof r.length<"u"))throw new Error('typeof args === "object" && typeof args.length !== "undefined" error: unknown');var a={type:"Instr",id:t,args:r};return typeof e<"u"&&(a.object=e),typeof n<"u"&&Object.keys(n).length!==0&&(a.namedArgs=n),a}function vy(t,e,r,n,a){if(!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof test === "object" && typeof test.length !== "undefined" error: unknown');if(!(B(n)==="object"&&typeof n.length<"u"))throw new Error('typeof consequent === "object" && typeof consequent.length !== "undefined" error: unknown');if(!(B(a)==="object"&&typeof a.length<"u"))throw new Error('typeof alternate === "object" && typeof alternate.length !== "undefined" error: unknown');var i={type:"IfInstruction",id:"if",testLabel:t,test:e,result:r,consequent:n,alternate:a};return i}function py(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+B(t)||"unknown"));var e={type:"StringLiteral",value:t};return e}function yy(t,e){if(typeof t!="number")throw new Error('typeof value === "number" error: '+("Argument value must be of type number, given: "+B(t)||"unknown"));if(typeof e!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+B(e)||"unknown"));var r={type:"NumberLiteral",value:t,raw:e};return r}function my(t,e){if(typeof e!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+B(e)||"unknown"));var r={type:"LongNumberLiteral",value:t,raw:e};return r}function hy(t,e,r,n){if(typeof t!="number")throw new Error('typeof value === "number" error: '+("Argument value must be of type number, given: "+B(t)||"unknown"));if(e!=null&&typeof e!="boolean")throw new Error('typeof nan === "boolean" error: '+("Argument nan must be of type boolean, given: "+B(e)||"unknown"));if(r!=null&&typeof r!="boolean")throw new Error('typeof inf === "boolean" error: '+("Argument inf must be of type boolean, given: "+B(r)||"unknown"));if(typeof n!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+B(n)||"unknown"));var a={type:"FloatLiteral",value:t,raw:n};return e===!0&&(a.nan=!0),r===!0&&(a.inf=!0),a}function gy(t,e,r){if(!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof offset === "object" && typeof offset.length !== "undefined" error: unknown');if(!(B(r)==="object"&&typeof r.length<"u"))throw new Error('typeof funcs === "object" && typeof funcs.length !== "undefined" error: unknown');var n={type:"Elem",table:t,offset:e,funcs:r};return n}function by(t){var e={type:"IndexInFuncSection",index:t};return e}function wy(t){var e={type:"ValtypeLiteral",name:t};return e}function _y(t,e){var r={type:"TypeInstruction",id:t,functype:e};return r}function xy(t){var e={type:"Start",index:t};return e}function Iy(t,e){var r={type:"GlobalType",valtype:t,mutability:e};return r}function Ey(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+B(t)||"unknown"));var e={type:"LeadingComment",value:t};return e}function ky(t){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+B(t)||"unknown"));var e={type:"BlockComment",value:t};return e}function My(t,e,r){var n={type:"Data",memoryIndex:t,offset:e,init:r};return n}function Sy(t,e,r){if(!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof init === "object" && typeof init.length !== "undefined" error: unknown');var n={type:"Global",globalType:t,init:e,name:r};return n}function $y(t,e,r,n){if(e.type!=="Limit")throw new Error('limits.type === "Limit" error: '+("Argument limits must be of type Limit, given: "+e.type||"unknown"));if(n!=null&&!(B(n)==="object"&&typeof n.length<"u"))throw new Error('typeof elements === "object" && typeof elements.length !== "undefined" error: unknown');var a={type:"Table",elementType:t,limits:e,name:r};return typeof n<"u"&&n.length>0&&(a.elements=n),a}function Fy(t,e){var r={type:"Memory",limits:t,id:e};return r}function Ny(t,e){var r={type:"FuncImportDescr",id:t,signature:e};return r}function Ly(t,e,r){if(typeof t!="string")throw new Error('typeof module === "string" error: '+("Argument module must be of type string, given: "+B(t)||"unknown"));if(typeof e!="string")throw new Error('typeof name === "string" error: '+("Argument name must be of type string, given: "+B(e)||"unknown"));var n={type:"ModuleImport",module:t,name:e,descr:r};return n}function Ay(t,e){var r={type:"ModuleExportDescr",exportType:t,id:e};return r}function Ty(t,e){if(typeof t!="string")throw new Error('typeof name === "string" error: '+("Argument name must be of type string, given: "+B(t)||"unknown"));var r={type:"ModuleExport",name:t,descr:e};return r}function Py(t,e,r){if(typeof t!="number")throw new Error('typeof min === "number" error: '+("Argument min must be of type number, given: "+B(t)||"unknown"));if(e!=null&&typeof e!="number")throw new Error('typeof max === "number" error: '+("Argument max must be of type number, given: "+B(e)||"unknown"));if(r!=null&&typeof r!="boolean")throw new Error('typeof shared === "boolean" error: '+("Argument shared must be of type boolean, given: "+B(r)||"unknown"));var n={type:"Limit",min:t};return typeof e<"u"&&(n.max=e),r===!0&&(n.shared=!0),n}function Oy(t,e){if(!(B(t)==="object"&&typeof t.length<"u"))throw new Error('typeof params === "object" && typeof params.length !== "undefined" error: unknown');if(!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof results === "object" && typeof results.length !== "undefined" error: unknown');var r={type:"Signature",params:t,results:e};return r}function By(t){if(!(B(t)==="object"&&typeof t.length<"u"))throw new Error('typeof body === "object" && typeof body.length !== "undefined" error: unknown');var e={type:"Program",body:t};return e}function jy(t,e){if(typeof t!="string")throw new Error('typeof value === "string" error: '+("Argument value must be of type string, given: "+B(t)||"unknown"));if(e!=null&&typeof e!="string")throw new Error('typeof raw === "string" error: '+("Argument raw must be of type string, given: "+B(e)||"unknown"));var r={type:"Identifier",value:t};return typeof e<"u"&&(r.raw=e),r}function Cy(t,e,r){if(!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof instr === "object" && typeof instr.length !== "undefined" error: unknown');var n={type:"BlockInstruction",id:"block",label:t,instr:e,result:r};return n}function Uy(t,e,r){if(e!=null&&!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof instrArgs === "object" && typeof instrArgs.length !== "undefined" error: unknown');var n={type:"CallInstruction",id:"call",index:t};return typeof e<"u"&&e.length>0&&(n.instrArgs=e),typeof r<"u"&&(n.numeric=r),n}function qy(t,e){if(e!=null&&!(B(e)==="object"&&typeof e.length<"u"))throw new Error('typeof intrs === "object" && typeof intrs.length !== "undefined" error: unknown');var r={type:"CallIndirectInstruction",id:"call_indirect",signature:t};return typeof e<"u"&&e.length>0&&(r.intrs=e),r}function Gy(t){if(!(B(t)==="object"&&typeof t.length<"u"))throw new Error('typeof values === "object" && typeof values.length !== "undefined" error: unknown');var e={type:"ByteArray",values:t};return e}function zy(t,e,r,n,a){if(!(B(r)==="object"&&typeof r.length<"u"))throw new Error('typeof body === "object" && typeof body.length !== "undefined" error: unknown');if(n!=null&&typeof n!="boolean")throw new Error('typeof isExternal === "boolean" error: '+("Argument isExternal must be of type boolean, given: "+B(n)||"unknown"));var i={type:"Func",name:t,signature:e,body:r};return n===!0&&(i.isExternal=!0),typeof a<"u"&&(i.metadata=a),i}function Ry(t){if(typeof t!="number")throw new Error('typeof target === "number" error: '+("Argument target must be of type number, given: "+B(t)||"unknown"));var e={type:"InternalBrUnless",target:t};return e}function Dy(t){if(typeof t!="number")throw new Error('typeof target === "number" error: '+("Argument target must be of type number, given: "+B(t)||"unknown"));var e={type:"InternalGoto",target:t};return e}function Vy(t){if(typeof t!="number")throw new Error('typeof target === "number" error: '+("Argument target must be of type number, given: "+B(t)||"unknown"));var e={type:"InternalCallExtern",target:t};return e}function Hy(){var t={type:"InternalEndAndReturn"};return t}var Ss=Y("Module");l.isModule=Ss;var $s=Y("ModuleMetadata");l.isModuleMetadata=$s;var Fs=Y("ModuleNameMetadata");l.isModuleNameMetadata=Fs;var Ns=Y("FunctionNameMetadata");l.isFunctionNameMetadata=Ns;var Ls=Y("LocalNameMetadata");l.isLocalNameMetadata=Ls;var As=Y("BinaryModule");l.isBinaryModule=As;var Ts=Y("QuoteModule");l.isQuoteModule=Ts;var Ps=Y("SectionMetadata");l.isSectionMetadata=Ps;var Os=Y("ProducersSectionMetadata");l.isProducersSectionMetadata=Os;var Bs=Y("ProducerMetadata");l.isProducerMetadata=Bs;var js=Y("ProducerMetadataVersionedName");l.isProducerMetadataVersionedName=js;var ra=Y("LoopInstruction");l.isLoopInstruction=ra;var na=Y("Instr");l.isInstr=na;var Xo=Y("IfInstruction");l.isIfInstruction=Xo;var Wo=Y("StringLiteral");l.isStringLiteral=Wo;var aa=Y("NumberLiteral"),Cs=l.isNumberLiteral=aa,oa=Y("LongNumberLiteral");l.isLongNumberLiteral=oa;var ia=Y("FloatLiteral");l.isFloatLiteral=ia;var Us=Y("Elem");l.isElem=Us;var qs=Y("IndexInFuncSection");l.isIndexInFuncSection=qs;var Zo=Y("ValtypeLiteral");l.isValtypeLiteral=Zo;var Qo=Y("TypeInstruction");l.isTypeInstruction=Qo;var Gs=Y("Start");l.isStart=Gs;var Jo=Y("GlobalType");l.isGlobalType=Jo;var zs=Y("LeadingComment");l.isLeadingComment=zs;var Rs=Y("BlockComment");l.isBlockComment=Rs;var Ds=Y("Data");l.isData=Ds;var Vs=Y("Global");l.isGlobal=Vs;var Ko=Y("Table");l.isTable=Ko;var Yo=Y("Memory");l.isMemory=Yo;var ei=Y("FuncImportDescr");l.isFuncImportDescr=ei;var Hs=Y("ModuleImport");l.isModuleImport=Hs;var Xs=Y("ModuleExportDescr");l.isModuleExportDescr=Xs;var Ws=Y("ModuleExport");l.isModuleExport=Ws;var Zs=Y("Limit");l.isLimit=Zs;var Qs=Y("Signature");l.isSignature=Qs;var Js=Y("Program");l.isProgram=Js;var ti=Y("Identifier"),Ks=l.isIdentifier=ti,ua=Y("BlockInstruction");l.isBlockInstruction=ua;var ri=Y("CallInstruction");l.isCallInstruction=ri;var ni=Y("CallIndirectInstruction");l.isCallIndirectInstruction=ni;var Ys=Y("ByteArray");l.isByteArray=Ys;var ai=Y("Func");l.isFunc=ai;var oi=Y("InternalBrUnless");l.isInternalBrUnless=oi;var ii=Y("InternalGoto");l.isInternalGoto=ii;var ui=Y("InternalCallExtern");l.isInternalCallExtern=ui;var si=Y("InternalEndAndReturn");l.isInternalEndAndReturn=si;var Xy=function(e){return Ss(e)||$s(e)||Fs(e)||Ns(e)||Ls(e)||As(e)||Ts(e)||Ps(e)||Os(e)||Bs(e)||js(e)||ra(e)||na(e)||Xo(e)||Wo(e)||aa(e)||oa(e)||ia(e)||Us(e)||qs(e)||Zo(e)||Qo(e)||Gs(e)||Jo(e)||zs(e)||Rs(e)||Ds(e)||Vs(e)||Ko(e)||Yo(e)||ei(e)||Hs(e)||Xs(e)||Ws(e)||Zs(e)||Qs(e)||Js(e)||ti(e)||ua(e)||ri(e)||ni(e)||Ys(e)||ai(e)||oi(e)||ii(e)||ui(e)||si(e)};l.isNode=Xy;var Wy=function(e){return ra(e)||ua(e)||ai(e)};l.isBlock=Wy;var Zy=function(e){return ra(e)||na(e)||Xo(e)||Qo(e)||ua(e)||ri(e)||ni(e)};l.isInstruction=Zy;var Qy=function(e){return na(e)||Wo(e)||aa(e)||oa(e)||ia(e)||Zo(e)||ti(e)};l.isExpression=Qy;var Jy=function(e){return aa(e)||oa(e)||ia(e)};l.isNumericLiteral=Jy;var Ky=function(e){return Jo(e)||Ko(e)||Yo(e)||ei(e)};l.isImportDescr=Ky;var Yy=function(e){return oi(e)||ii(e)||ui(e)||si(e)};l.isIntrinsic=Yy;var em=ee("Module");l.assertModule=em;var tm=ee("ModuleMetadata");l.assertModuleMetadata=tm;var rm=ee("ModuleNameMetadata");l.assertModuleNameMetadata=rm;var nm=ee("FunctionNameMetadata");l.assertFunctionNameMetadata=nm;var am=ee("LocalNameMetadata");l.assertLocalNameMetadata=am;var om=ee("BinaryModule");l.assertBinaryModule=om;var im=ee("QuoteModule");l.assertQuoteModule=im;var um=ee("SectionMetadata");l.assertSectionMetadata=um;var sm=ee("ProducersSectionMetadata");l.assertProducersSectionMetadata=sm;var lm=ee("ProducerMetadata");l.assertProducerMetadata=lm;var fm=ee("ProducerMetadataVersionedName");l.assertProducerMetadataVersionedName=fm;var cm=ee("LoopInstruction");l.assertLoopInstruction=cm;var dm=ee("Instr");l.assertInstr=dm;var vm=ee("IfInstruction");l.assertIfInstruction=vm;var pm=ee("StringLiteral");l.assertStringLiteral=pm;var ym=ee("NumberLiteral");l.assertNumberLiteral=ym;var mm=ee("LongNumberLiteral");l.assertLongNumberLiteral=mm;var hm=ee("FloatLiteral");l.assertFloatLiteral=hm;var gm=ee("Elem");l.assertElem=gm;var bm=ee("IndexInFuncSection");l.assertIndexInFuncSection=bm;var wm=ee("ValtypeLiteral");l.assertValtypeLiteral=wm;var _m=ee("TypeInstruction");l.assertTypeInstruction=_m;var xm=ee("Start");l.assertStart=xm;var Im=ee("GlobalType");l.assertGlobalType=Im;var Em=ee("LeadingComment");l.assertLeadingComment=Em;var km=ee("BlockComment");l.assertBlockComment=km;var Mm=ee("Data");l.assertData=Mm;var Sm=ee("Global");l.assertGlobal=Sm;var $m=ee("Table");l.assertTable=$m;var Fm=ee("Memory");l.assertMemory=Fm;var Nm=ee("FuncImportDescr");l.assertFuncImportDescr=Nm;var Lm=ee("ModuleImport");l.assertModuleImport=Lm;var Am=ee("ModuleExportDescr");l.assertModuleExportDescr=Am;var Tm=ee("ModuleExport");l.assertModuleExport=Tm;var Pm=ee("Limit");l.assertLimit=Pm;var Om=ee("Signature");l.assertSignature=Om;var Bm=ee("Program");l.assertProgram=Bm;var jm=ee("Identifier");l.assertIdentifier=jm;var Cm=ee("BlockInstruction");l.assertBlockInstruction=Cm;var Um=ee("CallInstruction");l.assertCallInstruction=Um;var qm=ee("CallIndirectInstruction");l.assertCallIndirectInstruction=qm;var Gm=ee("ByteArray");l.assertByteArray=Gm;var zm=ee("Func");l.assertFunc=zm;var Rm=ee("InternalBrUnless");l.assertInternalBrUnless=Rm;var Dm=ee("InternalGoto");l.assertInternalGoto=Dm;var Vm=ee("InternalCallExtern");l.assertInternalCallExtern=Vm;var Hm=ee("InternalEndAndReturn");l.assertInternalEndAndReturn=Hm;var Xm={Module:["Node"],ModuleMetadata:["Node"],ModuleNameMetadata:["Node"],FunctionNameMetadata:["Node"],LocalNameMetadata:["Node"],BinaryModule:["Node"],QuoteModule:["Node"],SectionMetadata:["Node"],ProducersSectionMetadata:["Node"],ProducerMetadata:["Node"],ProducerMetadataVersionedName:["Node"],LoopInstruction:["Node","Block","Instruction"],Instr:["Node","Expression","Instruction"],IfInstruction:["Node","Instruction"],StringLiteral:["Node","Expression"],NumberLiteral:["Node","NumericLiteral","Expression"],LongNumberLiteral:["Node","NumericLiteral","Expression"],FloatLiteral:["Node","NumericLiteral","Expression"],Elem:["Node"],IndexInFuncSection:["Node"],ValtypeLiteral:["Node","Expression"],TypeInstruction:["Node","Instruction"],Start:["Node"],GlobalType:["Node","ImportDescr"],LeadingComment:["Node"],BlockComment:["Node"],Data:["Node"],Global:["Node"],Table:["Node","ImportDescr"],Memory:["Node","ImportDescr"],FuncImportDescr:["Node","ImportDescr"],ModuleImport:["Node"],ModuleExportDescr:["Node"],ModuleExport:["Node"],Limit:["Node"],Signature:["Node"],Program:["Node"],Identifier:["Node","Expression"],BlockInstruction:["Node","Block","Instruction"],CallInstruction:["Node","Instruction"],CallIndirectInstruction:["Node","Instruction"],ByteArray:["Node"],Func:["Node","Block"],InternalBrUnless:["Node","Intrinsic"],InternalGoto:["Node","Intrinsic"],InternalCallExtern:["Node","Intrinsic"],InternalEndAndReturn:["Node","Intrinsic"]};l.unionTypesMap=Xm;var Wm=["Module","ModuleMetadata","ModuleNameMetadata","FunctionNameMetadata","LocalNameMetadata","BinaryModule","QuoteModule","SectionMetadata","ProducersSectionMetadata","ProducerMetadata","ProducerMetadataVersionedName","LoopInstruction","Instr","IfInstruction","StringLiteral","NumberLiteral","LongNumberLiteral","FloatLiteral","Elem","IndexInFuncSection","ValtypeLiteral","TypeInstruction","Start","GlobalType","LeadingComment","BlockComment","Data","Global","Table","Memory","FuncImportDescr","ModuleImport","ModuleExportDescr","ModuleExport","Limit","Signature","Program","Identifier","BlockInstruction","CallInstruction","CallIndirectInstruction","ByteArray","Func","InternalBrUnless","InternalGoto","InternalCallExtern","InternalEndAndReturn","Node","Block","Instruction","Expression","NumericLiteral","ImportDescr","Intrinsic"];l.nodeAndUnionTypes=Wm;function sa(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sa=function(r){return typeof r}:sa=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sa(t)}var el=Qt,Zm=el.RuntimeError,kr=el.CompileError,Qm=as,Jm=Ud,tl=Rd,Km=Yp,Ym=qr,eh=Ym.i32;function th(t,e,r,n,a){function i(f,v){if(typeof r[f]>"u"||typeof r[f][v]>"u")throw new kr("Unknown import ".concat(f,".").concat(v));return r[f][v]}function u(f,v){var I=i(f.module,f.name),S=v.signature.params!=null?v.signature.params:[],oe=v.signature.results!=null?v.signature.results:[],ie=tl.createFuncInstance(I,S,oe),$=e.malloc(1);e.set($,ie),a.funcaddrs.push($)}function o(f,v){var I=i(f.module,f.name),S=tl.createGlobalInstance(new eh(I),v.valtype,v.mutability),oe=e.malloc(1);e.set(oe,S),a.globaladdrs.push(oe)}function s(f){var v=i(f.module,f.name),I=e.malloc(1);e.set(I,v),a.memaddrs.push(I)}function c(f){var v=i(f.module,f.name),I=e.malloc(1);e.set(I,v),a.tableaddrs.push(I)}ke(t,{ModuleImport:function(f){function v(I){return f.apply(this,arguments)}return v.toString=function(){return f.toString()},v}(function(f){var v=f.node;switch(v.descr.type){case"FuncImportDescr":return u(v,v.descr);case"GlobalType":return o(v,v.descr);case"Memory":return s(v);case"Table":return c(v);default:throw new Error("Unsupported import of type: "+v.descr.type)}})})}function rh(t,e,r){ke(t,{Data:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){var a=n.node,i=a.memoryIndex.value,u=r.memaddrs[i],o=e.get(u),s=new Uint8Array(o.buffer),c;if(a.offset.id==="const"){var f=a.offset,v=f.args[0];c=v.value}else if(a.offset.id==="get_global"){var I=a.offset,S=I.args[0].value,oe=r.globaladdrs[S],ie=e.get(oe);c=ie.value.toNumber()}else throw new Zm("data segment offsets can only be specified as constants or globals");for(var $=0;$<a.init.values.length;$++)s[$+c]=a.init.values[$]})})}function nh(t,e,r,n,a){var i=0;ke(e,{Func:function(u){function o(s){return u.apply(this,arguments)}return o.toString=function(){return u.toString()},o}(function(u){var o=u.node;if(o.isExternal!==!0){var s=t[i].startAt,c=Jm.createInstance(s,o,a),f=r.malloc(1);r.set(f,c),a.funcaddrs.push(f),o.name!=null&&o.name.type==="Identifier"&&(n.instantiatedFuncs[o.name.value]={addr:f}),i++}}),Table:function(u){function o(s){return u.apply(this,arguments)}return o.toString=function(){return u.toString()},o}(function(u){var o=u.node,s=o.limits.min,c=o.elementType,f=new Qm.Table({initial:s,element:c}),v=r.malloc(1);r.set(v,f),a.tableaddrs.push(v),o.name!=null&&o.name.type==="Identifier"&&(n.instantiatedTables[o.name.value]={addr:v})}),Elem:function(u){function o(s){return u.apply(this,arguments)}return o.toString=function(){return u.toString()},o}(function(u){var o=u.node,s;if(o.table.type==="NumberLiteral"){var c=a.tableaddrs[o.table.value];s=r.get(c)}if(sa(s)==="object")s.push(function(){throw new Error("Unsupported operation")});else throw new kr("Unknown table")}),Memory:function(u){function o(s){return u.apply(this,arguments)}return o.toString=function(){return u.toString()},o}(function(u){var o=u.node;if(a.memaddrs.length===0){var s=o.limits,c=s.min,f=s.max,v={initial:c};typeof f=="number"&&(v.maximum=f);var I=new _s(v),S=r.malloc(1);r.set(S,I),a.memaddrs.push(S),n.instantiatedMemories.push({addr:S})}}),Global:function(u){function o(s){return u.apply(this,arguments)}return o.toString=function(){return u.toString()},o}(function(u){var o=u.node,s=Km.createInstance(r,o),c=r.malloc(1);r.set(c,s),a.globaladdrs.push(c),n.instantiatedGlobals.push({addr:c,type:o.globalType})})})}function ah(t,e,r,n){function a(u){var o=n.exports.find(function(s){var c=s.name;return c===u});if(o!==void 0)throw new kr("duplicate export name")}function i(u,o,s,c){if(Ks(u.descr.id)===!0){var f=o[u.descr.id.value];c(f),a(u.name),n.exports.push({name:u.name,value:{type:u.descr.exportType,addr:f.addr}})}else if(Cs(u.descr.id)===!0){var v={addr:s[parseInt(u.descr.id.value)]};if(v===void 0)throw new Error("_instantiatedItem !== undefined error: unknown");c(v),a(u.name),n.exports.push({name:u.name,value:{type:u.descr.exportType,addr:v.addr}})}else throw new kr("Module exports must be referenced via an Identifier")}ke(t,{ModuleExport:function(u){function o(s){return u.apply(this,arguments)}return o.toString=function(){return u.toString()},o}(function(u){var o=u.node;switch(o.descr.exportType){case"Func":{i(o,r.instantiatedFuncs,n.funcaddrs,function(s){if(s===void 0)throw new Error("instantiatedFunc !== undefined error: "+("Function ".concat(o.name," has been exported but was not instantiated")||"unknown"))});break}case"Global":{i(o,r.instantiatedGlobals,n.globaladdrs,function(s){if(s===void 0)throw new Error("instantiatedGlobal !== undefined error: "+("Global ".concat(o.name," has been exported but was not instantiated")||"unknown"));var c=e.get(s.addr);if(c===void 0)throw new Error("global !== undefined error: unknown");if(c.mutability==="var")throw new kr("Mutable globals cannot be exported")});break}case"Table":{i(o,r.instantiatedTables,n.tableaddrs,function(s){if(s===void 0)throw new Error("instantiatedTable !== undefined error: "+("Table ".concat(o.name," has been exported but was not instantiated")||"unknown"))});break}case"Mem":case"Memory":{i(o,r.instantiatedMemories,n.memaddrs,function(s){if(s===void 0)throw new Error("instantiatedMemory !== undefined error: "+("Memory ".concat(o.name," has been exported but was not instantiated")||"unknown"))});break}default:throw new kr("unknown export: "+o.descr.exportType)}})})}function oh(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a={types:[],funcaddrs:[],tableaddrs:[],memaddrs:[],globaladdrs:[],exports:[]},i={instantiatedFuncs:{},instantiatedGlobals:[],instantiatedTables:{},instantiatedMemories:[]};return th(r,e,n,i,a),nh(t,r,e,i,a),rh(r,e,a),ah(r,e,i,a),a}var ih=Object.freeze({__proto__:null,createInstance:oh}),rl=ye(ih),nl=0;function uh(){var t=[],e=0;function r(u){return e+=u,{index:e,size:u}}function n(u){return t[u.index]}function a(u,o){t[u.index]=o}function i(u){t[u.index]=nl}return{malloc:r,free:i,get:n,set:a}}var sh=Object.freeze({__proto__:null,NULL:nl,createAllocator:uh}),lh=ye(sh);function fh(t,e){Object.keys(t).forEach(function(r){Object.keys(t[r]).forEach(function(n){var a=t[r][n];e(r,n,a)})})}var ch=Object.freeze({__proto__:null,walk:fh}),dh=ye(ch),al={},li={},mt={},vh=ye(Ff);Object.defineProperty(mt,"__esModule",{value:!0}),mt.numberLiteralFromRaw=fi,mt.instruction=ph,mt.objectInstruction=yh,mt.withLoc=mh,mt.withRaw=hh,mt.funcParam=gh,mt.indexLiteral=bh,mt.memIndexLiteral=wh;var Mt=vh,Ct=l;function fi(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"i32",r=t;if(typeof t=="string"&&(t=t.replace(/_/g,"")),typeof t=="number")return(0,Ct.numberLiteral)(t,String(r));switch(e){case"i32":return(0,Ct.numberLiteral)((0,Mt.parse32I)(t),String(r));case"u32":return(0,Ct.numberLiteral)((0,Mt.parseU32)(t),String(r));case"i64":return(0,Ct.longNumberLiteral)((0,Mt.parse64I)(t),String(r));case"f32":return(0,Ct.floatLiteral)((0,Mt.parse32F)(t),(0,Mt.isNanLiteral)(t),(0,Mt.isInfLiteral)(t),String(r));default:return(0,Ct.floatLiteral)((0,Mt.parse64F)(t),(0,Mt.isNanLiteral)(t),(0,Mt.isInfLiteral)(t),String(r))}}function ph(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,Ct.instr)(t,void 0,e,r)}function yh(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(0,Ct.instr)(t,e,r,n)}function mh(t,e,r){var n={start:r,end:e};return t.loc=n,t}function hh(t,e){return t.raw=e,t}function gh(t,e){return{id:e,valtype:t}}function bh(t){var e=fi(t,"u32");return e}function wh(t){var e=fi(t,"u32");return e}var la={},ci={};Object.defineProperty(ci,"__esModule",{value:!0}),ci.createPath=Fh;function di(){return di=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},di.apply(this,arguments)}function _h(t,e){var r=t.parentPath;if(r==null)throw new Error("node is root");for(var n=r;e(n)!==!1;){if(n.parentPath==null)return null;n=n.parentPath}return n.node}function xh(t,e){return ol(t,e)}function Ih(t,e){return ol(t,e,1)}function ol(t,e){var r=t.node,n=t.inList,a=t.parentPath,i=t.parentKey,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!n)throw new Error("inList error: insert can only be used for nodes that are within lists");if(a==null)throw new Error("parentPath != null error: Can not remove root node");var o=a.node[i],s=o.findIndex(function(c){return c===r});o.splice(s+u,0,e)}function Eh(t){var e=t.node,r=t.parentKey,n=t.parentPath;if(n==null)throw new Error("parentPath != null error: Can not remove root node");var a=n.node,i=a[r];Array.isArray(i)?a[r]=i.filter(function(u){return u!==e}):delete a[r],e._deleted=!0}function kh(t){t.shouldStop=!0}function Mh(t,e){var r=t.parentPath.node,n=r[t.parentKey];if(Array.isArray(n)){var a=n.findIndex(function(i){return i===t.node});n.splice(a,1,e)}else r[t.parentKey]=e;t.node._deleted=!0,t.node=e}function Sh(t,e){var r=Object.keys(t),n={};return r.forEach(function(a){n[a]=t[a].bind(null,e)}),n}function $h(t){return Sh({findParent:_h,replaceWith:Mh,remove:Eh,insertBefore:xh,insertAfter:Ih,stop:kh},t)}function Fh(t){var e=di({},t);return Object.assign(e,$h(e)),e}Object.defineProperty(la,"__esModule",{value:!0}),la.traverse=Ah;var Nh=ci,il=l;function Lh(t,e){var r=!1;function n(a,i){if(!r){var u=a.node;if(u===void 0){console.warn("traversing with an empty context");return}if(u._deleted!==!0){var o=(0,Nh.createPath)(a);if(i(u.type,o),o.shouldStop){r=!0;return}Object.keys(u).forEach(function(s){var c=u[s];if(c!=null){var f=Array.isArray(c)?c:[c];f.forEach(function(v){if(typeof v.type=="string"){var I={node:v,parentKey:s,parentPath:o,shouldStop:!1,inList:Array.isArray(c)};n(I,i)}})}})}}}n(t,e)}var ul=function(){};function Ah(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ul,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:ul;Object.keys(e).forEach(function(i){if(!il.nodeAndUnionTypes.includes(i))throw new Error("Unexpected visitor ".concat(i))});var a={node:t,inList:!1,shouldStop:!1,parentPath:null,parentKey:null};Lh(a,function(i,u){typeof e[i]=="function"&&(r(i,u),e[i](u),n(i,u));var o=il.unionTypesMap[i];if(!o)throw new Error("Unexpected node type ".concat(i));o.forEach(function(s){typeof e[s]=="function"&&(r(s,u),e[s](u),n(s,u))})})}var Zr={};Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.signatures=void 0;function m(t,e){return[t,e]}var D="u32",w="i32",L="i64",C="f32",q="f64",Th=function(e){var r=[e];return r.vector=!0,r},Ph={unreachable:m([],[]),nop:m([],[]),br:m([D],[]),br_if:m([D],[]),br_table:m(Th(D),[]),return:m([],[]),call:m([D],[]),call_indirect:m([D],[])},Oh={drop:m([],[]),select:m([],[])},Bh={get_local:m([D],[]),set_local:m([D],[]),tee_local:m([D],[]),get_global:m([D],[]),set_global:m([D],[])},jh={"i32.load":m([D,D],[w]),"i64.load":m([D,D],[]),"f32.load":m([D,D],[]),"f64.load":m([D,D],[]),"i32.load8_s":m([D,D],[w]),"i32.load8_u":m([D,D],[w]),"i32.load16_s":m([D,D],[w]),"i32.load16_u":m([D,D],[w]),"i64.load8_s":m([D,D],[L]),"i64.load8_u":m([D,D],[L]),"i64.load16_s":m([D,D],[L]),"i64.load16_u":m([D,D],[L]),"i64.load32_s":m([D,D],[L]),"i64.load32_u":m([D,D],[L]),"i32.store":m([D,D],[]),"i64.store":m([D,D],[]),"f32.store":m([D,D],[]),"f64.store":m([D,D],[]),"i32.store8":m([D,D],[]),"i32.store16":m([D,D],[]),"i64.store8":m([D,D],[]),"i64.store16":m([D,D],[]),"i64.store32":m([D,D],[]),current_memory:m([],[]),grow_memory:m([],[])},Ch={"i32.const":m([w],[w]),"i64.const":m([L],[L]),"f32.const":m([C],[C]),"f64.const":m([q],[q]),"i32.eqz":m([w],[w]),"i32.eq":m([w,w],[w]),"i32.ne":m([w,w],[w]),"i32.lt_s":m([w,w],[w]),"i32.lt_u":m([w,w],[w]),"i32.gt_s":m([w,w],[w]),"i32.gt_u":m([w,w],[w]),"i32.le_s":m([w,w],[w]),"i32.le_u":m([w,w],[w]),"i32.ge_s":m([w,w],[w]),"i32.ge_u":m([w,w],[w]),"i64.eqz":m([L],[L]),"i64.eq":m([L,L],[w]),"i64.ne":m([L,L],[w]),"i64.lt_s":m([L,L],[w]),"i64.lt_u":m([L,L],[w]),"i64.gt_s":m([L,L],[w]),"i64.gt_u":m([L,L],[w]),"i64.le_s":m([L,L],[w]),"i64.le_u":m([L,L],[w]),"i64.ge_s":m([L,L],[w]),"i64.ge_u":m([L,L],[w]),"f32.eq":m([C,C],[w]),"f32.ne":m([C,C],[w]),"f32.lt":m([C,C],[w]),"f32.gt":m([C,C],[w]),"f32.le":m([C,C],[w]),"f32.ge":m([C,C],[w]),"f64.eq":m([q,q],[w]),"f64.ne":m([q,q],[w]),"f64.lt":m([q,q],[w]),"f64.gt":m([q,q],[w]),"f64.le":m([q,q],[w]),"f64.ge":m([q,q],[w]),"i32.clz":m([w],[w]),"i32.ctz":m([w],[w]),"i32.popcnt":m([w],[w]),"i32.add":m([w,w],[w]),"i32.sub":m([w,w],[w]),"i32.mul":m([w,w],[w]),"i32.div_s":m([w,w],[w]),"i32.div_u":m([w,w],[w]),"i32.rem_s":m([w,w],[w]),"i32.rem_u":m([w,w],[w]),"i32.and":m([w,w],[w]),"i32.or":m([w,w],[w]),"i32.xor":m([w,w],[w]),"i32.shl":m([w,w],[w]),"i32.shr_s":m([w,w],[w]),"i32.shr_u":m([w,w],[w]),"i32.rotl":m([w,w],[w]),"i32.rotr":m([w,w],[w]),"i64.clz":m([L],[L]),"i64.ctz":m([L],[L]),"i64.popcnt":m([L],[L]),"i64.add":m([L,L],[L]),"i64.sub":m([L,L],[L]),"i64.mul":m([L,L],[L]),"i64.div_s":m([L,L],[L]),"i64.div_u":m([L,L],[L]),"i64.rem_s":m([L,L],[L]),"i64.rem_u":m([L,L],[L]),"i64.and":m([L,L],[L]),"i64.or":m([L,L],[L]),"i64.xor":m([L,L],[L]),"i64.shl":m([L,L],[L]),"i64.shr_s":m([L,L],[L]),"i64.shr_u":m([L,L],[L]),"i64.rotl":m([L,L],[L]),"i64.rotr":m([L,L],[L]),"f32.abs":m([C],[C]),"f32.neg":m([C],[C]),"f32.ceil":m([C],[C]),"f32.floor":m([C],[C]),"f32.trunc":m([C],[C]),"f32.nearest":m([C],[C]),"f32.sqrt":m([C],[C]),"f32.add":m([C,C],[C]),"f32.sub":m([C,C],[C]),"f32.mul":m([C,C],[C]),"f32.div":m([C,C],[C]),"f32.min":m([C,C],[C]),"f32.max":m([C,C],[C]),"f32.copysign":m([C,C],[C]),"f64.abs":m([q],[q]),"f64.neg":m([q],[q]),"f64.ceil":m([q],[q]),"f64.floor":m([q],[q]),"f64.trunc":m([q],[q]),"f64.nearest":m([q],[q]),"f64.sqrt":m([q],[q]),"f64.add":m([q,q],[q]),"f64.sub":m([q,q],[q]),"f64.mul":m([q,q],[q]),"f64.div":m([q,q],[q]),"f64.min":m([q,q],[q]),"f64.max":m([q,q],[q]),"f64.copysign":m([q,q],[q]),"i32.wrap/i64":m([L],[w]),"i32.trunc_s/f32":m([C],[w]),"i32.trunc_u/f32":m([C],[w]),"i32.trunc_s/f64":m([C],[w]),"i32.trunc_u/f64":m([q],[w]),"i64.extend_s/i32":m([w],[L]),"i64.extend_u/i32":m([w],[L]),"i64.trunc_s/f32":m([C],[L]),"i64.trunc_u/f32":m([C],[L]),"i64.trunc_s/f64":m([q],[L]),"i64.trunc_u/f64":m([q],[L]),"f32.convert_s/i32":m([w],[C]),"f32.convert_u/i32":m([w],[C]),"f32.convert_s/i64":m([L],[C]),"f32.convert_u/i64":m([L],[C]),"f32.demote/f64":m([q],[C]),"f64.convert_s/i32":m([w],[q]),"f64.convert_u/i32":m([w],[q]),"f64.convert_s/i64":m([L],[q]),"f64.convert_u/i64":m([L],[q]),"f64.promote/f32":m([C],[q]),"i32.reinterpret/f32":m([C],[w]),"i64.reinterpret/f64":m([q],[L]),"f32.reinterpret/i32":m([w],[C]),"f64.reinterpret/i64":m([L],[q])},Uh=Object.assign({},Ph,Oh,Bh,jh,Ch);Zr.signatures=Uh;var je={},qh=ye(nc);Object.defineProperty(je,"__esModule",{value:!0}),je.isAnonymous=Dh,je.getSectionMetadata=Vh,je.getSectionMetadatas=Hh,je.sortSectionMetadata=Xh,je.orderedInsertNode=Wh,je.assertHasLoc=mi,je.getEndOfSection=Zh,je.shiftLoc=fa,je.shiftSection=Qh,je.signatureForOpcode=Jh,je.getUniqueNameGenerator=Kh,je.getStartByteOffset=ca,je.getEndByteOffset=Yh,je.getFunctionBeginingByteOffset=eg,je.getEndBlockByteOffset=tg,je.getStartBlockByteOffset=rg;var Gh=Zr,vi=la,pi=zh(qh);function zh(t){if(t&&t.__esModule)return t;var e={};if(t!=null){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}}return e.default=t,e}function Rh(t,e){var r=[],n=!0,a=!1,i=void 0;try{for(var u=t[Symbol.iterator](),o;!(n=(o=u.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&u.return!=null&&u.return()}finally{if(a)throw i}}return r}function yi(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return Rh(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function St(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?St=function(r){return typeof r}:St=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},St(t)}function Dh(t){return t.raw===""}function Vh(t,e){var r;return(0,vi.traverse)(t,{SectionMetadata:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){var a=n.node;a.section===e&&(r=a)})}),r}function Hh(t,e){var r=[];return(0,vi.traverse)(t,{SectionMetadata:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){var a=n.node;a.section===e&&r.push(a)})}),r}function Xh(t){if(t.metadata==null){console.warn("sortSectionMetadata: no metadata to sort");return}t.metadata.sections.sort(function(e,r){var n=pi.default.sections[e.section],a=pi.default.sections[r.section];if(typeof n!="number"||typeof a!="number")throw new Error("Section id not found");return n-a})}function Wh(t,e){mi(e);var r=!1;if(e.type==="ModuleExport"){t.fields.push(e);return}t.fields=t.fields.reduce(function(n,a){var i=1/0;return a.loc!=null&&(i=a.loc.end.column),r===!1&&e.loc.start.column<i&&(r=!0,n.push(e)),n.push(a),n},[]),r===!1&&t.fields.push(e)}function mi(t){if(t.loc==null||t.loc.start==null||t.loc.end==null)throw new Error("Internal failure: node (".concat(JSON.stringify(t.type),") has no location information"))}function Zh(t){return mi(t.size),t.startOffset+t.size.value+(t.size.loc.end.column-t.size.loc.start.column)}function fa(t,e){t.loc.start.column+=e,t.loc.end.column+=e}function Qh(t,e,r){if(e.type!=="SectionMetadata")throw new Error("Can not shift node "+JSON.stringify(e.type));e.startOffset+=r,St(e.size.loc)==="object"&&fa(e.size,r),St(e.vectorOfSize)==="object"&&St(e.vectorOfSize.loc)==="object"&&fa(e.vectorOfSize,r);var n=e.section;(0,vi.traverse)(t,{Node:function(i){var u=i.node,o=(0,pi.getSectionForNode)(u);o===n&&St(u.loc)==="object"&&fa(u,r)}})}function Jh(t,e){var r=e;t!==void 0&&t!==""&&(r=t+"."+e);var n=Gh.signatures[r];return n==null?[t,t]:n[0]}function Kh(){var t={};return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"temp";return e in t?t[e]=t[e]+1:t[e]=0,e+"_"+t[e]}}function ca(t){if(typeof t.loc>"u"||typeof t.loc.start>"u")throw new Error("Can not get byte offset without loc informations, node: "+String(t.id));return t.loc.start.column}function Yh(t){if(typeof t.loc>"u"||typeof t.loc.end>"u")throw new Error("Can not get byte offset without loc informations, node: "+t.type);return t.loc.end.column}function eg(t){if(!(t.body.length>0))throw new Error("n.body.length > 0 error: unknown");var e=yi(t.body,1),r=e[0];return ca(r)}function tg(t){if(!(t.instr.length>0||t.body.length>0))throw new Error("n.instr.length > 0 || n.body.length > 0 error: unknown");var e;if(t.instr&&(e=t.instr[t.instr.length-1]),t.body&&(e=t.body[t.body.length-1]),St(e)!=="object")throw new Error('typeof lastInstruction === "object" error: unknown');return ca(e)}function rg(t){if(!(t.instr.length>0||t.body.length>0))throw new Error("n.instr.length > 0 || n.body.length > 0 error: unknown");var e;if(t.instr){var r=yi(t.instr,1);e=r[0]}if(t.body){var n=yi(t.body,1);e=n[0]}if(St(e)!=="object")throw new Error('typeof fistInstruction === "object" error: unknown');return ca(e)}var hi={};Object.defineProperty(hi,"__esModule",{value:!0}),hi.cloneNode=ng;function ng(t){return Object.assign({},t)}var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.moduleContextFromModuleAST=ig,Mr.ModuleContext=void 0;var sl=l;function ag(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ll(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function og(t,e,r){return e&&ll(t.prototype,e),r&&ll(t,r),t}function ig(t){var e=new fl;if(t.type!=="Module")throw new Error('m.type === "Module" error: unknown');return t.fields.forEach(function(r){switch(r.type){case"Start":{e.setStart(r.index);break}case"TypeInstruction":{e.addType(r);break}case"Func":{e.addFunction(r);break}case"Global":{e.defineGlobal(r);break}case"ModuleImport":{switch(r.descr.type){case"GlobalType":{e.importGlobal(r.descr.valtype,r.descr.mutability);break}case"Memory":{e.addMemory(r.descr.limits.min,r.descr.limits.max);break}case"FuncImportDescr":{e.importFunction(r.descr);break}case"Table":break;default:throw new Error("Unsupported ModuleImport of type "+JSON.stringify(r.descr.type))}break}case"Memory":{e.addMemory(r.limits.min,r.limits.max);break}}}),e}var fl=function(){function t(){ag(this,t),this.funcs=[],this.funcsOffsetByIdentifier=[],this.types=[],this.globals=[],this.globalsOffsetByIdentifier=[],this.mems=[],this.locals=[],this.labels=[],this.return=[],this.debugName="unknown",this.start=null}return og(t,[{key:"setStart",value:function(r){this.start=r.value}},{key:"getStart",value:function(){return this.start}},{key:"newContext",value:function(r,n){this.locals=[],this.labels=[n],this.return=n,this.debugName=r}},{key:"addFunction",value:function(r){var n=r.signature||{},a=n.params,i=a===void 0?[]:a,u=n.results,o=u===void 0?[]:u;i=i.map(function(s){return s.valtype}),this.funcs.push({args:i,result:o}),typeof r.name<"u"&&(this.funcsOffsetByIdentifier[r.name.value]=this.funcs.length-1)}},{key:"importFunction",value:function(r){if((0,sl.isSignature)(r.signature)){var n=r.signature,a=n.params,i=n.results;a=a.map(function(s){return s.valtype}),this.funcs.push({args:a,result:i})}else{if(!(0,sl.isNumberLiteral)(r.signature))throw new Error("isNumberLiteral(funcimport.signature) error: unknown");var u=r.signature.value;if(!this.hasType(u))throw new Error("this.hasType(typeId) error: unknown");var o=this.getType(u);this.funcs.push({args:o.params.map(function(s){return s.valtype}),result:o.results})}typeof r.id<"u"&&(this.funcsOffsetByIdentifier[r.id.value]=this.funcs.length-1)}},{key:"hasFunction",value:function(r){return typeof this.getFunction(r)<"u"}},{key:"getFunction",value:function(r){if(typeof r!="number")throw new Error("getFunction only supported for number index");return this.funcs[r]}},{key:"getFunctionOffsetByIdentifier",value:function(r){if(typeof r!="string")throw new Error('typeof name === "string" error: unknown');return this.funcsOffsetByIdentifier[r]}},{key:"addLabel",value:function(r){this.labels.unshift(r)}},{key:"hasLabel",value:function(r){return this.labels.length>r&&r>=0}},{key:"getLabel",value:function(r){return this.labels[r]}},{key:"popLabel",value:function(){this.labels.shift()}},{key:"hasLocal",value:function(r){return typeof this.getLocal(r)<"u"}},{key:"getLocal",value:function(r){return this.locals[r]}},{key:"addLocal",value:function(r){this.locals.push(r)}},{key:"addType",value:function(r){if(r.functype.type!=="Signature")throw new Error('type.functype.type === "Signature" error: unknown');this.types.push(r.functype)}},{key:"hasType",value:function(r){return this.types[r]!==void 0}},{key:"getType",value:function(r){return this.types[r]}},{key:"hasGlobal",value:function(r){return this.globals.length>r&&r>=0}},{key:"getGlobal",value:function(r){return this.globals[r].type}},{key:"getGlobalOffsetByIdentifier",value:function(r){if(typeof r!="string")throw new Error('typeof name === "string" error: unknown');return this.globalsOffsetByIdentifier[r]}},{key:"defineGlobal",value:function(r){var n=r.globalType.valtype,a=r.globalType.mutability;this.globals.push({type:n,mutability:a}),typeof r.name<"u"&&(this.globalsOffsetByIdentifier[r.name.value]=this.globals.length-1)}},{key:"importGlobal",value:function(r,n){this.globals.push({type:r,mutability:n})}},{key:"isMutableGlobal",value:function(r){return this.globals[r].mutability==="var"}},{key:"isImmutableGlobal",value:function(r){return this.globals[r].mutability==="const"}},{key:"hasMemory",value:function(r){return this.mems.length>r&&r>=0}},{key:"addMemory",value:function(r,n){this.mems.push({min:r,max:n})}},{key:"getMemory",value:function(r){return this.mems[r]}}]),t}();Mr.ModuleContext=fl,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e={numberLiteralFromRaw:!0,withLoc:!0,withRaw:!0,funcParam:!0,indexLiteral:!0,memIndexLiteral:!0,instruction:!0,objectInstruction:!0,traverse:!0,signatures:!0,cloneNode:!0,moduleContextFromModuleAST:!0};Object.defineProperty(t,"numberLiteralFromRaw",{enumerable:!0,get:function(){return n.numberLiteralFromRaw}}),Object.defineProperty(t,"withLoc",{enumerable:!0,get:function(){return n.withLoc}}),Object.defineProperty(t,"withRaw",{enumerable:!0,get:function(){return n.withRaw}}),Object.defineProperty(t,"funcParam",{enumerable:!0,get:function(){return n.funcParam}}),Object.defineProperty(t,"indexLiteral",{enumerable:!0,get:function(){return n.indexLiteral}}),Object.defineProperty(t,"memIndexLiteral",{enumerable:!0,get:function(){return n.memIndexLiteral}}),Object.defineProperty(t,"instruction",{enumerable:!0,get:function(){return n.instruction}}),Object.defineProperty(t,"objectInstruction",{enumerable:!0,get:function(){return n.objectInstruction}}),Object.defineProperty(t,"traverse",{enumerable:!0,get:function(){return a.traverse}}),Object.defineProperty(t,"signatures",{enumerable:!0,get:function(){return i.signatures}}),Object.defineProperty(t,"cloneNode",{enumerable:!0,get:function(){return o.cloneNode}}),Object.defineProperty(t,"moduleContextFromModuleAST",{enumerable:!0,get:function(){return s.moduleContextFromModuleAST}});var r=l;Object.keys(r).forEach(function(c){c==="default"||c==="__esModule"||Object.prototype.hasOwnProperty.call(e,c)||Object.defineProperty(t,c,{enumerable:!0,get:function(){return r[c]}})});var n=mt,a=la,i=Zr,u=je;Object.keys(u).forEach(function(c){c==="default"||c==="__esModule"||Object.prototype.hasOwnProperty.call(e,c)||Object.defineProperty(t,c,{enumerable:!0,get:function(){return u[c]}})});var o=hi,s=Mr}(li),Object.defineProperty(al,"__esModule",{value:!0});var ug=al.transform=fg,He=li,sg=Mr;function da(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?da=function(r){return typeof r}:da=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},da(t)}function lg(t,e){var r=[],n=!0,a=!1,i=void 0;try{for(var u=t[Symbol.iterator](),o;!(n=(o=u.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&u.return!=null&&u.return()}finally{if(a)throw i}}return r}function gi(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return lg(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function cl(t){return new Error("unknown function at offset: "+t)}function fg(t){var e;(0,He.traverse)(t,{Module:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){e=n.node})});var r=(0,sg.moduleContextFromModuleAST)(e);(0,He.traverse)(t,{Func:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){cg(n,r)}),Start:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){var a=n.node.index;if((0,He.isIdentifier)(a)===!0){var i=r.getFunctionOffsetByIdentifier(a.value);if(typeof i>"u")throw cl(a.value);n.node.index=(0,He.numberLiteralFromRaw)(i)}})})}function cg(t,e){var r=t.node,n=r.signature;if(n.type!=="Signature")throw new Error("Function signatures must be denormalised before execution");var a=n.params;a.forEach(function(i){return e.addLocal(i.valtype)}),(0,He.traverse)(r,{Instr:function(i){function u(o){return i.apply(this,arguments)}return u.toString=function(){return i.toString()},u}(function(i){var u=i.node;if(u.id==="get_local"||u.id==="set_local"||u.id==="tee_local"){var o=gi(u.args,1),s=o[0];if(s.type==="Identifier"){var c=a.findIndex(function($){var te=$.id;return te===s.value});if(c===-1)throw new Error("".concat(s.value," not found in ").concat(u.id,": not declared in func params"));u.args[0]=(0,He.numberLiteralFromRaw)(c)}}if(u.id==="get_global"||u.id==="set_global"){var f=gi(u.args,1),v=f[0];if((0,He.isIdentifier)(v)===!0){var I=e.getGlobalOffsetByIdentifier(v.value);if(typeof I>"u")throw new Error("global ".concat(v.value," not found in module"));u.args[0]=(0,He.numberLiteralFromRaw)(I)}}if(u.id==="br"){var S=gi(u.args,1),oe=S[0];if((0,He.isIdentifier)(oe)===!0){var ie=-1;i.findParent(function($){var te=$.node;if((0,He.isBlock)(te)){ie++;var le=te.label||te.name;if(da(le)==="object"&&le.value===oe.value)return!1}if((0,He.isFunc)(te))return!1}),u.args[0]=(0,He.numberLiteralFromRaw)(ie)}}}),CallInstruction:function(i){function u(o){return i.apply(this,arguments)}return u.toString=function(){return i.toString()},u}(function(i){var u=i.node,o=u.index;if((0,He.isIdentifier)(o)===!0){var s=e.getFunctionOffsetByIdentifier(o.value);if(typeof s>"u")throw cl(o.value);u.index=(0,He.numberLiteralFromRaw)(s)}})})}var dl={};Object.defineProperty(dl,"__esModule",{value:!0});var dg=dl.transform=vg,vl=li;function vg(t){var e=[];if(vl.traverse(t,{TypeInstruction:function(a){var i=a.node;e.push(i)}}),!e.length)return;function r(n){if(n.type==="Identifier"){var a=n,i=e.find(function(s){return s.id.type===a.type&&s.id.value===a.value});if(!i)throw new Error("A type instruction reference was not found ".concat(JSON.stringify(n)));return i.functype}if(n.type==="NumberLiteral"){var u=n,o=e[u.value];return o.functype}return n}vl.traverse(t,{Func:function(n){function a(i){return n.apply(this,arguments)}return a.toString=function(){return n.toString()},a}(function(n){var a=n.node;a.signature=r(a.signature)}),CallIndirectInstruction:function(a){var i=a.node;i.signature=r(i.signature)}})}function pg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var yg=ko,bi=function t(e,r,n,a){pg(this,t),this._ir=e,this._ast=r,this.exports=n,this.imports=a};function mg(t){var e=[],r=[];dg(t),ug(t),Hp(t),yg.traverse(t,{ModuleExport:function(a){function i(u){return a.apply(this,arguments)}return i.toString=function(){return a.toString()},i}(function(a){var i=a.node;i.descr.exportType==="Func"&&e.push({name:i.name,kind:"function"})})});var n=Mp(t);return new bi(n,t,e,r)}var hg=Object.freeze({__proto__:null,Module:bi,createCompiledModule:mg});function gg(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}else return Array.from(t)}var bg=ko,wg=ys,_g=wg.castIntoStackLocalOfType,xg=xs,Ig=xg.executeStackFrame,Eg=Zn,kg=Eg.createStackFrame,Mg=hs,Sg=Mg.ExecutionHasBeenTrapped;function $g(t,e,r,n,a){var i=a.checkForI64InSignature,u=a.returnStackLocal;return function(){var s,c=r.value.addr,f=e.funcaddrs.indexOf(c);if(f===-1)throw new ge("Function at addr ".concat(c.index," has not been initialized in the module.")+"Probably an internal failure");var v=n.get(c);if(v===null)throw new ge("Function was not found at addr ".concat(c.index));var I=v.type[0];if(i===!0){var S=v.type[1],oe=I.indexOf("i64")!==-1,ie=S.indexOf("i64")!==-1;if(oe===!0||ie===!0)throw new TypeError("Can not call this function from JavaScript: i64 in signature.")}for(var $=arguments.length,te=new Array($),le=0;le<$;le++)te[le]=arguments[le];if(te.length!==I.length)throw new ge("Function ".concat(c.index," called with ").concat(te.length," arguments but ")+v.type[0].length+" expected");var H=te.map(function(G,ae){return _g(I[ae],G)}),P=kg(H,v.module,n);return(s=P.locals).push.apply(s,gg(H)),P.labels.push({value:v,arity:I.length,id:bg.identifier(r.name)}),pl(t,v.atOffset,P,u)}}function pl(t,e,r,n){try{var a=Ig(t,e,r);if(n===!0)return a;if(a!=null&&a.value!=null){if(a.type==="label")throw new Error('res.type !== "label" error: unknown');return a.value.toNumber()}}catch(u){if(u instanceof Sg)throw u;var i=new ge(u.message);throw i.stack=u.stack,i}}function Yt(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yt=function(r){return typeof r}:Yt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yt(t)}function Fg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ng(t,e,r){return e&&yl(t.prototype,e),r&&yl(t,r),t}var Lg=rl,Ag=lh,Tg=Ag.createAllocator,Pg=dh,Og=Zn,Bg=Og.createStackFrame,jg=function(){function t(e,r){var n=this;if(Fg(this,t),!(e instanceof bi))throw new TypeError("module must be of type WebAssembly.Module, "+Yt(e)+" given.");this._externalElements={},this.exports={},this._allocator=Tg();var a={checkForI64InSignature:!0,returnStackLocal:!1};Yt(r._internalInstanceOptions)==="object"&&(a=r._internalInstanceOptions),Yt(r)==="object"&&Pg.walk(r,function(s,c,f){Yt(n._externalElements[s])!=="object"&&(n._externalElements[s]={}),n._externalElements[s][c]=f});var i=Cg(e._ast);if(i===null)throw new ge("Module not found");var u=Lg.createInstance(e._ir.funcTable,this._allocator,i,this._externalElements);u.exports.forEach(function(s){if(s.value.type==="Func"){n.exports[s.name]=$g(e._ir,u,s,n._allocator,a);return}if(s.value.type==="Global"){var c=n._allocator.get(s.value.addr);if(c==null)throw new ge("Global instance has not been instantiated");a.returnStackLocal===!0?n.exports[s.name]=c:n.exports[s.name]=c.value.toNumber();return}if(s.value.type==="Mem"){var f=n._allocator.get(s.value.addr);if(f==null)throw new ge("Memory instance has not been instantiated");n.exports[s.name]=f;return}if(s.value.type==="Table"){var v=n._allocator.get(s.value.addr);if(v==null)throw new ge("Table instance has not been instantiated");n.exports[s.name]=v;return}throw new Error("Unknown export type: "+s.value.type)}),this._moduleInstance=u;var o=e._ir.funcTable.find(function(s){return s.name===Es});o!=null&&this.executeStartFunc(e._ir,o.startAt)}return Ng(t,[{key:"executeStartFunc",value:function(r,n){var a=[],i=Bg(a,this._moduleInstance,this._allocator);pl(r,n,i,!0)}}]),t}();function Cg(t){var e=null;return ke(t,{Module:function(n){var a=n.node;e=a}}),e}var Ug=Object.freeze({__proto__:null,Instance:jg}),qg=ye(Ug),Gg=ye(ep),zg=ye(hg),ml=new ArrayBuffer(16);function Rg(){var t=new Int16Array(ml),e=new Int8Array(ml);return t[0]=25459,e[0]===115&&e[1]===99}var Dg=Object.freeze({__proto__:null,checkEndianness:Rg}),Vg=ye(Dg);function va(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?va=function(r){return typeof r}:va=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},va(t)}var Hg=Uc,Xg=Hg.parse,Wg=Sd,wi=Wg.decode,Zg=qg,_i=Zg.Instance,Qg=Gg,Jg=Qg.Memory,Kg=as,Yg=Kg.Table,xi=Qt,hl=xi.RuntimeError,eb=xi.CompileError,tb=xi.LinkError,gl=zg,pa=gl.createCompiledModule,rb=gl.Module,nb=Vg,ab=nb.checkEndianness,ob={instantiate:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,a){if(ab()===!1)return a(new hl("expected the system to be little-endian"));if(!(e instanceof ArrayBuffer)&&!(e instanceof Uint8Array))return a("Module must be either an ArrayBuffer or an Uint8Array (BufferSource), "+va(e)+" given.");var i=wi(e),u=pa(i),o=new _i(u,r);n({instance:o,module:u})})},compile:function(e){return new Promise(function(r){var n=wi(e);r(pa(n))})},validate:function(e){try{return pa(wi(e)),!0}catch{return!1}},instantiateFromSource:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Xg(e),a=pa(n);return console.warn("using deprecated instantiateFromSource"),new _i(a,r)},Instance:_i,Module:rb,Memory:Jg,Table:Yg,RuntimeError:hl,LinkError:tb,CompileError:eb},ib=ob;return ib}();
